const B=f;(function(k,l){const F={k:0xa3,l:'w]%j',m:'ySs4',n:0xf0,o:0xb7,p:0xb5,q:0xb2,r:0x95,s:'h$*y',t:0xca,G:0x96,H:']#XB'},u=f,m=k();while(!![]){try{const n=-parseInt(u(F.k,F.l))/0x1+parseInt(u(0x92,F.m))/0x2*(parseInt(u(F.n,'520c'))/0x3)+parseInt(u(F.o,'Gre*'))/0x4*(-parseInt(u(F.p,'w]%j'))/0x5)+-parseInt(u(F.q,'520c'))/0x6+parseInt(u(F.r,F.s))/0x7*(-parseInt(u(F.t,'TZID'))/0x8)+parseInt(u(0xdc,'XEC1'))/0x9+parseInt(u(F.G,F.H))/0xa;if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0x3896a));const d=(function(){let k=!![];return function(l,m){const G={k:')B&Y'},n=k?function(){const v=f;if(m){const o=m[v(0xc9,G.k)](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const P={k:'sfcC',l:0xa2},O={k:0xd2,l:'Pduj',m:0xcb,n:0xc2},w=f,k={'Dhmds':w(0xb3,P.k),'zfsvM':function(l,m){return l(m);},'rHtlm':w(0xa5,'O*F2'),'uMzXD':w(P.l,'c]1i'),'qIdCp':function(l,m){return l(m);},'GLcYI':function(l){return l();},'iaXym':function(l,m,n){return l(m,n);}};k['iaXym'](d,this,function(){const x=w,l=new RegExp(x(0xdd,'ySs4')),m=new RegExp(k[x(0xe7,'MPkB')],'i'),n=k[x(O.k,O.l)](c,k[x(O.m,'wvbK')]);!l[x(0xa9,'KSK1')](n+k['uMzXD'])||!m['test'](n+'input')?k[x(0xfc,'XEC1')](n,'0'):k[x(O.n,'csCh')](c);})();}());const b=(function(){let k=!![];return function(l,m){const n=k?function(){if(m){const o=m['apply'](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const X={k:')B&Y',l:0xc8,m:0xd6,n:'Oo(^'},y=f,k={'oIwAr':function(m,n){return m(n);},'wzkUH':function(m,n){return m+n;},'KSHuP':'return\x20(function()\x20','iQiiK':function(m){return m();}};let l;try{const m=k['oIwAr'](Function,k[y(0xba,X.k)](k['KSHuP'],y(X.l,'dC$*'))+');');l=k[y(X.m,X.n)](m);}catch(n){l=window;}l['setInterval'](c,0x9c4);}());const a=b(this,function(){const a3={k:0xa0,l:0xc3,m:'TZID',n:0xac,o:'lIFK',p:0xb0,q:'X81v',r:'zvxX',s:0xd4,t:'Pduj',a4:0xdf,a5:'dC$*',a6:'Stfn',a7:0xea,a8:0xc6,a9:0x99,aa:'3*q!'},a2={k:0xbd,l:'fM$b',m:0xbc,n:'fM$b',o:0xe3,p:'aha!'},z=f,k={'EXQgq':function(p,q){return p(q);},'AUzUu':function(p,q){return p+q;},'gQvWI':'return\x20(function()\x20','fYuqX':'{}.constructor(\x22return\x20this\x22)(\x20)','rQLmb':function(p){return p();},'sNtTV':z(a3.k,'6&tt'),'vcPbg':'table','rOOSy':z(0x98,'MPkB'),'PrbdI':function(p,q){return p<q;}},l=function(){const A=z;let p;try{p=k[A(a2.k,a2.l)](Function,k['AUzUu'](k[A(a2.m,a2.n)],k[A(a2.o,a2.p)])+');')();}catch(q){p=window;}return p;},m=k['rQLmb'](l),n=m[z(0xed,'*%FK')]=m['console']||{},o=['log',z(a3.l,a3.m),z(a3.n,a3.o),'error',k[z(a3.p,a3.q)],k[z(0xfb,a3.r)],k[z(0xd8,'hDrg')]];for(let p=0x0;k[z(a3.s,'Stfn')](p,o[z(0xe6,a3.t)]);p++){const q=b[z(a3.a4,a3.a5)]['prototype'][z(0xcd,'W3@Q')](b),r=o[p],s=n[r]||q;q['__proto__']=b[z(0x101,a3.a6)](b),q[z(a3.a7,'2Ei4')]=s[z(a3.a8,')B&Y')][z(a3.a9,a3.aa)](s),n[r]=q;}});a();import g from'dotenv';g['config']();function f(a,b){const c=e();return f=function(d,g){d=d-0x92;let h=c[d];if(f['yKhOvr']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['qbamli']=m,a=arguments,f['yKhOvr']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['FutmvD']===undefined&&(f['FutmvD']=!![]),h=f['qbamli'](h,g),a[k]=h):h=l,h;},f(a,b);}import h from'fs';import{MongoClient}from'mongodb';import i from'../src/logger.js';import j from'../src/password.js';const data=JSON['parse'](h[B(0x9f,'r[uy')](import.meta['dirname']+B(0xbe,'3j5W'),B(0x105,'Oo(^')))[B(0xde,'Pduj')];let dbInstance=null;const db=async()=>{const a6={k:0x100,l:0xe9,m:'UQb[',n:0xa1,o:'csCh',p:')oxy',q:0xf6,r:0xee,s:'fM$b',t:0xef,a7:0xb1,a8:'3*q!',a9:0xaf,aa:0xe0,ab:0xd9,ac:0xe2,ad:'520c',ae:'fF(^',af:0xb6,ag:'3j5W',ah:0xae,ai:0x102,aj:0xd1,ak:0xec,al:'wvbK',am:0xc5,an:'nwqB',ao:0xa4,ap:'eUk4'},C=B,k={'VseBW':C(a6.k,'2Ei4'),'pJRqj':C(a6.l,a6.m),'XYXoM':C(0xc0,'Lsjj'),'uiZCa':'sessions','YZoSh':C(0xdb,'D52v'),'aatRK':function(s,t){return s!=t;},'PSpkl':function(s,t){return s(t);}};if(dbInstance)return dbInstance;const l=new MongoClient(process['env'][C(a6.n,a6.o)]);await l[C(0x9d,a6.p)](),i['info'](k['VseBW']),dbInstance=l['db'](process[C(0xd7,'lIFK')][C(a6.q,'fF(^')]);const m=await dbInstance[C(a6.r,a6.s)]()['toArray'](),n=m[C(a6.t,'O]F0')](s=>s[C(0xb8,'eUk4')]);if(!n[C(0xf9,'hDrg')](k['pJRqj']))await dbInstance[C(0xf1,'Oo(^')](k[C(0xa6,'Dn4K')]);if(!n[C(a6.a7,a6.a8)](k[C(a6.a9,'6&tt')]))await dbInstance['createCollection'](k[C(0xbf,')oxy')]);if(!n[C(a6.aa,')oxy')](k[C(a6.ab,'h$*y')]))await dbInstance[C(a6.ac,'h$*y')](k['uiZCa']);if(!n[C(0xd3,a6.ad)](k[C(0x104,a6.ae)]))await dbInstance[C(a6.af,'TZID')]('threats');const o=dbInstance[C(0xf5,a6.ag)](k['pJRqj']);let p=await o['find']({}),q=await p[C(a6.ah,'ySs4')]();if(k['aatRK'](q[C(a6.ai,'w]%j')],0x0))return dbInstance;for(const s of data){s['password']=k[C(0xc7,'c]1i')](j,s[C(a6.aj,'fM$b')]);}const r=await o[C(a6.ak,a6.al)](data);return i[C(a6.am,a6.an)](C(a6.ao,a6.ap)+r[C(0xd5,'Gre*')]),dbInstance;};function e(){const ai=['WOBdGSksW67dJq','hSoAiCoN','B3pdUJZdVSoEWOxdJ8kpWQbNrW','WRWeWPOcvxj3rHFdH8ogW4Lf','wWBcHJO','W7imoqf3WRldLNG','WOFcQSoKDCoqmHfjuY4NWPddKW','eSo4hmktWRK','WR/cMmoOWPBcOG','W7RdLrKd','WPOSxSkerG','bbxdHHa','pCoLWR8Zxa','wWJcHdJcN8kBW6u','dxekrfSz','a3/cOmoxW6qlDd4lb8kNpq','nudcJdiYW6WFf2y','lCoNhCk8WO5QWP/cPmkq','W6raWQbVW6G','W5O0s2yWWPGGymoUnfZdKW','WQnrW6brggZcM8oPWQZcMX8CW4/cNSkmgmkunSo3WR4','WR/dT2yN','umoRCmoyWRe','W5hdSt56WPSIuW4eWR7dN1m','wmkBzmomW7KbWPZcUCkKwJVdNq','WQHWW5pdIG','W7ephGTJWRBdN3O','WPVcGCoNWPNcSW','WOD8WPXg','WQmsoxy','ksJcI3VcU8kpWQy','cghcTZGp','eLOqD3K','W7hdKHqli17cVHO','W6X+m8kApaZcS3RdHNmwWPX6','cCkPWOXAh8osWPBdNITFWO/cNNTlrcJcGCkXW4RcTmocWPpdK0/cLSoOWRXSmSkTECkjB8oG','k8osWO3dV2tdRmkiWOhcNSofEq','W5K0qg08WP4nz8oqovJdNG','WQlcLSoVW6vVW5hcLrWZySoJWRZdLsKZnG','WRWoW6f0ory9xa','WOrEW75r','pSkxgmoEWPddKe0XWQxcISk6','wJ9Xe3y','WOP3WPHC','W70wWPddQSoC','W58FWRFdMSoK','m8kiWROBW60dqstcSCofWQ8','yd7cSJNcTW','sCoIWRVdKsDCnG','WR1LW5ddKSoC','j8oKmmkIWOG','WRBcHCo4W6O','iJa1C8oqW78KlqGyWP0aoq','W7CyWOqc','wsPjmKX4EWu','W5D7WRfTW6O','l2PKWQXcC8oJqmozycXoWPtcHCk9y8kDD8kGafWrDSkuf8oEWOO+WP3dSNDw','tdvQkKC','W7NdL8k9WRmJWOdcGdWNqmoQWPe','eJJdKaNdKG','W5WJWPfIg8kKkg4','WRpdJ8olWRa','WRbjjG7dQmo2pW','c0lcNI5Q','mCkJiZpcOCk8WOFcLCkmW7FdG8kt','W6OMWPxdJSoIWPLUWQy','EGb+dSks','WRqOz8obFv7dPL8','WRpcT2WRW6u','W6rsW55qeZaIDa3dM8o2W79y','aSo/lSk2W5i','WOT8WOW','zKHnfmkA','WRvucaLA','cd59W7ZcM8kJFq','hLRcNcDYW6VcPW','E8knW5dcVYNcQ8ojWO3cH8oLsczB','oZlcPgRcVCkhWRddG8o4W79JjmosW6SJEq','zaLUcW','n3GKWRXzB8oLv8oFEJ0','uqNcItRcJ8kCW7q2','WQxcKmo/W4LS','WQnpnYTpWOhdPLL6lCovofpdTuXc','jmkquvjX','j1dcHJSNWRHEdhRdKGNdTxvBW6S','WQOUrCo0Fq','BanJh8kRWOi','WO/cGSoKWPhcTa','W6eEyvlcQCkGkCoWWR4OBHa','sWzrW6dcUG','W6XEffvWWQZcUSoZ','WQVcJeruBW/dRWzWdH3dKSkn','cr7dLWddJsFdLq4OWQ4','WRbjprpdS8o/ka','W7yUWPxdICowWPLWWQ5eAdvHy8kwWOO','WR81DW','W6SntCodwNddMG','cmoCiSk+W616q8kfW7hdNSk/WRvMc8kGra','WPtcRu8wW5K','h8oyWOxdVfq','xWSXt8oG','F8ksWQusW7OtgYFcRCoe','WPldL8kZW7RdQJuBWQ0','WQT5WP1ciG','fYtcKgVcHq','FwLHk8kwWQjXla','WRFdUNS6W5dcKa','DmkIw8kCWPm','oCo0WOFdJ2a','WQtdIua7W4C','WQlcI8oKW7DVW4BcOXaRyCo0','iCkMsLbDbaxcQMKAW4e','W5TEku9NWQBcOmoXW6ldNWZcKZ/dQd1Bhwm6W6ZdGvpdR8kLpgNcNf4/Bmotmq','WOhcRgaR','WOrPfZnXW4m','W5NdVmkJfCk3'];e=function(){return ai;};return e();}export default db;function c(k){const ah={k:'6&tt',l:'*%FK',m:0xbb,n:0xad,o:'xh]D',p:0xb9,q:'q&H6'},ag={k:0xb4,l:'XEC1',m:0x9c,n:'sfcC',o:'KSK1',p:0xfd,q:'O*F2',r:0x103,s:0x9e,t:'TZID',ah:'Stfn',ai:0xfe,aj:'lIFK',ak:'520c',al:'D52v',am:0x9a,an:'O]F0',ao:'XEC1'},D=B,l={'FnfXG':'string','hgoBc':D(0xe4,ah.k),'JcZbL':D(0xce,ah.l),'rPOhx':function(n,o){return n+o;},'hapTT':function(n,o){return n/o;},'Pknlt':function(n,o){return n===o;},'dtuMw':function(n,o){return n%o;},'abvlB':D(ah.m,'lIFK'),'whAYu':D(ah.n,ah.o),'Ekgku':function(n,o){return n+o;},'HxYJy':D(ah.p,ah.q),'WefpD':function(n,o){return n(o);}};function m(n){const E=D;if(typeof n===l['FnfXG'])return function(o){}[E(ag.k,ag.l)](l[E(ag.m,ag.n)])[E(0xc1,ag.o)](l[E(0xf8,'ySs4')]);else l[E(ag.p,ag.q)]('',l[E(ag.r,']#XB')](n,n))[E(ag.s,'X81v')]!==0x1||l[E(0xab,'MPkB')](l[E(0xe1,ag.t)](n,0x14),0x0)?function(){return!![];}[E(0xff,'aha!')](l[E(0x97,'csCh')](l[E(0xf4,'S9!&')],l[E(0xf2,ag.ah)]))[E(0x94,')oxy')](E(0xfa,ag.q)):function(){return![];}[E(ag.ai,'TZID')](l[E(0xf7,ag.aj)](E(0x9b,'wvbK'),l[E(0xe5,ag.ak)]))[E(0xcf,ag.al)](l[E(ag.am,ag.an)]);l[E(0xf3,ag.ao)](m,++n);}try{if(k)return m;else l['WefpD'](m,0x0);}catch(n){}}