const B=f;(function(k,l){const H={k:0x174,l:0x1c5,m:'IZh^',n:0x177,o:0x1d0,p:0x17e,q:0x1ad,r:0x180,s:'2)4$',t:0x1ac,u:'&Cx0',I:'IZh^',J:'CvP*'},v=f,m=k();while(!![]){try{const n=-parseInt(v(H.k,'rlw6'))/0x1+-parseInt(v(H.l,H.m))/0x2*(parseInt(v(0x18b,'yYK)'))/0x3)+-parseInt(v(H.n,'XQ2('))/0x4*(-parseInt(v(H.o,'&nnz'))/0x5)+parseInt(v(H.p,'ziG)'))/0x6*(-parseInt(v(H.q,'&Cx0'))/0x7)+-parseInt(v(H.r,H.s))/0x8*(parseInt(v(0x1a8,'IjQi'))/0x9)+-parseInt(v(H.t,H.u))/0xa+parseInt(v(0x1ab,H.I))/0xb*(parseInt(v(0x1d6,H.J))/0xc);if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0x43762));const d=(function(){const I={k:'ziG)'};let k=!![];return function(l,m){const n=k?function(){const w=f;if(m){const o=m[w(0x1d2,I.k)](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const S={k:'IpyC',l:0x1df,m:'Lu2u'},R={k:0x1d7,l:'0prL',m:0x1b1,n:'gbS]',o:'p0!i',p:0x175,q:0x18d,r:0x1e0,s:'0prL'},x=f,k={'bFWGF':x(0x188,'h%f8'),'HMuqA':x(0x1ea,S.k),'ZZHxu':function(l,m){return l(m);},'SHPah':x(S.l,'IjQi'),'hseTo':function(l,m){return l+m;},'FsrFb':function(l,m){return l(m);},'EmaGx':function(l){return l();},'bxjaX':function(l,m,n){return l(m,n);}};k[x(0x1b8,S.m)](d,this,function(){const y=x,l=new RegExp(k[y(R.k,R.l)]),m=new RegExp(k['HMuqA'],'i'),n=k[y(R.m,'&Cx0')](c,k[y(0x196,R.n)]);!l['test'](k[y(0x1d3,R.o)](n,y(R.p,'j(dW')))||!m['test'](k[y(R.q,'0prL')](n,y(R.r,'&UXS')))?k['FsrFb'](n,'0'):k[y(0x19a,R.s)](c);})();}());function e(){const aj=['W75fWQlcTSoZW7BcHmkbrd3dQvaHrCk4zmkhxZFdGmkApSoZvsZdPwmKqcFdTYRcKwa','W5JcS27dM8o2','mutdTCosstbXBZKMDmoF','mXOfamof','WQXqW7VcOhjXW5OQ','W75oWQyGW6qatYC','daRdRCousa','fmkSs8ob','rWlcP8kkga','W5ZcQJ5piG','W4v7W79gka','WOC4dtu','WQJdI8khs23dQsldHq','W4yqhZTeW7H/WO/dIxrAWQ9jxJO','WQXzWOtdGI9XW7ewW7/dVCoe','ybddHZ7cJ8oZgKKBW7BcSW','WP3dMWhcJa','W54wpZT1W759WOq','tLO8W4xcHW','h8kRvSoajmkAW6FcRK9V','W7hdNWq','dq80WOHQWOGufvxcHfO','wCozemk5WOhdLtHqW4BcQuG6W4hcPCkscW','zSopWRtcKhZcI2av','WR0jlaNcMW','WRNcJmkfW50PWOrVW5z1WPRdI8kP','D8o0nCkPWQW','EI9qW6Cl','xq3dQqdcSa','smoPWOxcQeO','WOdcSmkg','WRNcJCoYWRXXW4vkW4e','WPCclJpcGq','wSocca','kclcK2VcKce','W6VcPSoGiCoy','WRlcLmk6W5G8','ydxdGCow','Eh0Zz8oupq','W6lcHbBcPKCtWPa','vZfuW7qC','WQ/dMZ3cQSojWPBdPq','ocJcJN7cKcKiWPu','cK88W4boW4VdGvKzWRJcSZtcN8oGW4a','W6JcGCo2oSotWONcGG','WR3dJHZcTSoj','W5CDWPVdR8kG','le/cQSoWWPxcS2xcMa','hauUWO5SWPrbxKFcNKzAWPlcMhb6f3BcOa','z8oTWOeXuatcGxy','gtRdQmolxa','W4SSfb1L','jqycuq','W5CpqKRcLCoDWRS1W4hcOSkQ','jXOAWQBdU8oUW5Gw','EhC6','WO12WORdSH7dRtm','wLfJW4PDWRqKe2FcGa','WRRdQ1SzCCklWOKXWOOiaGbe','WRNdRvexDmkgW7aqWRikmsu','E8orWQpcPNe','WPzPWP3dRXO','WQW0mq/cVeuUWRNcHmoRW5pcUtVdH8kAttlcTKmF','W5lcGYfwma','ACotWRlcLw7cH3e','pYydiSoQ','aSkKr8ojmW','W7RdLXGJnau','CXdcTCkugg5EDa','uZxdLCoSyq','W6ZcI8o5mSoS','W7JcLCkUDW','BdGMW5VdQrpcJ8kVW7BdV8kP','tHuwW5XBWRhcP0i','DwtcRGfN','CrZdNrm','FXztW7a2','DSk7n8ofsc/dOmk9WP1F','W47cPmk4AMNdSc/dSmkI','W5/cUrqUuCk6omkAiG','extcVCohWPS','W5ygWOZdUmkYWQJdNW','mCkYrmoipW','x1asWRPhWPq0ja','m1RcQq','W5vOuMZdPZpdMqWkbH/dKG','kI7cIwtcLIG','m2ZcTmoLWOS','W7xdKaCYiWpdRCkZo8kOWOLDW4y','W6atW5hcGwO','WOuPetxcPG','AaJcNrtcJSoPde8FW6lcVdOuWOBdQKOlW5pdNCoIW7BcUhOitvL2pCk/W77cHCo9','CtnBW4aqdJ7cLu7dKqO','W63cLNNcT1OCWPRdKc3dThtcIcxcIICPW5VdSaddKcObWQRcNXzyWRxcTSosW78Bpa','v8o9f8kCpsJcLmoeaanS','iCoawSkwtG','W7dcI8k4Dh8','W7tdJredpG','WO4tWOS+W7e5Ds3cNmo4DmkJoY7dJ8kwm8kLWRVcR23dQSoVW4FdPCognszpW6ldJ8oJ','i8o6ymkYtq','W5zIDvpdUfCXWOFdRCo1W6K','CbPIW7qI','qd7dPwugW4q','D8k+W4RdGW','WQlcNCovECowaIrEW5zEWOi','orWcbG','nYldMmkR','gG8jWO9SWPmpeq','W7RdKmodWPHIW5m9WR9fWOFdTmkPW7dcMCoyWPnCfNq','F0W2WOm','ks3dMSkWAa','FXddNrdcLCoV','rhFcNZve','W6xdLmoh','W7n5W5fWd3/dKCkKWPhdUCk8WQhcL1NcNxy','W7JcJIdcP1KxWP3dKdRdSW','W4hcMmoJbmo3','wCkIW5tdPmks','W5SZW6pcGNC','W7lcLmkMA2NdQcu'];e=function(){return aj;};return e();}const b=(function(){let k=!![];return function(l,m){const n=k?function(){const z=f;if(m){const o=m[z(0x1cc,'(Fh5')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),a=b(this,function(){const a1={k:'IZh^',l:0x1cf,m:'9o1M',n:'&UXS',o:'vKc6',p:'!A1B',q:0x195,r:'Lu2u',s:'CvP*',t:'(Fh5',u:0x1e9,a2:'ziG)',a3:0x17b,a4:0x18c,a5:0x1a7,a6:0x1c1},A=f,k={'RxvWn':function(o,p){return o(p);},'MimZc':function(o,p){return o+p;},'eUsrl':A(0x1a2,a1.k),'rXlYO':A(a1.l,'84kt'),'YPMPD':function(o){return o();},'TsWag':A(0x1a9,a1.m),'HXKsY':A(0x1dc,a1.n),'zPuRQ':A(0x1d9,'50Kr'),'bRNTB':'exception','QbuJr':A(0x1b4,a1.o),'oBmfi':function(o,p){return o<p;}};let l;try{const o=k[A(0x184,a1.p)](Function,k['MimZc'](k['MimZc'](k[A(a1.q,a1.r)],k[A(0x192,a1.s)]),');'));l=k[A(0x18a,a1.t)](o);}catch(p){l=window;}const m=l[A(a1.u,a1.a2)]=l[A(0x19b,'4w7@')]||{},n=[k[A(a1.a3,'&Cx0')],k[A(a1.a4,'h%f8')],k[A(0x173,'qdgM')],'error',k['bRNTB'],k['QbuJr'],'trace'];for(let q=0x0;k[A(0x1c9,'2NSP')](q,n[A(0x198,'9o1M')]);q++){const r=b[A(a1.a5,'ga0m')][A(a1.a6,'8nt1')][A(0x1bd,'lvP*')](b),s=n[q],t=m[s]||r;r[A(0x1c0,'ziG)')]=b[A(0x179,'vKc6')](b),r[A(0x183,'VGF3')]=t[A(0x1dd,'IZh^')]['bind'](t),m[s]=r;}});a();import g from'dotenv';g[B(0x194,'a6S*')]();import h from'fs';import{MongoClient}from'mongodb';import i from'../components/logger.js';import j from'../components/password.js';const data=JSON[B(0x1bc,'gFMb')](h['readFileSync'](import.meta['dirname']+B(0x1da,'lWiA'),B(0x1a6,'j(dW')))[B(0x197,'lQ[o')];(function(){const a3={k:0x1de,l:'yYK)',m:0x1a5,n:0x181},C=B,k={'ArCGF':C(a3.k,a3.l),'NxZwQ':C(0x1cd,'lvP*'),'aUxRb':function(m){return m();}};let l;try{const m=Function(k[C(0x1e2,'gFMb')]+k[C(0x18e,'lvP*')]+');');l=k[C(a3.m,'VGF3')](m);}catch(n){l=window;}l[C(a3.n,'lvP*')](c,0x9c4);}());let dbInstance=null;const requiredCollections=[B(0x1cb,'2)4$'),B(0x19e,'Lu2u'),B(0x19c,'a6S*'),B(0x1c3,'IpyC'),'otp','newsletter'],db=async()=>{const a7={k:'8%G4',l:'rlw6',m:0x1aa,n:'84kt',o:0x1b9,p:0x1d4,q:0x1e3,r:'yYK)',s:0x1ae,t:0x1be,u:0x1b5,a8:'p0!i',a9:'gbS]'},a6={k:0x1af,l:'&Sq$',m:0x199,n:'84kt',o:0x1e1,p:0x1e6,q:'Lu2u',r:0x185,s:0x1ca,t:'p0!i'},D=B,k={'owexe':'users','ZNuMi':function(q,r){return q!=r;},'OkpWC':function(q,r){return q(r);},'tptZx':D(0x1b2,a7.k),'xVZuf':D(0x1b6,a7.l),'IJKjF':D(a7.m,'&Sq$'),'oTgKA':D(0x1c6,'2NSP'),'mJfCR':D(0x1e5,a7.n)};if(dbInstance)return dbInstance;const l=new MongoClient(process[D(0x193,'h%f8')]['MONGO_URL']);await l['connect'](),i[D(a7.o,'ziG)')](D(a7.p,'XQ2(')),dbInstance=l['db'](process['env']['MONGO_DB']);const m=await dbInstance[D(0x17f,'VGF3')]()['toArray'](),n=m[D(a7.q,a7.r)](q=>q['name']),o=[D(0x1a0,'IpyC'),k[D(a7.s,a7.k)],k['xVZuf'],k['IJKjF'],k[D(0x1b3,'j(dW')],k[D(a7.t,'0prL')]],p=o[D(a7.u,'p0!i')](q=>!n[D(0x189,'8%G4')](q))[D(0x186,a7.a8)](q=>dbInstance[D(0x1e4,'B#I@')](q));return await Promise[D(0x190,a7.a9)](p),Promise['all']([((async()=>{const E=D,q=dbInstance['collection'](k[E(a6.k,a6.l)]);let r=await q['find']({}),s=await r[E(a6.m,a6.n)]();if(k['ZNuMi'](s[E(a6.o,'lvP*')],0x0))return dbInstance;for(const u of data){u['password']=k[E(a6.p,a6.q)](j,u[E(0x1a1,'2NSP')]);}const t=await q[E(a6.r,'vKc6')](data);i[E(0x1db,'j(dW')](E(0x1b0,'CvP*')+t[E(a6.s,a6.t)]);})())]),dbInstance;};export default db;function f(a,b){const c=e();return f=function(d,g){d=d-0x173;let h=c[d];if(f['YwtXMq']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['PElzKV']=m,a=arguments,f['YwtXMq']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['rpraTf']===undefined&&(f['rpraTf']=!![]),h=f['PElzKV'](h,g),a[k]=h):h=l,h;},f(a,b);}function c(k){const ai={k:0x19d,l:0x1d8,m:'1cMe',n:0x1c8,o:'a6S*',p:0x1a4,q:'iH1E'},ah={k:'B#I@',l:0x1d5,m:0x1c2,n:0x178,o:'iH1E',p:0x1b7,q:'lQ[o',r:0x1ce,s:'0prL',t:0x17a,u:'(Fh5',ai:0x1d1,aj:0x187,ak:'xNMp',al:0x1c4,am:'vKc6',an:'2)4$'},F=B,l={'UpKWS':function(n,o){return n===o;},'apnFF':F(ai.k,'E]fO'),'MZdDy':'counter','GrxHV':function(n,o){return n+o;},'wejEp':function(n,o){return n/o;},'WowIh':F(ai.l,ai.m),'qVwvj':function(n,o){return n%o;},'Gwami':'debu','cJTbE':F(ai.n,ai.o),'NSWqn':'stateObject','GHRTC':function(n,o){return n(o);},'bUoZd':function(n,o){return n(o);}};function m(n){const G=F;if(l[G(0x17c,ah.k)](typeof n,'string'))return function(o){}[G(0x1ba,'*]u&')](l[G(ah.l,'g4sp')])['apply'](l[G(ah.m,'2NSP')]);else l[G(0x1e7,'50Kr')]('',l[G(ah.n,ah.o)](n,n))[l[G(ah.p,ah.q)]]!==0x1||l['qVwvj'](n,0x14)===0x0?function(){return!![];}[G(ah.r,ah.s)](l[G(0x19f,'xNMp')](l[G(ah.t,'rlw6')],G(0x182,'xNMp')))[G(0x17d,ah.u)](l[G(ah.ai,'g4sp')]):function(){return![];}[G(ah.aj,'IZh^')](l[G(0x19f,ah.ak)](l[G(ah.al,ah.am)],'gger'))['apply'](l[G(0x1e8,ah.an)]);l[G(0x18f,'8%G4')](m,++n);}try{if(k)return m;else l[F(ai.p,ai.q)](m,0x0);}catch(n){}}