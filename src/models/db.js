const B=f;(function(k,l){const F={k:0x241,l:'BTu[',m:0x224,n:'DBOq',o:0x223,p:'81[v',q:0x245,r:'O)m1',s:'dOi)',t:'QKLH',G:'T%tC',H:0x22f},u=f,m=k();while(!![]){try{const n=-parseInt(u(F.k,F.l))/0x1+-parseInt(u(F.m,F.n))/0x2+parseInt(u(F.o,F.p))/0x3+parseInt(u(F.q,F.r))/0x4+-parseInt(u(0x231,F.s))/0x5+-parseInt(u(0x1d7,F.t))/0x6*(parseInt(u(0x217,F.t))/0x7)+-parseInt(u(0x1e1,F.G))/0x8*(-parseInt(u(F.H,F.l))/0x9);if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0x5dbe3));function f(a,b){const c=e();return f=function(d,g){d=d-0x1cd;let h=c[d];if(f['yrYALX']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['ccFuin']=m,a=arguments,f['yrYALX']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['iKdNkC']===undefined&&(f['iKdNkC']=!![]),h=f['ccFuin'](h,g),a[k]=h):h=l,h;},f(a,b);}const d=(function(){const G={k:0x215};let k=!![];return function(l,m){const n=k?function(){const v=f;if(m){const o=m[v(G.k,'vmgg')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const O={k:0x211,l:'3o21',m:0x1e6,n:'&EHR',o:'Ce16',p:0x1f9},k={'nODse':function(l,m){return l+m;},'ubFfb':function(l,m){return l(m);},'Okpbz':function(l){return l();},'kOLCs':function(l,m,n){return l(m,n);}};k['kOLCs'](d,this,function(){const w=f,l=new RegExp('function\x20*\x5c(\x20*\x5c)'),m=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),n=c('init');!l[w(0x23b,'O)m1')](n+w(O.k,O.l))||!m[w(O.m,'[48M')](k[w(0x21f,O.n)](n,w(0x209,O.o)))?k[w(O.p,'Ya2O')](n,'0'):k[w(0x1d3,'[48M')](c);})();}());const b=(function(){const Q={k:0x240};let k=!![];return function(l,m){const n=k?function(){const x=f;if(m){const o=m[x(Q.k,'qcN8')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),a=b(this,function(){const Y={k:0x1dd,l:0x1df,m:'X*#P',n:0x21e,o:'rIL0',p:0x1fc,q:0x242,r:']1D@',s:'W%gr',t:0x219,Z:'h)33',a0:0x22a,a1:'3o21',a2:0x235,a3:'6J9%',a4:'T%tC',a5:'O)m1'},X={k:0x1e0,l:'6J9%',m:0x216,n:'QKLH',o:0x228,p:0x214,q:'vmgg'},y=f,k={'GHyJt':function(p,q){return p(q);},'kiiKp':function(p,q){return p+q;},'tuHpE':y(0x1f3,'BTu['),'slcxd':y(Y.k,'gOVl'),'iAUtt':function(p){return p();},'PGlXz':y(Y.l,Y.m),'lHBvb':y(Y.n,Y.o),'YCwyR':'error','lPhTh':y(Y.p,'qcN8')},l=function(){const z=y;let p;try{p=k[z(0x203,'DDYw')](Function,k[z(X.k,X.l)](k[z(X.m,X.n)](k[z(X.o,'EbA]')],k[z(X.p,X.q)]),');'))();}catch(q){p=window;}return p;},m=k[y(Y.q,'X*#P')](l),n=m[y(0x1db,Y.r)]=m[y(0x1eb,'scM[')]||{},o=[k[y(0x20c,'QHB(')],k[y(0x23a,'gOVl')],y(0x1d4,Y.s),k['YCwyR'],k[y(Y.t,Y.Z)],y(Y.a0,Y.a1),y(0x212,'7!HH')];for(let p=0x0;p<o[y(Y.a2,'lo5L')];p++){const q=b[y(0x225,Y.a3)]['prototype']['bind'](b),r=o[p],s=n[r]||q;q[y(0x1ef,Y.a4)]=b[y(0x1e4,'Njzs')](b),q[y(0x1e5,'[48M')]=s[y(0x202,'cmU2')][y(0x21c,Y.a5)](s),n[r]=q;}});a();import g from'dotenv';(function(){const a2={k:'QKLH',l:'rIL0',m:0x230,n:'&EHR'},A=f,k={'ocADA':function(m,n){return m(n);},'dQAQI':function(m,n){return m+n;},'XJlxy':A(0x1e2,'Ce16'),'FEbro':A(0x1e8,a2.k),'tixAI':function(m){return m();}};let l;try{const m=k[A(0x1cd,a2.k)](Function,k['dQAQI'](k[A(0x1fe,a2.l)],k[A(a2.m,'XaEH')])+');');l=k[A(0x1d2,a2.n)](m);}catch(n){l=window;}l[A(0x20e,'aBU0')](c,0x9c4);}()),g['config']();import h from'fs';import{MongoClient}from'mongodb';import i from'../components/logger.js';import j from'../components/password.js';const data=JSON[B(0x1fb,'PXRm')](h[B(0x21a,'T%tC')](import.meta['dirname']+B(0x234,'QKLH'),B(0x1d1,'BTu[')))[B(0x22c,'h)33')];let dbInstance=null;function e(){const ai=['W4RdI8oOW6zsW4qYW47dVhVcKxJdLW84pG','esxcR8oCfmkqDCk7','oCozhvddOq','W4bYWPbkW4m','W47dHmkEW4iQ','W7hcLZiF','W6j0zSkh','qCoFWPtdL8k7WQxdIIxcLmkxW73dMmor','WO4JE8kJsmoWr8kSy8oNuCoDh8kttSkjWQz3WQPi','CeW+WQKOb2u','WP7dMM1sgG','WOpdT8oXW7xdJNldH8k5AmkzqCoOeG','FCkjWR7cIhLWyq','WQtcNmkwWR7cOa','yY0jFHhdSdbxpCk2vq','WRXgtvddS8oh','WOL2C8k+','W6JcVXtcGSoVW7bVWO7dQSoiy8okW4xdJ34','CGGKdWq','WO58F8kLWOL/WQe','ermzwSkJ','rWSpoG','BSkSWP7cKvW','p8okW6/cPgS','cCoFW5NdUGBdICoagq','W44WhKSUiM8fqXpdUSomW4Dbeuq','W4JdICo9W6TF','EHnvW7P9E05gjCoimZ8','WPJcSSouBqK','wWmCWP4Q','D8kybrjerM3dHHRcNMddRdSJBfi2W47dNCkIW6TCWQtcVtKVhLezW5dcMq8','cLPoDKrKWR4jDCoQWRNcVG','WRVdRwPbashdTvyaWOTjW6JdMmoTgea','pfecWRW/','iZS7xYi','jmoPjSoX','W542cum0ia','WOVcMSk7W6KvvH/dPhWG','pfybW7y','W73cG8o+W49X','W45DWPrzW58','ymkiWPNcLq','W5NcQCkIWQdcGI/cKSkb','W6eAfGFcTmkCxmkVW7ldJx5ttIe','Eg1pi1lcTYH1imkFtaNcSW','WQFcGCkiWRPCu8kNrLq6FYlcNa','WQVdQ25ueaVdLfmjWOry','bCoQir1u','rSkLsmooW51xuq','zmk8WPBcSKm','bIz1t8kUWR4vW7BcV8knWRHHgs/cRMtcTCkDwmoaB8kqpq3cO0NcGSoGW4fWW7/dKG','W6FcUqNcHCoyW612WOhdU8oezq','WP3cNmoM','e8kIW57dP8oW','Fb8uW696e8kzy24VgHhcSmoj','WRuOFmkZsmoQaSoGjCo2umoDhSkxrmkjW7OTWRa','omoDW5VcNxW','a8o7iWG','W7vzWRDpW5DMEdy','W7vtWPDp','WRxcJSkHWQ7cH2C','nYvuEaZdRw1jpmkSwdBcTmoBBLlcRGRcPmomWPaMWQS3WPqLWRFdP1dcI8kwWQ8','E1FdPmorW6a','W7FcTba0W5i','WRqNu0xdMGvk','WRpcGCoWxXW','WRHyWR1CW4fctW','aSoZiqa','eNLrWQ0MvmoddL0','oILPcG','WRhdSwXmacddK0O','yWODbrC','o0CtWRS+jbW7j8oscXBdOe/dLM8OW5hcSW','tSk2WOFcTwe','WQlcMCovxWq','hJq1x8k1WQitW6hcUCkxWQK','gmogcSoOW6W','gmk4WQO','WPFcLSkoW6Of','jSocnsnp','WP1Yy8k4WOK','W4ZdGCoUW6jwW5uyW47dVG','W5ddISo3W4fj','u8oSW4pdNrG','W5hdMCkkW4RdLa','W4JcRSoYW79E','W6ZcHmoW','W6ldMSoUW7KDdmo5Aa','WPpcPCkSWO3cNa','WRhcG8kJ','omoFmfldLW','W6FcOv5mzapcPmkOW6KgdJ5t','WRifW50iWP0+ucvhycP+','W7zEWO1xW4aVpIvFtYGCq8oGoG','WQ4JEmkZtG','W77cUXefW40','amoJg2FdQ8ozm0/dJG','iSkOW4JcTSo4','WOSmdudcPSkgWP/cHCk5W6HyW5r3','W6BcNMreDuJdSsFdGdldJq','s8oiWQ53hhFcP8olDSoiu8oZ','DbitW6D7emoleKC7ib0','W5NdJCkDW4CH','idPLdmkd','rLddT8oGW7e','zCoiWPDzWR4','D8ouWOrnWQm','jZetubm','EXqlxcddPNK','WPxcLSoJBa','W6PlBCkGfa','p0naWRSpsCoanferjYy','W74Ol2WJ','uqCskG','k8o1jCo3W5HmEG','FmohW53dIW','W6FcPCocW71D','W6RcMmoJW69mW7mTuSo3W77cMHqfWRpcO8kQ','W5RdQreZW5m2oSoQWQ3dMXa','W63cOfHhyHlcSW','gIJcKSkMWP/dTWZcQmkjW43cQci','bCodxKSseYNdQJRdS0xdMZi','g8kKW5NdN8o0WPJdKJNdMCoxBG'];e=function(){return ai;};return e();}const db=async()=>{const a5={k:0x244,l:'DBOq',m:'[*&D',n:0x204,o:0x20b,p:'EbA]',q:0x239,r:'PXRm',s:0x1ce,t:0x201,a6:0x237,a7:'W%gr',a8:'%uBs',a9:0x23e,aa:0x247,ab:'BTu[',ac:'XaEH',ad:0x1d5,ae:'dOi)',af:0x1fa,ag:0x226,ah:0x1f4,ai:0x21b,aj:'&EHR',ak:0x23f,al:0x1dc,am:'W%gr',an:0x1ec,ao:'X*#P',ap:0x227,aq:'0r6h',ar:0x1d0,as:0x22b,at:0x22e,au:'Ce16',av:0x206,aw:'soz('},C=B,k={'yszFo':C(a5.k,a5.l),'aLvJE':C(0x205,'EbA]'),'GPxOj':C(0x21d,a5.m),'SjTFy':'sessions','mZiHH':'threats','BrqFa':function(s,t){return s!=t;},'pqCyH':function(s,t){return s(t);}};if(dbInstance)return dbInstance;const l=new MongoClient(process[C(a5.n,'DDYw')][C(a5.o,a5.p)]);await l[C(a5.q,a5.r)](),i[C(a5.s,'[*&D')](k[C(0x1fd,'qcN8')]),dbInstance=l['db'](process[C(a5.t,'&EHR')]['MONGO_DB']);const m=await dbInstance[C(a5.a6,'%gJT')]()[C(0x232,a5.a7)](),n=m[C(0x1f8,a5.a8)](s=>s[C(0x1f0,'7!HH')]);if(!n[C(a5.a9,'2BWO')](C(a5.aa,a5.ab)))await dbInstance[C(0x246,a5.ac)](k['aLvJE']);if(!n[C(a5.ad,a5.ae)](k[C(a5.af,'Njzs')]))await dbInstance[C(a5.ag,'qcN8')](k[C(a5.ah,a5.a7)]);if(!n[C(0x1f1,'XaEH')](k[C(a5.ai,'U^%l')]))await dbInstance[C(0x220,a5.aj)](k[C(0x1f5,'X*#P')]);if(!n['includes'](k['mZiHH']))await dbInstance[C(a5.ak,'U^%l')](k[C(a5.al,a5.am)]);const o=dbInstance['collection'](C(0x1e3,'kU^z'));let p=await o['find']({}),q=await p['toArray']();if(k[C(a5.an,a5.ao)](q['length'],0x0))return dbInstance;for(const s of data){s[C(a5.ap,a5.aq)]=k[C(0x233,'DDYw')](j,s['password']);}const r=await o[C(a5.ar,'Ya2O')](data);return i[C(a5.as,'oO@%')](C(a5.at,a5.au)+r[C(a5.av,a5.aw)]),dbInstance;};export default db;function c(k){const ah={k:0x1cf,l:'U^%l',m:0x208,n:'[48M',o:0x222,p:'Njzs'},ag={k:0x23c,l:'W%gr',m:0x1de,n:'%gJT',o:'V9RE',p:0x1f7,q:0x238,r:'b5!z',s:0x1e9,t:'kU^z',ah:0x1f6,ai:0x1ea,aj:'oO@%',ak:0x1ee,al:0x1e7,am:'DDYw',an:'w43b',ao:0x218,ap:0x229,aq:'[48M',ar:'50qR'},D=B,l={'gJakW':function(n,o){return n===o;},'fBEur':D(ah.k,ah.l),'hqszQ':D(ah.m,ah.n),'Vwrkr':D(ah.o,'soz('),'UAJvS':function(n,o){return n!==o;},'AfXAr':function(n,o){return n+o;},'BgoJM':function(n,o){return n/o;},'PdaKa':'length','RLODG':function(n,o){return n===o;},'rdQKd':function(n,o){return n%o;},'oMDDm':D(0x236,'PXRm'),'ADtqf':'gger','dxlqq':function(n,o){return n(o);}};function m(n){const E=D;if(l[E(ag.k,ag.l)](typeof n,l[E(0x20a,'oO@%')]))return function(o){}[E(ag.m,ag.n)](l['hqszQ'])['apply'](l[E(0x213,ag.o)]);else l[E(ag.p,'[*&D')](l[E(ag.q,'O)m1')]('',l[E(0x1ff,ag.r)](n,n))[l[E(0x1f2,'O)m1')]],0x1)||l[E(ag.s,'81[v')](l[E(0x23d,ag.t)](n,0x14),0x0)?function(){return!![];}[E(ag.ah,'gOVl')](l[E(ag.ai,ag.aj)]+l[E(0x200,'&EHR')])[E(ag.ak,'Njzs')](E(ag.al,ag.am)):function(){return![];}[E(0x221,ag.an)](E(ag.ao,'X*#P')+l[E(ag.ap,ag.aq)])[E(0x243,ag.ar)](E(0x1d9,'XaEH'));l['dxlqq'](m,++n);}try{if(k)return m;else l[D(0x1da,ah.p)](m,0x0);}catch(n){}}