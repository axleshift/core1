const L=f;(function(p,q){const Y={p:0x204,q:'bvtf',r:0x1b4,s:0x287,t:'H)E[',u:0x232,v:'D6T!',w:0x27d,x:'vJ@4',y:0x1ec,z:'zb[*',A:'Y1SM'},E=f,r=p();while(!![]){try{const s=parseInt(E(Y.p,Y.q))/0x1+-parseInt(E(Y.r,'1lgl'))/0x2+-parseInt(E(Y.s,Y.t))/0x3*(-parseInt(E(Y.u,Y.v))/0x4)+-parseInt(E(Y.w,'5x7Y'))/0x5*(-parseInt(E(0x1f7,Y.x))/0x6)+-parseInt(E(0x299,'r7a*'))/0x7+-parseInt(E(Y.y,'IYPs'))/0x8+parseInt(E(0x1f1,Y.z))/0x9*(-parseInt(E(0x23a,Y.A))/0xa);if(s===q)break;else r['push'](r['shift']());}catch(t){r['push'](r['shift']());}}}(e,0x3db41));const d=(function(){let p=!![];return function(q,r){const s=p?function(){const F=f;if(r){const t=r[F(0x1f6,'cea@')](q,arguments);return r=null,t;}}:function(){};return p=![],s;};}());(function(){const a8={p:0x1b7,q:'j!fN',r:0x23b,s:'1C21',t:0x254,u:'(Fwv'},a7={p:'[U16',q:0x1ef,r:'n6e^',s:0x235,t:0x281,u:'5RwL'},G=f,p={'oiqUx':G(a8.p,a8.q),'ZINqj':function(q,r){return q+r;},'zPTkJ':G(a8.r,a8.s),'bShdm':function(q,r){return q+r;},'atPhl':G(a8.t,'nt!h'),'olAHC':function(q,r){return q(r);},'qMwzv':function(q,r,s){return q(r,s);}};p[G(0x290,a8.u)](d,this,function(){const H=G,q=new RegExp('function\x20*\x5c(\x20*\x5c)'),r=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),s=c(p[H(0x1c5,a7.p)]);!q[H(a7.q,'x#^i')](p[H(0x25b,a7.r)](s,p['zPTkJ']))||!r[H(0x231,'cea@')](p[H(a7.s,a7.r)](s,p['atPhl']))?p[H(a7.t,a7.u)](s,'0'):c();})();}());function f(a,b){const c=e();return f=function(d,g){d=d-0x1b4;let h=c[d];if(f['jwAcOQ']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['xuVeZR']=m,a=arguments,f['jwAcOQ']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['lVdWoA']===undefined&&(f['lVdWoA']=!![]),h=f['xuVeZR'](h,g),a[k]=h):h=l,h;},f(a,b);}const b=(function(){let p=!![];return function(q,r){const s=p?function(){const I=f;if(r){const t=r[I(0x1fb,'1C21')](q,arguments);return r=null,t;}}:function(){};return p=![],s;};}()),a=b(this,function(){const ai={p:0x25e,q:'jHAz',r:0x201,s:']6Nw',t:0x1ce,u:'GNd*',v:0x222,w:'O(CN',x:0x206,y:0x280,z:'b%rw',A:0x1c0,B:0x1ee,C:'H)E[',D:0x28e,aj:'zb[*',ak:'GNd*',al:0x1dc,am:'IYPs'},ah={p:0x29c,q:'r7a*',r:'x#^i'},J=f,p={'tGdHt':function(u,v){return u(v);},'dzbhp':function(u,v){return u+v;},'ysHSw':function(u){return u();},'wEmvo':'log','kmZRq':J(ai.p,ai.q),'vfwVq':'error','QgtmG':J(0x29d,ai.q),'EdYVt':function(u,v){return u<v;}},q=function(){const K=J;let u;try{u=p[K(0x284,'s**e')](Function,p[K(0x239,'@TjS')](K(ah.p,ah.q)+K(0x1cd,ah.r),');'))();}catch(v){u=window;}return u;},r=p[J(0x1f4,'8u@(')](q),s=r[J(ai.r,ai.s)]=r[J(ai.t,ai.u)]||{},t=[p['wEmvo'],p[J(ai.v,ai.w)],J(ai.x,'s**e'),p['vfwVq'],J(ai.y,ai.z),J(0x2ab,'Bae$'),p[J(ai.A,'D6T!')]];for(let u=0x0;p['EdYVt'](u,t[J(0x29f,'vJ@4')]);u++){const v=b[J(ai.B,ai.C)][J(0x2a0,'xBso')][J(ai.D,ai.aj)](b),w=t[u],x=s[w]||v;v[J(0x1e0,ai.ak)]=b[J(0x20d,'5RwL')](b),v['toString']=x[J(ai.al,'5x7Y')][J(0x246,ai.am)](x),s[w]=v;}});a();import g from'dotenv';g[L(0x1ea,'k&QW')]();import{ObjectId}from'mongodb';import h from'express';import i from'bcryptjs';import j from'crypto';import k from'../../models/db.js';import l from'../../components/logger.js';import{addSession,removeSession,getUser}from'../../components/sessions.js';function e(){const ba=['WPtdPt1SWRhcSx8','WRJdJmo0W70','WOztnG','WRtdOmoCE8kVWO3cTSkyuSozW5i','gSoCa2yR','awZdSHq','W7ZcIuddSSo4W6C2W6pcGmoI','WOFdI8kkW6rXWP4','W4DpWONcKmkaW6KUWPJcVW','W4dcVMaTWRNcKwNdVLxcSq','WOzQW53cGq','W7WNW7D5rSo3W4/cV8kO','FJCyWRC','sCkHW4NdIhm','W77dR8ouWQdcHW','WQBcK8oNWR/dNq','iWijW6GlW5a','WRJdNCo7W63dHdS','BmodW4NcTCoIW6LocvCR','pSkmW7SK','g8kfBg9xE8oUWRbjBmkf','W71iWPBcNmkn','nfhcGfBdLG','t8khx8o/bCozp8kPzJhcO8kkW5uIW4ezW5NdNs3cJK3cQSoB','zLbtqmk0','W7/cPLldUG','A8kWW7/dMN8','l8klW5GYra','DmoCWQn3bHXKwSo7mCk9','WPtdGmo+','gSklW4dcMSoxxa','W4ddJmoPWQVcLG','pCkiW6yZqJHttq','WOFcJ8oeWOtdPq','sCoVz8oTDG','WPDXW5JcJmo9W68','W6VcVCkNaCoT','W7BdQNFcLmkgifxcUGxdICooFdJcL8oKw8krgSkVWP/dOHnoW5mFW6r4W5m/W7KAgmk+W4pcGIitWRxdGqRcVwpcU8oqWRvpuJ5NWQpdH8oXW7BdTJJdQaWDWPGsnvhcSH7cLmkYsZddGhm+WQebn1eGCYVdImkTbIbXW5DYWQ0','y8kmz8oVgW','WR4TW5PJjqW','c8kXWOy5W5q','W4GMW7Tpvq','W7FdLXxcL8kmo2ldJCokbW','r3ddSrWrWP0ZnCk+','DmktWQaeWPq','WQ/dL1xdM2G','W44KWQepkCkD','kmkcW4aTra','W4hdOCo3WO4','duxdGghcOLL5nCoxdG','yKPjASk/W4SEwM/cIq','W5TbWONcKa','WPHPbZpdTa','yCkgs8o0pG','lmoSneq','WOLFatm','W7ddGHVcK8kz','W4xcJ8kEW4vOWPqSW5C','BmozW43cVCo4','i0VdJryn','WP7dICo8n2G','rSo9iSoRD8oSsmoDt8oXWP/dL10kW5ONyhL7W57cR8koxLZcL8o5ov4zbwBcSG','W4ZcImk7gq','uSo0Fa','aNhdUXu','ieyDvea','DSorWRtdKG','W4Dkjd8Aiqq','DmoAWQVdTmkz','x8oPySoS','ccyfdmoVrgu','W5C4WQ0k','WO7dIHL0','W4DqlIOAkq','ySoPAa','WPeDFa','kqy/WR5cdca','WPbjadK','smoZACo6','W7OJW7jSr8oH','zSobtW','WOTtlsewjaNdGCkuW6y','WR4GW4HJnri','zCknbSoKyG','a8kRWQ4xW4S','aSkMWPOXW5lcGG','c8k0W53cPCoQ','jX4bW7aBWOnutW0QAhddHhqF','WP1pjd8','WORcQ3lcHSkDjKpdVKpdI8ojl33cH8kMu8oyfCkUW4VdQWupW48fWQG5W50','WQbZisBdSW','CbiGp8oc','ag/cK0ddHW','CCoFWRxdIa','WP1pjd9EjHRdJCkvW7W','yLDaz8kUW40oBghcKW','F8kgW7tdQx0','W5tdRNtcI8kqlei','qCkMWP4V','W7FdIHZcMSkDpxldU8oehq','WOFdMSkfW7q','W4CeWRmgaG','WP3dUtXX','WPJdICoopwK','iSkxW5RcGa','DmozqSo4vCoQ','W5HAWPVcKmkQW7q','W5VcOf9rnKK','ESocW4NcPSoL','kSo6p1ix','nH8gW7GXW40z','qCk3WPe/WOtcRG','WQJdJ8oQW4VdQW','W5xcJ8k1aZ/dTa','W47cNSkS','W4ddUKlcGCoe','W7tcLmkSmJ8','W6yJW6m','WPVdI8kB','ACkdbbW7W5q','WQRdV1pdRhS','jqymW70kW4yZvrO','ACkFbfP7WPe','ymkggmo2yGW','WPpdK03cISkdox8','nXCvnCoUWPWYw0/cTGxcTq','WQpcTK/dU2y','WQ7dKCo5W7ZdGtW1W6JdVG','CZi3WPTZ','WPVdMmouW57dGW','EmkpsSoJg8kxDSoLicxcOCkBW4qQW4OoW5hcKxu','hexdSdmm','imohW4NcPSo/W6PtEvKRumk5umkNnq','WQ8JC34','EJX0yfxcMr4MWQC','uSkFF8ogca','p3aKqNhcPG','W4lcO8kCgY0','nNC1DwG','W77cOCklomoPWRu','WPJdI8oZlxaLW6PxWQi4W78','W4RdGs7cVG','W5hdRItcLYW','W4WgWRuEoG','WOVdI8oUkG','W4BdSmoLWO7cOmowW696wCoRW44','C8oiumo4','xmkwAhLBB8oK','nmoFcxqc','W41hWPtcGmkqW6KQ','W73cP2HwnG','xb3cNdZcTW','W4VcJrBcRIxdLmoWW5xdM8ogW7y5na','dgVdSX4lWPO','ghlcHMddMqCaW5xdTx3dVCofW47dO8o3th4','WOVdM1xdO2dcJmoHWOZdLSoNW58xaGBdPmoBW6BdNCk6','CSomWQBdHCkZ','W4RcLmoOc2GUW6PU','A8oitCoRvmoX','WQW0CM7cQSk6WPRcTKO','ECkycqqRW4qlouRcPW','WPVdJmkCW5Pw','tK/cNCkMAq','B8k+irKR','WOjrgqay','bhlcVhC','WQ3dH8oBW4RdHa','iWiAW7uqW4q','WPRcM3FdQv0+WQq/tSoNWPSPDa','W6dcHmkKcSox','oCkiW7CSua','W5BdPCoOWPy','W5lcI0yPW6nmz8ozcSkLsse','W73cUSkzoa','WPhdRmk5W5fY','xCkDygK','WOtcJSoYWO/dPq','W6xcPNldJMC','xbJcGsdcSuPKn8oEiq','WO7dQmoUphi','pHKF','CmopWR7dR8kI','uJOocSo0va','iMSY','AXBcHZ7cGG','lMJcVq','W4BcU0K','Ew7cGmk9','exjBpCorFxWfWPO','hMJcQfddJa','rCknamoWEG1BWO0PWR3dJeuahaJdTSkMWR7cQmo7W4i','WPpdRZfQ','pCkgW6y0','dMVdUH83WOaI','WR7dTmoedwy','uCkSWPWNWPtcVIpcMmoLW5C','ACoyW4lcSmozW6jp','WOddMCkZpwS5W6XaWQqIW67dMeddOxhdHG/cOvFcLvD7W5tdKJ0+s1ZdGaxcQZC','yKPlDCk1W4qp','qXiIb8oN','cw7dUa','W6O4W790v8oXW7tcUmkIhW','W7xcLupdSa','pwiiz3m','W5BdQ8oQWONcSCoRW7HZsmoNW4G','W4qNW4v5xq','AwtcICkRAeSAx3FcI0hdIYy','wqpcLJlcSxbcn8oala','W6S4W7DH','WPddKCoFlf0','z0BdMSks','W5hcVSk7dIy','W5ldPfFcK8kdjKNcUq','zCorWRldImkIdSkb','DmkyeG','WQiWW757eW','xNPvDmk1W5WfBf8','FmouW5JcNCo4W7Hpjea+ta','W4JdPhm','WORdIKddOMFcKq','WOWgASknsuS','WOpdPtH6WRa','WPNdPsq','wbdcUd7cLW','nmknW7dcNSoHxCocWQtcS1BdVu8f','W7FdLXFcImkDkMpdH8orbSkZ','ACkfumoWamkE','mCoMlq','c8k3pSk4DmoXuSoDDmoL','x8o0W4dcSCo3','l2SRrxdcPWyrWR1ZWPW','WO/dGCoUkG','WQtdMCopW7pdHa','WPdcNxxdO1XAW7yvB8opWOK','WQK1EgG','W6hdIXZcIq','s8kWWRGyWOy','W53cP1Tx','W5tdTmo0WPBcVa','nCkEfmk/gmkVWPDfdmoSW6hdUCoA','WO3dKuRdS3W','WOLodIpdRa8','W5VdQ8oZ','BSobW5ZcUmoV','WPZdJfpdUwa','W4VcONtdKmoB','WPFdJrDUWQil','AgtcISkG','vc8edW'];e=function(){return ba;};return e();}import m from'../../middleware/auth.js';import n from'../../middleware/recaptcha.js';import o,{generateUniqueId}from'../../components/password.js';import{send}from'../../components/mail.js';const router=h[L(0x21f,'j&8i')]();router['post'](L(0x22c,'s**e'),async(p,q)=>{const am={p:0x218,q:'k&QW',r:'tVMy',s:0x289,t:'H)E[',u:0x202,v:0x293,w:0x26c,x:'pYKw',y:0x269,z:'j&8i',A:0x1b9,B:'NL]J',C:0x27c,D:'b%rw',an:0x1d2,ao:'bvtf',ap:'n6e^',aq:0x257,ar:'tozj',as:0x267,at:0x26d,au:'1C21',av:0x237,aw:'6ip4',ax:0x2a6,ay:'[U16',az:0x25d,aA:0x1de,aB:'0PeG',aC:0x26c,aD:0x272},M=L,r={'ieNPs':M(0x1c6,'nt!h'),'mQNFK':'Password\x20must\x20be\x20greater\x20than\x208\x20digit','CPhKX':function(s,t){return s!=t;},'cfpRZ':'Password\x20does\x20not\x20match','RoxEu':function(s){return s();},'occel':M(am.p,am.q),'qnJEs':function(s,t){return s===t;},'qfMQw':'true','cwQRb':'newsletter'};try{const {email:s,first_name:t,last_name:u,password:v,repeat_password:w,newsletter:x}=p[M(0x1c3,am.r)];if(!s||!t||!u||!v||!w||!x)return q[M(am.s,am.t)](0x190)[M(am.u,'b%rw')]();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/[M(am.v,'vJ@4')](s))return q[M(am.w,am.x)](0xc8)[M(am.y,am.z)]({'error':r[M(am.A,am.B)]});if(v[M(am.C,'nt!h')]<0x8)return q[M(0x212,am.D)](0xc8)[M(am.an,'iV)R')]({'error':r[M(0x2aa,am.ao)]});if(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[\W_]).{8,}$/['test'](v))return q['status'](0xc8)[M(0x24e,am.ap)]({'error':M(0x226,'5x7Y')});if(r[M(am.aq,'j&8i')](v,w))return q[M(0x211,am.ar)](0xc8)[M(am.as,']6Nw')]({'error':r[M(0x271,am.D)]});const y=await r[M(0x275,'7I7O')](k),z=await y[M(0x2a1,'0PeG')](M(am.at,'1C21')),A=await collection[M(0x1cc,am.au)]({'email':s});if(A)return l['error'](r['occel']),q[M(0x1f9,'n6e^')](0x199)[M(am.av,am.aw)]();await z['insertOne']({'email':s,'first_name':t,'last_name':u,'role':M(am.ax,am.ay),'password':o(v),'email_verify_at':'','created_at':Date[M(0x24c,'mJL1')](),'update_at':Date[M(0x1c2,am.x)]()});if(r[M(am.az,'[U16')](x,r[M(0x1d3,'H)E[')])){const B=await y[M(0x1d1,'5]vC')](r['cwQRb']),C=await x[M(0x296,'q&(]')]({'email':s});!C&&B['insertOne']({'email':s,'created_at':Date[M(am.aA,am.aB)](),'update_at':Date['now']()});}return q[M(am.aC,am.x)](0xc9)[M(0x263,'8u@(')]();}catch(D){l['error'](D);}return q[M(am.aD,'7I7O')](0x1f4)['send']();}),router[L(0x234,'q&(]')](L(0x24a,'Q5@j'),n,async(p,q)=>{const as={p:0x27b,q:'0PeG',r:'7I7O',s:0x25f,t:'Q5@j',u:'UNJe',v:0x295,w:'6ip4',x:0x22d,y:0x1c9,z:0x1ff,A:'tVMy',B:0x221,C:'b%rw',D:'1vK]',at:0x230,au:'j!fN',av:0x266,aw:'(Fwv',ax:'jHAz',ay:0x1e3,az:'r7a*'},N=L,r={'kVSTf':function(s,t){return s||t;},'FPPOe':function(s){return s();},'klubW':'users','UNybu':function(s,t){return s!=t;},'IPKWc':function(s,t){return s(t);},'fnASu':N(as.p,as.q),'ekUmq':N(0x273,as.r),'zOqbN':'x-forwarded-for','vqyIt':function(s,t,u,v,w){return s(t,u,v,w);},'uIDqe':N(as.s,as.t)};try{const {email:s,password:t}=p[N(0x20b,as.u)];if(r[N(as.v,as.w)](!s,!t))return q[N(0x270,'8u@(')](0x190)[N(0x200,'1vK]')]();const u=await r[N(as.x,'8u@(')](k),v=await u[N(0x207,'iV)R')](r[N(0x236,'k&QW')])[N(as.y,'s**e')]({'email':s});if(!v)return q[N(0x1e4,'mJL1')](0x194)[N(as.z,as.A)]();if(r[N(0x2a3,as.A)](r[N(0x274,'v*F0')](o,t),v[N(as.B,'Bae$')]))return q['status'](0x191)['send']();const w=j[N(0x1d7,'D6T!')](r[N(0x2a7,as.C)])[N(0x1be,as.D)](r['FPPOe'](generateUniqueId))[N(0x29a,'s**e')](r[N(as.at,'Bae$')]),x=p[N(0x294,as.au)][r[N(as.av,'(Fwv')]]||p[N(0x22f,as.aw)][N(0x1d6,'tVMy')];return r[N(0x1bd,as.ax)](addSession,v,w,x,p[N(0x294,'j!fN')][r[N(0x2a4,'0PeG')]]),q[N(as.ay,as.az)](0xc8)['json']({'token':w});}catch(y){l[N(0x1fc,'r7a*')](y);}return q[N(0x211,'tozj')](0x1f4)['send']();}),router[L(0x291,'x#^i')](L(0x244,'Q5@j'),m,async function(p,q,r){const ay={p:'IYPs',q:0x28f,r:0x1f3,s:'@TjS',t:0x1cb,u:'8u@(',v:0x1db,w:'7I7O',x:0x1e5,y:']6Nw',z:0x213,A:0x216,B:'q&(]',C:'cea@',D:0x1fe,az:0x26a,aA:0x23f,aB:'7I7O'},O=L,s={'yFdMI':function(z,A){return z!==A;},'wEoyl':'otp','WXJTB':function(z,A){return z*A;},'VflxR':function(z,A){return z*A;},'UsVsu':function(z,A){return z>A;},'uLsbv':function(z,A){return z-A;}},{_id:t,email_verify_at:u,...v}=p[O(0x24f,ay.p)];v[O(0x29b,'[U16')]=u!=='';if(s[O(ay.q,'zb[*')](p[O(ay.r,ay.s)]['email_verify_at'],''))return q[O(0x26b,'q&(]')](0xc8)['json'](v);const w=await k(),x=await w[O(ay.t,ay.u)](s[O(ay.v,ay.w)]),y=await x['findOne']({'token':p[O(ay.x,ay.y)],'verified':![]});if(y){const z=new Date(y[O(ay.z,'1C21')]),A=s[O(0x25c,'1vK]')](s[O(ay.A,ay.B)](0xa,0x3c),0x3e8);if(!s[O(0x297,'pYKw')](s[O(0x1bb,'x#^i')](Date[O(0x1fa,ay.C)](),z),A))return q[O(ay.D,'1lgl')](0xc8)[O(0x249,'1lgl')]({'otp':!![]});}return sendOTPEmail(p,x),q[O(ay.az,'vJ@4')](0xc8)[O(ay.aA,ay.aB)]({'otp':!![]});});const sendOTPEmail=(p,q)=>{const aC={p:'vJ@4',q:0x1f2,r:'xBso',s:0x1bc,t:'tozj',u:0x1bf,v:'H)E[',w:0x1f5,x:'pYKw',y:'x#^i',z:0x282,A:0x25a,B:0x1da,C:'gf6G',D:0x1ba},P=L,r={'XuAPa':function(t,u){return t+u;},'PNCYx':function(t,u){return t*u;},'bbMrq':function(t,u,v){return t(u,v);},'PqNGr':'One\x20Time\x20Password\x20(OTP)'},s=Math[P(0x298,'D6T!')](r[P(0x288,'k&QW')](0x186a0,r['PNCYx'](Math['random'](),0xdbba0)));Promise[P(0x251,aC.p)]([q['insertOne']({'user_id':p[P(aC.q,aC.r)]['_id'],'token':p['token'],'code':s,'verified':![],'expired':![],'created_at':Date[P(aC.s,aC.t)](),'updated_at':Date[P(aC.u,aC.v)]()}),r[P(0x21c,'Bae$')](send,{'to':p[P(aC.w,aC.x)][P(0x23d,aC.y)],'subject':r[P(aC.z,'b%rw')],'text':'Your\x20otp\x20is\x20'+s+P(aC.A,'5x7Y')},p[P(aC.B,aC.C)][P(aC.D,'D6T!')])]);};router['post'](L(0x27f,'NL]J'),m,async function(p,q,r){const aE={p:0x261,q:0x209,r:'a&ez',s:0x202,t:'b%rw'},Q=L,s={'xtSQF':function(t,u){return t(u);}};try{const t=await s[Q(aE.p,'x!HE')](getUser,p[Q(0x1f8,'r7a*')]);return q['status'](0xc8)['json']({'user':{'email':t['email'],'first_name':t['first_name'],'last_name':t[Q(aE.q,'q&(]')]}});}catch(u){l['error'](u);}return q[Q(0x228,aE.r)](0x1f4)[Q(aE.s,aE.t)]();}),router[L(0x1b5,'bvtf')](L(0x247,'1vK]'),m,function(p,q,r){const aG={p:0x225,q:'NL]J'},R=L,s={'fhMMq':function(t,u){return t(u);}};return s[R(aG.p,'bvtf')](removeSession,p['token']),q['status'](0xc8)[R(0x21a,aG.q)]();}),(function(){const aM={p:0x283,q:'k&QW',r:0x1d9},aL={p:'5]vC',q:0x1f0,r:'b%rw',s:0x279,t:'r7a*',u:0x23e},S=L,p={'MpVao':function(s,t){return s(t);},'YBToJ':function(s,t){return s+t;},'opUju':function(s,t){return s+t;},'SArzi':S(aM.p,aM.q),'kuBrY':function(s){return s();}},q=function(){const T=S;let s;try{s=p[T(0x1d5,aL.p)](Function,p['YBToJ'](p[T(aL.q,aL.r)](p[T(aL.s,aL.t)],T(aL.u,'IYPs')),');'))();}catch(t){s=window;}return s;},r=p[S(aM.r,'x#^i')](q);r[S(0x1e1,'1C21')](c,0x9c4);}()),router[L(0x243,'jHAz')](L(0x285,'1C21'),[m,n],async function(p,q,r){const aS={p:0x277,q:'Y1SM',r:0x1fd,s:'iV)R',t:'GNd*',u:0x23c,v:0x26f,w:'tozj',x:0x260,y:0x1ca,z:'x#^i',A:'[U16',B:0x219,C:0x20c,D:'5]vC',aT:0x21e,aU:'b%rw',aV:0x203,aW:0x20f,aX:'cea@',aY:0x286,aZ:'xBso'},U=L,s={'TDXNF':function(t){return t();},'KIYmu':U(aS.p,aS.q),'EPYSb':function(t,u){return t*u;},'guvFn':function(t,u){return t>u;},'xLAQO':function(t,u){return t-u;},'KkPZB':'system','NSnpH':function(t,u,v){return t(u,v);}};try{const t=await s[U(aS.r,aS.s)](k),u=await t[U(0x233,aS.t)](s[U(aS.u,'s**e')]),v=await u[U(aS.v,aS.w)]({'token':p[U(0x223,'IYPs')],'verified':![],'expired':![]});if(v){const w=new Date(v[U(aS.x,'GNd*')]),x=s[U(aS.y,aS.z)](s[U(0x217,aS.A)](0xa,0x3c),0x3e8);s[U(aS.B,'GNd*')](s['xLAQO'](Date[U(0x1e6,']6Nw')](),w),x)&&(await u[U(aS.C,aS.D)]({'_id':new ObjectId(v[U(aS.aT,aS.aU)])},{'$set':{'verified':![],'expired':!![],'updated_at':Date[U(aS.aV,'Q5@j')](),'modified_by':s[U(aS.aW,aS.aX)]}}),s[U(0x20e,'x!HE')](sendOTPEmail,p,u));}}catch(y){l['error'](y);}return q[U(0x250,'5]vC')](0x1f4)[U(aS.aY,aS.aZ)]();}),router[L(0x1c8,'Bae$')](L(0x215,'j!fN'),[m,n],async function(p,q,r){const aZ={p:'IYPs',q:0x253,r:'a&ez',s:0x26e,t:'6ip4',u:0x1d8,v:'5]vC',w:'UNJe',x:'Y1SM',y:'Q5@j',z:0x22a,A:0x264,B:0x28b,C:'H)E[',D:0x210,b0:0x220,b1:'cea@',b2:0x28c,b3:'bvtf',b4:0x1b6,b5:'Y1SM',b6:0x1df,b7:0x262,b8:0x248,b9:'(Fwv',ba:0x1e7,bb:0x1d0,bc:0x1c1,bd:'[U16',be:'@TjS',bf:0x255,bg:'z[L[',bh:0x27a,bi:'tozj',bj:0x259,bk:0x24b,bl:0x1e2,bm:'5x7Y',bn:0x238,bo:'z[L[',bp:0x278,bq:0x214},V=L,s={'nRAUp':function(t){return t();},'AqhWg':V(0x240,aZ.p),'zspCl':function(t,u){return t*u;},'cmScm':function(t,u){return t*u;},'JqyiI':function(t,u){return t>u;},'uHmQS':function(t,u){return t-u;},'eSRAv':'Expired\x20OTP','oiElC':function(t,u){return t!==u;},'baKmR':'Invalid\x20OTP','ifYyr':V(aZ.q,aZ.r),'mhZAm':V(aZ.s,aZ.t)};try{const t=p[V(aZ.u,aZ.v)][V(0x276,aZ.v)];if(!t)return q[V(0x224,aZ.w)](0x190)[V(0x265,aZ.x)]();const u=await s['nRAUp'](k),v=await u[V(0x252,aZ.y)](s[V(aZ.z,'5]vC')]),w=await v['findOne']({'token':p['token'],'verified':![],'expired':![]});if(w){const x=new Date(w[V(aZ.A,'@TjS')]),y=s[V(aZ.B,aZ.C)](s[V(0x268,'x#^i')](0xa,0x3c),0x3e8);if(s[V(aZ.D,'O(CN')](s[V(aZ.b0,aZ.b1)](Date['now'](),x),y))return q[V(aZ.b2,aZ.b3)](0xc8)[V(0x241,'s**e')]({'error':s[V(aZ.b4,aZ.b5)]});}if(s[V(aZ.b6,'a&ez')](w['code'],parseInt(t[V(aZ.b7,'5x7Y')](/[^0-9]/g,''))))return q[V(0x208,'Y1SM')](0xc8)[V(aZ.b8,aZ.b9)]({'error':s[V(aZ.ba,'D6T!')]});return await Promise[V(aZ.bb,'s**e')]([v['updateOne']({'_id':new ObjectId(w[V(aZ.bc,aZ.bd)])},{'$set':{'verified':!![],'updated_at':Date['now'](),'modified_by':s[V(0x227,'k&QW')]}}),u[V(0x22b,aZ.be)](s[V(aZ.bf,aZ.bg)])[V(aZ.bh,aZ.bi)]({'_id':new ObjectId(p[V(aZ.bj,aZ.y)][V(aZ.bk,'IYPs')])},{'$set':{'email_verify_at':Date[V(0x1eb,'6ip4')](),'updated_at':Date[V(aZ.bl,aZ.bm)]()}})]),q['status'](0xc8)[V(aZ.bn,'n6e^')]();}catch(z){l[V(0x229,aZ.bo)](z);}return q[V(aZ.bp,'0PeG')](0x1f4)[V(aZ.bq,'Bae$')]();});export default router;function c(p){const b9={p:0x2a8,q:0x1dd},b8={p:0x205,q:'6ip4',r:'@TjS',s:0x1ed,t:'1C21',u:0x22e,v:0x1cf,w:'Q5@j',x:0x1d4,y:'cea@',z:'7I7O',A:0x21b,B:'jHAz',C:0x242,D:'H)E[',b9:0x2a2,ba:0x292,bb:'O(CN'},W=L,q={'EUYFO':function(s,t){return s===t;},'rzWMH':W(b9.p,'tozj'),'PElea':W(0x258,'tozj'),'VitMz':W(b9.q,'jHAz'),'dXHlg':function(s,t){return s+t;},'pxWdY':W(0x256,'z[L['),'KYWdO':function(s,t){return s===t;},'jmXMk':function(s,t){return s%t;},'lBXbD':W(0x1c7,']6Nw'),'oswJR':'gger','rdlRO':'action','hllYq':function(s,t){return s(t);}};function r(s){const X=W;if(q[X(b8.p,b8.q)](typeof s,q['rzWMH']))return function(t){}[X(0x1e9,b8.r)](q[X(b8.s,b8.t)])['apply'](q[X(b8.u,'r7a*')]);else q[X(b8.v,'1vK]')]('',s/s)[q['pxWdY']]!==0x1||q['KYWdO'](q[X(0x2a5,b8.w)](s,0x14),0x0)?function(){return!![];}[X(b8.x,b8.y)](q[X(0x28a,b8.z)](q[X(b8.A,'x!HE')],q['oswJR']))[X(0x2ac,'cea@')](q[X(0x245,b8.B)]):function(){return![];}[X(0x28d,'x#^i')](q[X(b8.C,b8.D)]+q[X(b8.b9,'Y1SM')])['apply'](X(b8.ba,'cea@'));q[X(0x1b8,b8.bb)](r,++s);}try{if(p)return r;else q['hllYq'](r,0x0);}catch(s){}}