const F=f;(function(m,n){const M={m:'wGsH',n:0x162,o:0x1a6,p:0x1ab,q:'L#%n',r:0x1a9,s:0x184,t:0x188,u:0x1d2,v:'$UgT'},y=f,o=m();while(!![]){try{const p=parseInt(y(0x1ea,'QMk0'))/0x1*(parseInt(y(0x1b5,M.m))/0x2)+-parseInt(y(M.n,'mQ0e'))/0x3*(parseInt(y(M.o,'x6v0'))/0x4)+parseInt(y(M.p,M.q))/0x5+-parseInt(y(0x1c0,'LztA'))/0x6*(parseInt(y(0x1bf,'7pT$'))/0x7)+parseInt(y(M.r,'mQ0e'))/0x8*(parseInt(y(M.s,'lB#4'))/0x9)+-parseInt(y(M.t,'1&d('))/0xa*(-parseInt(y(M.u,M.v))/0xb)+-parseInt(y(0x189,'mQ0e'))/0xc;if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x650cc));const d=(function(){let m=!![];return function(n,o){const N={m:'wGsH'},p=m?function(){const z=f;if(o){const q=o[z(0x181,N.m)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const U={m:0x186,n:'$UgT',o:0x1e4},T={m:0x1cf,n:'wGV9',o:'0[V4',p:0x17e,q:'vh2x',r:0x1a8,s:0x17f,t:0x1c4,u:'9DC5',v:0x165,w:'aF0C'},A=f,m={'RSZBR':'function\x20*\x5c(\x20*\x5c)','mjblW':A(0x1a1,'SopO'),'ZWJIw':function(n,o){return n(o);},'Idsez':A(U.m,U.n),'YTPbH':function(n,o){return n+o;},'BcFam':A(U.o,'@C*n'),'FPnUx':'input'};d(this,function(){const B=A,n=new RegExp(m[B(T.m,T.n)]),o=new RegExp(m['mjblW'],'i'),p=m['ZWJIw'](c,m[B(0x17b,T.o)]);!n[B(T.p,T.q)](m[B(T.r,'lB#4')](p,m[B(T.s,'cSpC')]))||!o[B(0x1b6,'fr%H')](m[B(0x1be,'SopO')](p,m[B(T.t,T.u)]))?m[B(T.v,T.w)](p,'0'):c();})();}());const b=(function(){let m=!![];return function(n,o){const p=m?function(){const C=f;if(o){const q=o[C(0x198,'Ceh6')](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a4={m:0x1b0,n:'$UgT',o:0x175,p:'SopO',q:'l9Uy',r:0x19b,s:0x1c1,t:'*wv9',u:'l9Uy',v:0x182,w:'fr%H',x:0x1b4,a5:'LztA',a6:'pwri',a7:0x1e2,a8:'pwri',a9:0x172,aa:0x18f,ab:'wGV9',ac:0x195,ad:'cSpC',ae:'1&d('},a3={m:0x1ad,n:'l9Uy',o:0x18e,p:0x1de,q:'nhji'},D=f,m={'RxMKp':function(r,s){return r+s;},'myHhc':function(r,s){return r+s;},'hvVqz':'{}.constructor(\x22return\x20this\x22)(\x20)','XpwNF':function(r){return r();},'eTbzr':D(0x1d8,'HTWZ'),'evHMb':D(a4.m,a4.n),'jRxDs':D(a4.o,a4.p),'Cswgb':D(0x1cc,a4.q),'AUBMV':'trace','iwRen':function(r,s){return r<s;}},n=function(){const E=D;let r;try{r=Function(m[E(a3.m,a3.n)](m[E(a3.o,'rZjk')](E(a3.p,a3.q),m['hvVqz']),');'))();}catch(s){r=window;}return r;},o=m[D(a4.r,'9DC5')](n),p=o[D(a4.s,a4.t)]=o[D(0x1c6,'lB#4')]||{},q=[D(0x168,a4.u),D(a4.v,a4.w),m[D(0x1db,'v5GP')],m[D(0x173,'oMXI')],m[D(a4.x,a4.a5)],m[D(0x18a,a4.a6)],m[D(0x15f,'LztA')]];for(let r=0x0;m[D(0x19d,'czii')](r,q[D(0x1e3,'HTWZ')]);r++){const s=b[D(a4.a7,a4.a8)][D(0x1cb,'cwt[')][D(a4.a9,'S5o%')](b),t=q[r],u=p[t]||s;s[D(0x1c8,'hx#c')]=b[D(a4.aa,a4.ab)](b),s[D(a4.ac,a4.ad)]=u[D(0x1e5,a4.ae)]['bind'](u),p[t]=s;}});a();import g from'dotenv';g[F(0x16b,'P1ek')](),(function(){const a8={m:0x161,n:0x199,o:'RFZW',p:0x1ee,q:0x16e,r:'lB#4',s:'HTWZ',t:0x1b8,u:'mQ0e'},G=F,m={'GtaFl':function(o,p){return o(p);},'LkjNK':function(o,p){return o+p;},'ltMLI':G(a8.m,'x]0x'),'AiPWW':G(a8.n,a8.o),'cxeUI':function(o){return o();}};let n;try{const o=m[G(a8.p,'0odp')](Function,m[G(a8.q,'cSpC')](m[G(0x1f0,a8.r)]+m[G(0x160,a8.s)],');'));n=m[G(a8.t,a8.u)](o);}catch(p){n=window;}n['setInterval'](c,0x9c4);}());function f(a,b){const c=e();return f=function(d,g){d=d-0x15f;let h=c[d];if(f['yyFNZk']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['ZlEGTD']=m,a=arguments,f['yyFNZk']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['bqgyij']===undefined&&(f['bqgyij']=!![]),h=f['ZlEGTD'](h,g),a[k]=h):h=l,h;},f(a,b);}import{ObjectId}from'mongodb';import h from'express';import i from'../../src/logger.js';import j from'../../models/db.js';import k from'../../middleware/auth.js';function e(){const ax=['WPjHWRadW64','cx3cPHtdGG','z8knvCobWO5dWPu','zglcRSowWQ8','WPjrjmoSW5LFvt3dHG','WPmxj8ow','p8owzmoYWOy','r8ofkCkIxmohW73dKwa','W5ddP8kIW5xdIW','WPDKW5OFp8k6','W7RcGSoMWQ4F','amoMyLCS','WR5RoSo6','EmkqaCkJA2SjW7JcPmoF','W41dEmklW6bYmKhcLmkJzem','y8kmBSk+W5Tv','W73cGmoZWQSbw2i','WQDAWRCM','W7qAW7/dPq','jGBdHmk1W7ddGhpcISkcoSoOACkb','W4ZcQefP','iCoqvNe','tgldGCoHtW','W7tdU8oaW7JcPq','W4DYacRdRmo2ba','vXtcImkwfSolW44','y8oJWQPDsmkOW6zsWQ7dO8k5WROEifFdRtHdWPG','WQuyBSkrb2XYWOTghq','WOv5W4K','W4FdQCk1W5FdMSklDW','C8kxyCk5W5PuuSk9WPaYWRi','W4NcO0LHAmk0','duRdTSkmWR0','W4Gltty6WPhdSSkM','dbVcSmoZ','zbiHfG','WO8zoSog','W44It8k8bG','erddRSoopCkLACkZya','F8kLwHa','ESkJwGFcVt40WQxdKvWs','WQDIWQWbBG','W4tdVK3dGSkR','qeJdTCobFauuW68rW4u','AmkwDSo+WQG','WOFcImo4W7S','W6JcHSo3WRytqa','bSoXm8kCW5i','W6tcR3DrsW','WOzoW67cSmoXyxTqltSBaJFdNSo4Btymnq','rmoOW4mUt8oyDXz2WOxdG8kR','eHpcT8o8iCkMt8kw','AmkAa8kR','W4GKW5VdImok','WRLHp8o7W5G','sHxcUSkbfSoEW7HrEq','W4JdQCkN','rKRcRSoYhG','hSoYW7We','oColEmo7WP3dTW','p8ksWOnkeW','WOrkW6JcPmoUFa','pSk9nIxdTW','qtBcUtZcUa','ve/dSmobFeziW7imW54Ydmoybmkt','WOBcPcBdJCobWRj6W7TEW5pcUG','qrlcP8ka','W5K5rCkjha','gSkRWPf1gmkgta','WQ9jWOmdtuZdUwpcVa','W6FdT3zHWRi','W70PDayn','nLH5Fq','i8kvlJhdLq','DKxcH8oPWR8','WQZcRZVdM8op','W7pdGmogW7S','W7CdBqyf','tmoblaG','mmk1gGRdKq','W64aWRhdR8kM','AW3cQbtcOa','yby9ha','WRbuWRWJ','nCosa8oIWQP/WP7dPg0','xCk0C1hdImoSW5Wa','WPyyimog','WRONW4flja','WO9uFrSGWRpdISke','tCoQW4CSsCoxcHf4WOBdL8kWWPa','u8klEmkTW4W','u0dcQ8o2pCks','W7ddVK3dSmkIoW5/lSkgla','qeldSmob','W6xdI2zfWOC','mmoCvNe','qSoMpSk1xG','W5hcQuXJCG','gmkLmWu','WODFW7VcSCo2Fa','W47dTCkVW5C','bSk5dX/dJSo8W4ic','W6RdOMrRWPW','WPTYWPi8va','ah3cRcZdVW','W6dcJ8k4WQejxwu2WOhcJJTKWPhcPCo5WP3cG8o5W6VdVCoAW4zwW5LrFCkHWQBdTCkfcrG','W47dGCkNW47dUq','WOXbWQKyW5a','x8obkW','FKlcPCoGWQG','eKldU8orvSkBWObgwmobkCkiW4a','e2b3xcC','W6jkoCof','WPyAWRXnhrlcUdpdQmoJnaFdS8ocW4tcNSoPomoSWRVcSrdcHSknWP9pWO9xWPVdRSk5W5VdO8k/','W6JdNCoPW43cVa','vHpcOmoxW6pdP8obW6O9WPytW5q','yuj5WOBcJmk0','W7ZcLCoZWRa','sCozW4iqW5xdNcC','WQRcRCoWW7fZ','xCk2A8oqWQK','t8oSW4yQr8oEEXjLWOBdHSkK','W5BcSKzYACkV','iWCSW4RdGmo+W44QfCoZWQFdMSkU','W4PynJtdMG','W7BdVSknW7ldNG','WPFcTSkJW6ddHSkLu8ol','W7pcTuzsFW','WPOeo8oDWQu','WRvsWQO/W7NcVW','eNNcRINdQb0','WP9Dm8oZW54','lCo2cCkvW7C','pKRdOuJcNJDxb8kKW4O','yXi8bG','d8k8WPP4','h8kHWPfjnG','dgLmDbm','WOH1W5umpSkH','hSo8W7WeW5JdJqhdRSoNjW','W61CWRqWytraWQddRH7cHCkO','iSoAs2e','WPnLWRaeDq','W5tdNSkUWRCWWOuKECk8WPe7WQHv','DSkwh8k6W7xcSmk1BG','W6GDWQ3dS8k7W4ldOq','ASkwvIpcRa','huFdUCkb'];e=function(){return ax;};return e();}import l from'../../middleware/recaptcha.js';import{getUserId}from'../../src/sessions.js';const router=h['Router'](),limit=0x14;router[F(0x1e8,'$UgT')]('/',k,async(m,n)=>{const ae={m:'B]1q',n:0x17c,o:0x178,p:0x1a7,q:'7pT$',r:'Ceh6',s:0x1c2,t:0x1d1,u:0x1d4,v:0x1dd,w:'l9Uy',x:0x18d,af:'0okx',ag:0x1ca,ah:'P1ek',ai:0x164,aj:'Bah3'},H=F,o={'UYiDM':function(p,q){return p(q);},'OJlsq':function(p,q){return p*q;},'hpzTD':function(p,q){return p-q;},'sZbWe':function(p){return p();},'mSLgS':function(p,q){return p/q;}};try{const p=await o[H(0x19f,ae.m)](getUserId,m['token']),q=parseInt(m[H(ae.n,'v5GP')][H(ae.o,ae.m)])||0x1,r=o[H(ae.p,ae.q)](o[H(0x1c5,ae.r)](q,0x1),limit),s=await o[H(ae.s,'(Ed3')](j),t=s[H(ae.t,'Bah3')](H(ae.u,'RFZW')),u=await t['countDocuments']({'user_id':new ObjectId(p)}),v=await t[H(0x1d6,'aF0C')]({'user_id':new ObjectId(p)})[H(0x1d5,'9DC5')](r)['limit'](limit)[H(ae.v,'S5o%')]();return n['status'](0xc8)[H(0x194,ae.w)]({'data':v,'totalPages':Math[H(ae.x,ae.af)](o[H(0x1ed,'SopO')](u,limit)),'currentPage':q});}catch(w){i[H(ae.ag,ae.ah)](w);}return n['status'](0x1f4)[H(ae.ai,ae.aj)]();}),router[F(0x19c,'vh2x')](F(0x1e6,'QMk0'),k,async(m,n)=>{const ah={m:'cwt[',n:0x166,o:'hx#c',p:0x16d,q:0x1cd,r:'VTJR',s:0x196,t:'rZjk',u:0x1ef,v:'0okx',w:0x174,x:'Z1(F',ai:0x1ba,aj:'VTJR',ak:0x1a4,al:'L#%n',am:'2bo9'},I=F,o={'uQxcm':function(p,q){return p(q);},'bPJFx':function(p){return p();}};try{const p=await o[I(0x190,ah.m)](getUserId,m[I(ah.n,ah.o)]),q=m[I(ah.p,'x]0x')]['id'];if(!q)return n[I(ah.q,ah.r)](0x190)[I(0x1d0,'hx#c')]();const r=await o[I(ah.s,ah.t)](j),s=r[I(ah.u,ah.v)](I(ah.w,'mQ0e')),t=await s[I(0x1eb,'(Ed3')]({'user_id':new ObjectId(p)})[I(0x1dc,ah.x)]();if(!t[I(ah.ai,ah.aj)])return n[I(0x193,'x]0x')](0x194)['send']();return n['status'](0xc8)[I(0x192,'cSpC')]({'data':t});}catch(u){i[I(0x180,'*wv9')](u);}return n[I(ah.ak,ah.al)](0x1f4)[I(0x1a0,ah.am)]();}),router[F(0x1bd,'wGV9')](F(0x185,'cSpC'),[k,l],async(m,n)=>{const ak={m:0x1c9,n:0x1f1,o:'7pT$',p:'QMk0',q:0x1aa,r:'wGV9',s:0x16c,t:0x1b7,u:'mQ0e',v:0x191,w:0x1e9,x:0x1f2,al:'RFZW',am:'fr%H',an:'*wv9',ao:0x1d3,ap:0x1c3,aq:'@C*n'},J=F,o={'InqOU':function(p,q){return p||q;},'XdCeF':J(0x1e0,'VTJR'),'CAard':J(ak.m,'$UgT'),'CKwVl':'sea','yEwlD':function(p,q){return p(q);},'rmBxx':'freight'};try{const {shipper:p,consignee:q,shipment:r,shipping:s}=m[J(ak.n,ak.o)],t=m[J(0x18b,ak.p)]['type'];if(o['InqOU'](!p,!q)||!r||!s||!t)return n[J(ak.q,'HTWZ')](0x190)[J(0x1d9,ak.r)]();if(![o['XdCeF'],o['CAard'],o[J(ak.s,'mQ0e')]]['includes'](t))return n['status'](0x190)[J(ak.t,ak.u)]();const u=await o[J(0x1ac,'Z1(F')](getUserId,m[J(ak.v,'HTWZ')]),v=await j(),w=v[J(0x1bb,'x6v0')](o[J(ak.w,'oMXI')]);return await w[J(0x167,'S5o%')]({'user_id':u,'data':{'shipper':p,'consignee':q,'shipment':r,'shipping':s},'type':t,'created_at':new Date(),'updated_at':new Date()}),n[J(ak.x,ak.al)](0xc9)[J(0x1e7,ak.am)]();}catch(x){i[J(0x180,ak.an)](x);}return n[J(ak.ao,'pwri')](0x1f4)[J(ak.ap,ak.aq)]();});export default router;function c(m){const aw={m:0x1b2,n:'Ceh6',o:'0okx',p:'l9Uy',q:0x183,r:0x1a5,s:0x18c,t:'l9Uy'},av={m:'HTWZ',n:0x1a2,o:0x17d,p:'1&d(',q:'RFZW',r:0x187,s:'bg)e',t:0x169,u:'QMk0',v:0x1b9,w:'1&d(',x:0x171,aw:'SopO',ax:0x16a,ay:0x1b1,az:'9DC5',aA:0x1da,aB:0x17a,aC:'hx#c'},K=F,n={'VsaTc':function(p,q){return p===q;},'yrKOk':K(aw.m,aw.n),'KgsDM':K(0x170,aw.o),'sWYSi':K(0x1e1,aw.p),'eNDBr':function(p,q){return p!==q;},'ekweN':function(p,q){return p+q;},'JPRly':function(p,q){return p/q;},'AMjDE':function(p,q){return p%q;},'QCrZi':K(aw.q,'9DC5'),'oEXLV':K(aw.r,'RFZW'),'KKaDa':function(p,q){return p+q;},'RSgmh':K(aw.s,'0odp'),'jGgwW':function(p,q){return p(q);}};function o(p){const L=K;if(n[L(0x1af,av.m)](typeof p,n[L(av.n,'v5GP')]))return function(q){}[L(0x1ec,'(Ed3')](n[L(av.o,av.p)])[L(0x1ce,av.q)](n[L(0x1c7,'czii')]);else n[L(av.r,av.s)](n[L(av.t,av.u)]('',n[L(av.v,'B]1q')](p,p))['length'],0x1)||n[L(0x177,av.w)](p,0x14)===0x0?function(){return!![];}[L(av.x,'0[V4')](n[L(0x197,av.aw)]+n[L(0x176,'rZjk')])[L(av.ax,'x6v0')](L(av.ay,av.az)):function(){return![];}['constructor'](n[L(0x16f,'wGsH')](n[L(0x179,'cSpC')],n[L(av.aA,'0okx')]))[L(av.aB,'czii')](n[L(0x1b3,av.aC)]);o(++p);}try{if(m)return o;else n[K(0x19a,aw.t)](o,0x0);}catch(p){}}