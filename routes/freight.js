const E=f;function f(a,b){const c=e();return f=function(d,g){d=d-0x7c;let h=c[d];if(f['ohplXO']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['DIhmtb']=m,a=arguments,f['ohplXO']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['vxBwqY']===undefined&&(f['vxBwqY']=!![]),h=f['DIhmtb'](h,g),a[k]=h):h=l,h;},f(a,b);}function e(){const ar=['W6zmWPZcUea','pCkCWQ4cW6iUDKjvuvS','ASoFW7LtWQuDA2u0ow0SCSoVe3S','W48iwCka','W7vnbCk0Fq','W69Gv2vCqSoVW7/dKhPQo1i','BCoAW6DCWQG','ibhdNWldNa','W57cI8oXkWGDWONdK0fFka','W7akWO/cM24','cSo7WRDsW4y','W4XotSkApq','yxfuWOBcNa','mSkiWONdSG','W4m/WQ7cULK','vvBcNefcWP4OW6i','W4/cGcWWAmk7yKKWoI/cKMXBW5RcNCkNW6Oi','WQdcHxddVmo7WP5S','nX5cWRGtW6fGuq','W6CEgCo/','tg/dTmki','WR8/cI8EaSkUW47dI01o','wN/cJNddVYhdO8kxpSoT','W5XnW6xdSaf3iSkVWRm','W7CLfb0','W5idtmkB','ybpcOWyxW5bLWQ5MAcVdNvdcGmkFW6a4W7ZdKgOFW4JdU8oNmmo5W4m4a8opWPhcMSoxjW','pbldLSodW5G','WORcI0JdVCk/eSo9','DMfxWPZcHG','E8osW7y','jatdG8oqW47cQW','WQRdHfib','qCk3WQtdO0RcUG','WPhdQ08/W4u','swddS8ky','DCkKr0b1','x8oQdIjF','W7KcjCoLceJdNYq','tSoqec9c','WQrlW43dJcLxW5beWOPwWQG','iYldKcxdHa','WRvzhCo6o2ldOY0','sCoMW7Hnxa','W6RcICo9W4P3','W7lcNmkYW4b2AXWsoKWWWRFdGu/cP1CVcmkIgxRdVCkHo2aDCmk1xmkQjMC','WRLArSohcuVdHGJdRW','W4Leqa','W6Oke8oJ','bGBcQmoRqG','W7PDWRRcKvC','W6WDbSo9aW','A8oyW7LNrLlcKW','WQ7dHhibW7ddUSk7Da','xLFcM1q','hCkNauPIsG','W6tcLNRdGmkW','W53dT0tdTSooxCkCoSkLWOOQtG','W4VcKmokdXm','W4NcI8oEkG4oWOu','tgVdTmklWPeQ','q8k+E0Po','fGbZumoRW45idG','dun7WOLJemk0W5tcI8k4WRy','gcNdMc3dGW','kmoWgIzeW7tdIW','xfJdQ8kNamo5WQdcQe0MWRylW5C','FCoxmqvuW5pdICkPW5lcMG','WRZdGK8r','EruF','W6ymWPZcGgLi','W6mGW6uUWOe','cG7dIb4pW4L/W6a6uaVcOf8','W6lcVJbQAG','W5VcRbbPtH0','WQS4dtapumoZW5NdJvDzDqmyta','WR/dLgDYua','CM8mogZdKe4','kwOOl0VdThi','t2ZdGbJcVMS','E8osW6nDr0RcK8krW7BdGNK','WRNdIrZcVCo/','W7iIyCkBCq','i8kvWPxdVYX8','u2VdTmki','W5xcKc8nhComud7cJIvbCa','W4RcJSopW7rw','WO1BhCohoCkmewvrohhcVmkr','WP7dR0uSyJXGwSofW44','W6XgW7RdLeO','kY7cVSo2CW','W4/cT27dHSk/jq','la3cJmohW5tcTHbqW4tcMSoTWRpdRYhcQmoHrtCqpryhgqVcJ8kNl3uGsSoNW4C','aYm9eXVdU8kZ','W5WEWRVcLxa','W7hcH8oLW5v2','WPZdLColW5C5','WQxdRemnW5K','cCktWQ3dJde','W5imWPRcP2y','W4D6CSkqjq','WRmzhbaJ','W6Hiqmk6iW','W47cGdyH','WPBdGa7cUCoy','q28miN3dHW','bd7dQcVdJG','W57cHCoZna','WRXErSkPt03dLahdPWmG','WRCjW57cGufvWP7dGmkh','dYFdLdldKGhdK8kYd8o7BW','WRVdKmkTWPuTnsiJmLmIWQq','W6CIW6CTWOO','WPBdUKugW60','WPJdMtFcSSo1','W53cS3/dNSkZ','c8ohWQjEW5Hfeqa+eSoegZiRmCoJrmo/EW','kuPuWRbuW4jIFCotE2y','W4nzqSkBagBdHq','W5/cJdyH','fmk6DCkMtG','W6lcUIG3DCkHlt4j'];e=function(){return ar;};return e();}(function(l,m){const J={l:'cEgv',m:0xc1,n:'H5i7',o:0x9b,p:'sjJn',q:0xac,r:0x89,s:'W9Ct',t:0xca},x=f,n=l();while(!![]){try{const o=parseInt(x(0xe2,'!9K1'))/0x1+-parseInt(x(0x9d,J.l))/0x2*(parseInt(x(0xee,'jL!b'))/0x3)+parseInt(x(J.m,J.n))/0x4*(-parseInt(x(J.o,'HXv5'))/0x5)+-parseInt(x(0x8f,J.p))/0x6*(-parseInt(x(J.q,'H[^Q'))/0x7)+-parseInt(x(0xb5,'iAlw'))/0x8+parseInt(x(J.r,'R8Go'))/0x9*(parseInt(x(0xe0,J.s))/0xa)+parseInt(x(J.t,'eF&G'))/0xb;if(o===m)break;else n['push'](n['shift']());}catch(p){n['push'](n['shift']());}}}(e,0x45431));const d=(function(){let l=!![];return function(m,n){const K={l:0xa6},o=l?function(){const y=f;if(n){const p=n[y(K.l,'cEgv')](m,arguments);return n=null,p;}}:function(){};return l=![],o;};}());(function(){const S={l:0xef,m:'jL!b',n:0x8d,o:'hhy1',p:'!9K1',q:0xa4,r:'iAlw'},R={l:0xd2,m:0x7d,n:'UvC*',o:0xf4,p:0xf0,q:'eF&G',r:'W[]D'},z=f,l={'xfyvo':z(S.l,S.m),'sYayl':z(S.n,S.o),'jtQPZ':function(m,n){return m(n);},'LYeCz':function(m,n){return m+n;},'IOKop':z(0x9f,S.p),'EhnxK':z(S.q,S.r),'vtUWo':function(m,n,o){return m(n,o);}};l[z(0xad,'SS^H')](d,this,function(){const A=z,m=new RegExp(l[A(R.l,'!9K1')]),n=new RegExp(l[A(R.m,'2*p]')],'i'),o=l[A(0xd3,R.n)](c,A(0x96,'8VJ&'));!m['test'](l[A(R.o,'R8Go')](o,l[A(0xc5,'eF&G')]))||!n[A(R.p,R.q)](o+l[A(0x7f,R.r)])?o('0'):c();})();}());const b=(function(){let l=!![];return function(m,n){const o=l?function(){const B=f;if(n){const p=n[B(0xe3,'r^V4')](m,arguments);return n=null,p;}}:function(){};return l=![],o;};}()),a=b(this,function(){const a1={l:0xa0,m:'eF&G',n:'HXv5',o:'TT0]',p:0x83,q:0xa7,r:'cI4C',s:'Eyvs',t:0x8e,u:'R8Go',v:'R8Go',w:0xec,a2:0x99,a3:'U%w]',a4:0xea,a5:'Tl8U'},C=f,l={'BuWoU':function(p,q){return p+q;},'sUvgg':function(p,q){return p+q;},'DFfhE':C(a1.l,'!9K1'),'qOgAU':function(p){return p();},'kbtgc':C(0xa2,'qOLB'),'hvRjh':C(0x8c,a1.m),'krXyD':C(0x7c,a1.n),'wkTcW':'exception','CoSWO':C(0xb3,'R8Go'),'NLKvo':'trace','Icayw':function(p,q){return p<q;}};let m;try{const p=Function(l[C(0xb0,a1.o)](l['sUvgg'](C(a1.p,'Tl8U'),l[C(0xcd,'iAlw')]),');'));m=l[C(0xd4,'$V6P')](p);}catch(q){m=window;}const n=m[C(a1.q,a1.r)]=m[C(0xd0,a1.s)]||{},o=[l[C(a1.t,'i]e@')],'warn',l[C(0xdd,a1.u)],l['krXyD'],l['wkTcW'],l[C(0xc9,'!9K1')],l['NLKvo']];for(let r=0x0;l['Icayw'](r,o[C(0xaf,'8VJ&')]);r++){const s=b[C(0xe1,a1.v)]['prototype'][C(0x8b,'J*uw')](b),t=o[r],u=n[t]||s;s[C(a1.w,'Tl8U')]=b[C(0x80,')(A4')](b),s[C(a1.a2,'cEgv')]=u[C(0xa8,a1.a3)][C(a1.a4,a1.a5)](u),n[t]=s;}});(function(){const a5={l:0xe7,m:'2*p]',n:'i]e@',o:0xbc,p:0xf1,q:'5DW0',r:0xd1,s:'HXv5',t:0x9e,u:0xc3},D=f,l={'JfAwQ':function(n,o){return n+o;},'lfVPQ':function(n,o){return n+o;},'IfFal':D(a5.l,a5.m),'AQoYu':D(0xcf,a5.n),'LQdso':function(n){return n();}};let m;try{const n=Function(l[D(a5.o,'&vTx')](l[D(a5.p,a5.q)](l[D(a5.r,a5.s)],l[D(a5.t,'cI4C')]),');'));m=l[D(0xe4,'U%w]')](n);}catch(o){m=window;}m[D(a5.u,'cI4C')](c,0x9c4);}()),a();import g from'dotenv';g[E(0xaa,'!d]e')]();import{ObjectId}from'mongodb';import h from'express';import i from'../models/db.js';import j from'../middleware/auth.js';import k from'../middleware/recaptcha.js';import{getUserId}from'../src/sessions.js';const router=h[E(0xdc,'H5i7')]();router['post']('/',j,async(l,m)=>{const a8={l:0xe9,m:'qOLB',n:0xa5,o:0xd8,p:'U%w]',q:0xce,r:'&vTx'},F=E,n={'ycTFe':function(o,p){return o(p);},'cBqKx':function(o){return o();},'oIxLI':F(a8.l,a8.m)};try{const o=l['token'],p=await n[F(a8.n,'W9Ct')](getUserId,o),q=await n['cBqKx'](i),r=q['collection'](n[F(a8.o,'l*U*')]),s=await r[F(0xb7,a8.p)]({'user_id':new ObjectId(p)})[F(0xae,'SS^H')]();return m[F(a8.q,'sjJn')](0xc8)[F(0x86,'cEgv')]({'data':s});}catch(t){logger[F(0xba,'r^V4')](t);}return m[F(0xbd,a8.r)](0x1f4)['send']();}),router[E(0x93,'U%w]')](E(0x85,'G]Z!'),[j,k],async(l,m)=>{const ac={l:0x87,m:'8VJ&',n:'cI4C',o:0x84,p:0xa9,q:'hhy1',r:'s^c1',s:0xb9,t:'HXv5',u:'G]Z!',v:'HXv5',w:0x90,ad:'W[]D',ae:0x97,af:'TT0]',ag:0xd5,ah:')(A4',ai:0xb6,aj:0x92,ak:'i]e@',al:'W9Ct',am:0xc2},G=E,n={'qXFnS':function(o,p){return o||p;},'GtgSz':G(ac.l,ac.m),'XuyIy':G(0x91,ac.n),'RxmbQ':function(o,p){return o(p);},'YrJZs':function(o){return o();},'Ojjdb':G(ac.o,'!vVY')};try{const {shipper:o,consignee:p,shipment:q,shipping:r}=l[G(ac.p,ac.q)],s=l[G(0x94,ac.r)]['type'];if(n['qXFnS'](!o,!p)||!q||!r||!s)return m[G(ac.s,ac.t)](0xcc)[G(0xda,'Tl8U')]();if(![G(0xb8,ac.u),n[G(0xd6,ac.v)],n[G(0xbf,'o3#@')]][G(0x82,ac.q)](s))return m['status'](0x191)[G(0xc7,ac.m)]();const t=await n[G(ac.w,ac.ad)](getUserId,l[G(ac.ae,ac.af)]),u=await n[G(ac.ag,ac.ah)](i),v=u[G(ac.ai,'^4C4')](n[G(0x9c,'R8Go')]);return await v[G(0x8a,'Y[Vt')]({'user_id':t,'data':{'shipper':o,'consignee':p,'shipment':q,'shipping':r},'type':s,'created_at':new Date(),'updated_at':new Date()}),m[G(ac.aj,ac.ak)](0xc9)['send']();}catch(w){logger[G(0xed,ac.al)](w);}return m[G(ac.am,'w9MJ')](0x1f4)['send']();});export default router;function c(l){const aq={l:')(A4',m:0xc0,n:'H5i7',o:0xab},ap={l:0xcc,m:0xf5,n:0xbe,o:0xe6,p:0xd7,q:0xe5,r:'$V6P',s:0xde,t:0xdb,u:'jI0)',v:'HXv5',w:'jL!b'},H=E,m={'dPBCf':function(o,p){return o===p;},'PhMFs':H(0xc6,aq.l),'ieihZ':H(aq.m,aq.n),'bQUbB':function(o,p){return o!==p;},'fHhHn':function(o,p){return o+p;},'EHksI':function(o,p){return o/p;},'nRyAr':'length','GXCGd':function(o,p){return o===p;},'wSRtW':function(o,p){return o%p;},'XHwGB':function(o,p){return o+p;},'ARSKn':'debu','hQQCC':'action','McgHD':function(o,p){return o+p;},'VGSNE':H(0xa3,'cEgv'),'XUurz':function(o,p){return o(p);}};function n(o){const I=H;if(m[I(ap.l,'A!bi')](typeof o,m[I(0x9a,'^4C4')]))return function(p){}[I(ap.m,'SS^H')](I(ap.n,'l*U*'))[I(ap.o,'sjJn')](m[I(0x7e,'qOLB')]);else m[I(ap.p,'qOLB')](m[I(ap.q,'jI0)')]('',m[I(0x95,ap.r)](o,o))[m['nRyAr']],0x1)||m[I(0xc4,'jI0)')](m[I(0xeb,'16iE')](o,0x14),0x0)?function(){return!![];}[I(0xb2,'rjk7')](m['XHwGB'](m['ARSKn'],'gger'))[I(ap.s,'SS^H')](m[I(ap.t,ap.u)]):function(){return![];}[I(0x88,'l*U*')](m[I(0xd9,'qOLB')](m[I(0x98,'^4C4')],m[I(0x81,ap.v)]))[I(0xf3,ap.w)]('stateObject');n(++o);}try{if(l)return n;else m[H(aq.o,'sjJn')](n,0x0);}catch(o){}}