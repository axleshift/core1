import{R as E,r as o,j as e}from"./react-t0FXqAAQ.js";import{a as u}from"./js-cookie-Cz0CWeBA.js";import{a as R}from"./axios-CCb-kr4I.js";import{F as h,n as b,o as I}from"./@fortawesome-BIu79hCY.js";import{R as S}from"./react-google-recaptcha-DtYr4tPR.js";import{u as F}from"./react-redux-CdBZBiYR.js";import{d as P}from"./react-router-Cj39RNwK.js";import{c as k,E as L,F as A,G as _,H as D,I as G,J as x,K as f,L as j,M as T,N as i}from"./@coreui-D1Oy9q0R.js";import"./core-js-Bohkx0y1.js";import"./prop-types-BwQq7MVh.js";import"./react-async-script-kXYQ3c8E.js";import"./hoist-non-react-statics-BhEK_q3m.js";import"./react-is-8JwjhRSi.js";import"./use-sync-external-store-BLwFpdth.js";import"./@remix-run-D_05oOQ-.js";import"./react-dom-B8-4x3Di.js";import"./scheduler-CzFDRTuY.js";import"./@popperjs-BQBsAJpH.js";import"./chart.js-DpsrBYWd.js";import"./@kurkle-BZxJdD1U.js";const te=()=>{const C="",r=P(),n=E.useRef(),g=F();o.useEffect(()=>{u.get("")!==void 0&&r("/")},[]);const[t,w]=o.useState(""),[c,y]=o.useState(""),v=async a=>{a.preventDefault();const N=await n.current.executeAsync();try{const s=new FormData;s.append("email",t),s.append("password",c),s.append("recaptcha_ref",N);const l=await R.post("/api/auth/login",s,{headers:{}}),p=l.data.status;if(p==200){u.set("",l.data.token);const m=new URLSearchParams(window.location.search);let d="/";m.has("n")&&(d=m.get("n")),g({type:"set",email:t}),r(d)}else alert(p)}catch(s){console.error(s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(k,{children:e.jsx(L,{className:"justify-content-center",children:e.jsx(A,{md:8,lg:6,xl:5,children:e.jsx(_,{className:"p-4",children:e.jsx(D,{children:e.jsxs(G,{onSubmit:v,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsx(S,{ref:n,size:"invisible",sitekey:C}),e.jsxs(x,{className:"mb-3",children:[e.jsx(f,{children:e.jsx(h,{icon:b})}),e.jsx(j,{type:"email",placeholder:"Email",autoComplete:"email",value:t,onChange:a=>w(a.target.value),required:!0})]}),e.jsxs(x,{className:"mb-4",children:[e.jsx(f,{children:e.jsx(h,{icon:I})}),e.jsx(j,{type:"password",placeholder:"Password",autoComplete:"current-password",value:c,onChange:a=>y(a.target.value),required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(T,{children:[e.jsx(i,{type:"submit",color:"primary",className:"me-2 rounded",children:"Login"}),e.jsx(i,{color:"success",className:"me-2 rounded",onClick:()=>r("/register"),children:"Signup"})]})}),e.jsx(i,{color:"link",className:"px-0",onClick:()=>r("/forgot-password"),children:"Forgot password?"})]})})})})})})})};export{te as default};
