const A=f;(function(j,k){const I={j:0x1af,k:0x1ad,l:'t]v9',m:0x180,n:'y]tk',o:0x17f,p:'18s0',q:0x169,r:0x176,s:'m%(N',J:'ONDo',K:0x159,L:0x1a8,M:0x163,N:'kUDG'},t=f,l=j();while(!![]){try{const m=-parseInt(t(I.j,'(sAC'))/0x1*(-parseInt(t(I.k,I.l))/0x2)+-parseInt(t(I.m,I.n))/0x3*(-parseInt(t(I.o,I.p))/0x4)+parseInt(t(0x183,']Uv8'))/0x5*(-parseInt(t(I.q,'yS[*'))/0x6)+parseInt(t(I.r,I.s))/0x7*(-parseInt(t(0x170,I.J))/0x8)+parseInt(t(0x1a1,'paaU'))/0x9*(-parseInt(t(I.K,'UrDG'))/0xa)+-parseInt(t(I.L,I.s))/0xb+parseInt(t(I.M,I.N))/0xc;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x987b0));const d=(function(){const J={j:0x1ac,k:'C9ME'};let j=!![];return function(k,l){const m=j?function(){const u=f;if(l){const n=l[u(J.j,J.k)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const S={j:0x17a,k:0x15b,l:'C9ME',m:0x173,n:'kUDG'},R={j:0x1bd,k:'%GGN',l:0x1a5,m:'Ig4v',n:0x16e,o:'EgFi',p:0x181,q:'$ywU',r:0x186,s:0x15e},v=f,j={'Ipsso':v(S.j,'EgFi'),'Jiwux':function(k,l){return k(l);},'sAESN':v(S.k,S.l),'IdxdP':function(k,l){return k+l;},'WDFjt':'chain','WWRsA':function(k,l){return k+l;},'gcTyN':v(S.m,S.n),'rwPqI':function(k,l){return k(l);}};d(this,function(){const w=v,k=new RegExp(j[w(R.j,R.k)]),l=new RegExp(w(R.l,R.m),'i'),m=j['Jiwux'](c,j[w(R.n,R.o)]);!k[w(0x16f,'$ywU')](j['IdxdP'](m,j['WDFjt']))||!l['test'](j[w(R.p,R.q)](m,j[w(R.r,'2eeR')]))?j[w(R.s,'sNZY')](m,'0'):c();})();}());const b=(function(){let j=!![];return function(k,l){const m=j?function(){const x=f;if(l){const n=l[x(0x172,'paaU')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const a0={j:0x1c2,k:0x15d,l:0x1bb,m:0x193,n:'t]v9'},y=f,j={'cLDKs':function(l,m){return l(m);},'KvxwC':function(l,m){return l+m;},'asFTz':y(a0.j,'IB7@'),'WVPtG':'{}.constructor(\x22return\x20this\x22)(\x20)','XyASo':function(l){return l();}};let k;try{const l=j[y(a0.k,'W$WX')](Function,j[y(a0.l,'yS[*')](j[y(a0.m,a0.n)]+j['WVPtG'],');'));k=j['XyASo'](l);}catch(m){k=window;}k['setInterval'](c,0x9c4);}());const a=b(this,function(){const a3={j:'(sAC',k:0x1c0,l:'y]tk',m:'@*pQ',n:'Pc*r',o:0x195,p:'a2@Z',q:0x19d,r:'EgFi',s:0x17d,a4:'18s0',a5:']8ue',a6:0x168,a7:'@*pQ',a8:'$ywU',a9:0x1ae,aa:0x17c,ab:0x1b8,ac:0x1bf,ad:'%GGN',ae:0x19e,af:'OF]h',ag:0x19a},z=f,j={'yAYvI':function(n,o){return n+o;},'zxaht':z(0x178,a3.j),'rcyMr':function(n){return n();},'jXiIb':z(a3.k,a3.l),'WdfTl':z(0x158,a3.m),'kpCXP':'error','vIfUm':z(0x190,']Uv8')};let k;try{const n=Function(j[z(0x1b5,a3.n)](j[z(a3.o,a3.p)](j[z(a3.q,a3.r)],z(a3.s,'y]tk')),');'));k=j['rcyMr'](n);}catch(o){k=window;}const l=k[z(0x196,a3.a4)]=k[z(0x16c,a3.a5)]||{},m=[z(a3.a6,a3.a7),j[z(0x1c3,'2eeR')],j[z(0x171,a3.a8)],j[z(0x1a2,'G0Lu')],z(a3.a9,'wtIX'),j['vIfUm'],z(a3.aa,'QOI1')];for(let p=0x0;p<m['length'];p++){const q=b[z(a3.ab,'18s0')]['prototype'][z(a3.ac,'IB7@')](b),r=m[p],s=l[r]||q;q[z(0x15a,'UrDG')]=b[z(0x1b2,a3.ad)](b),q['toString']=s[z(a3.ae,a3.af)][z(a3.ag,'gQ!7')](s),l[r]=q;}});a();import g from'fs';import h from'../models/db.js';function f(a,b){const c=e();return f=function(d,g){d=d-0x155;let h=c[d];if(f['tzdXfI']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['btsuAb']=m,a=arguments,f['tzdXfI']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['eNVbDX']===undefined&&(f['eNVbDX']=!![]),h=f['btsuAb'](h,g),a[k]=h):h=l,h;},f(a,b);}import i from'../src/logger.js';let sessions={};g['mkdir'](A(0x17e,'@*pQ'),{'recursive':!![]},j=>{if(j)throw j;});g[A(0x188,'UrDG')](A(0x1c4,'l]8M'))&&(sessions=JSON[A(0x177,'%*ss')](g[A(0x1c6,'8mo5')]('./sessions/sessions.json','utf8')),i[A(0x16d,'kUDG')]('Sessions\x20retrieved'));export const addUserProfileToSession=j=>{const a5={j:0x1b3,k:0x18d,l:'a2@Z',m:']Uv8',n:'@*pQ',o:0x18c,p:0x1b7,q:'yS[*'},B=A,k={'PJvvp':B(a5.j,'G0Lu')};if(!sessions[j[B(a5.k,a5.l)]])sessions[j[B(0x197,a5.m)]]={};if(!sessions[j[B(0x1ba,'y]tk')]][k[B(0x1a6,a5.n)]])sessions[j[B(a5.o,'l]8M')]][k[B(a5.p,a5.q)]]=j;};export const addSession=(j,k,l,m)=>{const a7={j:'t]v9',k:0x175,l:'PFm$',m:'QOI1',n:0x1b4,o:'xXPL',p:0x197,q:']Uv8',r:0x1a3,s:']8ue',a8:0x1b6,a9:'EgFi',aa:'&75)'},C=A,n={'AKoSd':'Sessions\x20save','GMjjZ':C(0x192,a7.j),'PiDxR':C(a7.k,a7.l)};if(!sessions[j[C(0x167,a7.m)]])sessions[j[C(a7.n,a7.o)]]={};sessions[j[C(a7.p,a7.q)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[C(a7.r,a7.s)]()},process['env'][C(a7.a8,a7.o)]!==n[C(0x1c5,a7.a9)]&&g[C(0x1a0,']Uv8')](n[C(0x162,a7.aa)],JSON[C(0x198,'e&N[')](sessions),o=>{if(o)throw o;i['info'](n['AKoSd']);});};export const getEmailAddress=j=>{const a8={j:0x156},D=A;return Object[D(0x165,']Uv8')](sessions)[D(a8.j,'QOI1')](k=>sessions[k][j]);};function e(){const ap=['nvxdTrtdLSoyW7CgWQRdVve','xGjdsY1og8kyiCofW5bKnmk9','pmopvdWG','WOiEWPy7Cq','mYTnwcHszLy7otC','txvKWOBcOG','W4DAW7j1W7WiWRPutwXhWO/cIG','cCoSC8ognSkpn8k2W4a','W6O3iCkOW5ZcIZW','h8oSteG','fxlcPSkuW4q','zbvlWPO','W7FdV8ooWOpcOcbn','WOzJWODWgW','oLTOibO','WQ1bWQjCke0fW6C','f8kvkxpdOa','WRbWvGzIWQhdQspdTcaI','oHezF8kGWP7cMG','gctdGSoMWOy','dmkPj3ldKW','WOSnDGCtkKVcNgbn','tWXwWO3dVG','jh7cOCkNW4lcTq','EhhcJZe','cIJdKCoH','uer1zCkW','Ah3cLsdcGmkOCvFcMSkKWPVdPSkoW43cVIddHSkiWOG','W6D7mH0d','AZlcPSkRW57cQmkkW4NdS8o8WOBdMmkmW6LUW4iDrCkmb0/cRmk6gG','W6yOW5BcN8o8','CCkFW54cWPlcUeRdTSoXDan/','W6e8W7pdItC','W5qqW5NdVa','tCoHseHOv2pcKCkCW5Wb','WPXhW7/cHW','Cd5RhmkCW71CffTRWRK','hfmUxCodW5HshLi','rwT9WP4','W69xkXij','lX4vfvC','W45lfe4d','omoLAbOzuq','D07cVuxdTmobW78lWP4','mSoPAbKIv8oG','W7pcICkqWRVdKG','hCocrK0ReSkeomkOz8oCBuCJ','W7ydW6xcNSo3','WQCPWQaX','tSk1W6yCWP4','W5CuW5BdSrm','WPLgW74','DSoOAZtcPCkkWPJcT8oRW73dKMq6','xMtcGHFcGG','W4ieW5dcMq','mYTnwdnmDG','rCkufXS','W5iKW7NcPSoO','dmoUwK4','WOtcThSgCmobhmkQ','l8oVt256','W5a6W4W+pW','rCkuaqfT','gCoOxvnGW6i','qtjSW67cLCozW4qlWQHBvmkoW4BcQ8k8W6dcLJddUCk/W6pdOb5M','wqzdtIKDqSoypSo8W4K','WPFcVmoUWRRdOW','WQKlbmkjW7RcLvG1WRddKCkhdcTDWPBdOCoOW511','fJFdPgxdOq','W4CqW5lcLSosD3PAW705imoLomkgo3q','gKmucgS','W4ylW5BdUXO','bJtcJCoSWOxdNhKYWPZcU8kbuIlcGmoaBSk2uCo2WQNcOSkEW5KMmchdN8kJW5rAW5ib','W5SgW6RcJx/dOejhjCoB','W6iRdc9HWRddJWVdTq','sNJcKCk3WRpdTNaZWRFcJa','l8oCE0Lx','B8ktaHnS','W718WRWiwCkqWOGw','W7z7WO8KWPeKxunzWRm','dHPIfxtcGSoCbexdLfy/WObI','W6PadY0V','WRTAfSkyDCo3EmkzWOqCemkqWPVcHG','jNq3xmoyW59Uogns','W7ZcICkW','WRXeBCkR','h3FdVq/dTW','ihdcTmkNW4e','mCoTzXqb','gI7dHSo9','CtHSfSkvWP0fbKPqWPz4WOC','WRGTWRSUBa','CeZcUYVcSSofW405WPlcLmkI','WOuCWQ8OWRbAW7z6zwm','WPqDWOyyWR8','dM1VW6FcNW','lCobxWSK','WRbWvGz5WR/dUq','WQKHWRGRzq','wSoJW4JcPq1QWQFdSmoR','W6mlW5lcO8oV','rxNcHcm','gtnmWPRcJfFcNCoq','WROEamkqW7e','W5SDW53cNCos','W6vEW4/cKZFcOuVcTW','df8FcwWivSocm8oAW5i','WRS+WRa2BmkoWQyEgcDdW6b3','WOb5WOHJlCkurSkSW7ZdNG','W6ZdVCoIWR3cMq','pITu','jYXkrZKao0e9iYddP8otob4','ySk+DrCTmINdHmodW6quabZcR8klW6jlzCo3W6C7ghnvW5pdHLRdGrrPjCoiW6/dMa','WQvJW6/cNNW'];e=function(){return ap;};return e();}export const getUserId=async j=>{const ab={j:'a2@Z',k:0x189,l:'&75)'},E=A,k={'IMfhU':function(p,q){return p(q);},'OgANx':function(p){return p();},'hwdqn':E(0x17b,'m%(N')},l=k[E(0x18b,'VnZP')](getEmailAddress,j),m=await k['OgANx'](m),n=m['collection'](k['hwdqn']),o=await n[E(0x161,ab.j)]({'email':l});return o[E(ab.k,ab.l)];};export const removeSession=j=>{const ac={j:0x18a,k:'%6zD',l:0x174},F=A,k=Object[F(ac.j,ac.k)](sessions)['find'](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[F(ac.l,'$ywU')]=![]);}};export default sessions;function c(j){const ao={j:0x157,k:'Ig4v'},an={j:'2eeR',k:'m%(N',l:']8ue',m:0x19c,n:'(sAC',o:0x16a,p:'a2@Z',q:'@f*5',r:0x166,s:'8mo5',ao:0x1ab,ap:0x199,aq:'y]tk',ar:'EgFi',as:0x155,at:'QOI1',au:0x1a7,av:'VnZP',aw:0x164,ax:0x182,ay:']Uv8'},G=A,k={'btpFh':function(m,n){return m===n;},'PosZi':'string','ythPD':'counter','PMmzb':function(m,n){return m!==n;},'hORAM':function(m,n){return m/n;},'PrUpQ':G(0x15f,'a2@Z'),'MOYzJ':function(m,n){return m%n;},'hpGzB':function(m,n){return m+n;},'BnnVI':'debu','SEDQH':G(0x1be,'l]8M'),'WfYkQ':function(m,n){return m+n;},'Cisgu':G(0x1b0,'$ywU'),'TzDWE':G(ao.j,ao.k),'NROyx':function(m,n){return m(n);}};function l(m){const H=G;if(k[H(0x15c,an.j)](typeof m,k[H(0x1b1,'l]8M')]))return function(n){}[H(0x19f,an.k)](H(0x1a4,an.l))[H(an.m,an.n)](k[H(an.o,'gQ!7')]);else k[H(0x179,'b*k[')]((''+k[H(0x1a9,an.p)](m,m))[k[H(0x1c1,an.q)]],0x1)||k[H(an.r,an.s)](m,0x14)===0x0?function(){return!![];}[H(an.ao,an.l)](k['hpGzB'](k[H(an.ap,'EgFi')],H(0x18e,an.aq)))[H(0x16b,an.ar)](k[H(an.as,an.at)]):function(){return![];}[H(an.au,an.av)](k[H(an.aw,'EgFi')](k['BnnVI'],k[H(an.ax,'kUDG')]))[H(0x194,'PFm$')](k['TzDWE']);k[H(0x1aa,an.ay)](l,++m);}try{if(j)return l;else k['NROyx'](l,0x0);}catch(m){}}