const B=f;(function(j,k){const K={j:0x187,k:'(Ohe',l:0x190,m:'Px*E',n:'*o&h',o:0x189,p:0x1d3,q:'Gfd]',r:0x1d4,L:'A[cD',M:0x1ab},s=f,l=j();while(!![]){try{const m=parseInt(s(K.j,'42j^'))/0x1+parseInt(s(0x1a4,K.k))/0x2+parseInt(s(K.l,K.m))/0x3+-parseInt(s(0x1aa,'GZOP'))/0x4+-parseInt(s(0x199,K.n))/0x5*(-parseInt(s(K.o,'@h)('))/0x6)+parseInt(s(K.p,K.q))/0x7*(-parseInt(s(K.r,K.L))/0x8)+-parseInt(s(K.M,'wIkf'))/0x9;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x2b8c7));const d=(function(){const L={j:'9[h1'};let j=!![];return function(k,l){const m=j?function(){const t=f;if(l){const n=l[t(0x1b0,L.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const U={j:0x16f,k:'wxCv',l:0x1b7},T={j:0x195,k:'RGL%',l:'MxFV',m:0x177,n:0x168,o:')X6#',p:0x184,q:'Knt^',r:'(k4n'},u=f,j={'iLZVh':'function\x20*\x5c(\x20*\x5c)','fJeKE':u(U.j,U.k),'dwcia':function(k,l){return k(l);},'mokfL':'init','Brfom':function(k,l){return k+l;},'rMAPr':u(U.l,'DGpa'),'tcVET':function(k,l){return k(l);},'mWaLX':function(k){return k();}};d(this,function(){const v=u,k=new RegExp(j[v(T.j,T.k)]),l=new RegExp(j[v(0x164,'Gfd]')],'i'),m=j[v(0x1c4,T.l)](c,j[v(T.m,'*o&h')]);!k[v(T.n,T.o)](m+v(0x178,'FCR6'))||!l[v(0x1a3,'@h)(')](j[v(T.p,T.q)](m,j['rMAPr']))?j['tcVET'](m,'0'):j[v(0x1cc,T.r)](c);})();}());const b=(function(){const V={j:'wIkf'};let j=!![];return function(k,l){const m=j?function(){const w=f;if(l){const n=l[w(0x1b2,V.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const a1={j:0x1c8},a0={j:'jH$B',k:0x1d5},x=f,j={'YKDOS':function(m,n){return m+n;},'mbQQI':x(a1.j,'wIkf')},k=function(){const y=x;let m;try{m=Function(j[y(0x182,a0.j)](y(a0.k,'zzd0'),j['mbQQI'])+');')();}catch(n){m=window;}return m;},l=k();l['setInterval'](c,0x9c4);}());const a=b(this,function(){const a7={j:0x1a0,k:'@h)(',l:0x1c1,m:0x16a,n:0x1a1,o:0x188,p:0x181,q:'9[h1',r:'!)ma',a8:0x1cf,a9:0x183,aa:'3cxw',ab:0x1b6,ac:'4p0(',ad:0x1bd,ae:'CvIE',af:0x17c,ag:0x19e,ah:'42j^'},a6={j:'Cyqs',k:'*o&h',l:0x198,m:0x19a,n:'ZFab'},z=f,j={'XodvL':function(o,p){return o(p);},'BnxJU':function(o,p){return o+p;},'nQlWo':z(a7.j,'Cyqs'),'ytQOd':function(o){return o();},'UoKGk':z(0x1d2,a7.k),'GPdgM':z(0x17a,'wIJO'),'TBkPc':z(a7.l,'zzd0'),'hsfVZ':'trace','tzaVw':function(o,p){return o<p;}},k=function(){const A=z;let o;try{o=j[A(0x1a8,a6.j)](Function,j[A(0x1b1,a6.k)](j[A(a6.l,')[tT')],A(a6.m,a6.n))+');')();}catch(p){o=window;}return o;},l=j['ytQOd'](k),m=l[z(0x18e,'zzd0')]=l[z(a7.m,'(Ohe')]||{},n=[z(a7.n,'5E(P'),j[z(0x1ba,'CvIE')],j[z(0x1c3,')[tT')],'error',j[z(a7.o,'Cyqs')],z(a7.p,a7.q),j[z(0x17b,a7.r)]];for(let o=0x0;j[z(a7.a8,'(k4n')](o,n[z(a7.a9,'Px*E')]);o++){const p=b[z(0x176,a7.aa)][z(a7.ab,a7.ac)][z(a7.ad,'Kye3')](b),q=n[o],r=m[q]||p;p[z(0x192,a7.ae)]=b['bind'](b),p[z(a7.af,'xRYw')]=r[z(a7.ag,a7.ah)]['bind'](r),m[q]=p;}});a();function e(){const at=['sefxtWxcHW','ALRdGCoExG','W6NdG8oBWQXO','W4zPrXzq','oCo7D8odjSknWQRcMmkTW7xcUZ8','W7NdQfddGua','WPOonConW6DDodW','W7WrWOxdKhWyW6rcnb4CW6C1DSkLWO7dGmkVqgOThWKm','WPtcPWivEq','WRLyWPddOxK','WPdcUHmqBa','W4PMW51VWQKpxG','WPlcPrysywdcSq','frqkeuhdL8kUeCoHoSoTzq','cYrfqG','pX5mq8koW5bPW7iw','evX4','rtTcW7S','BCowW68mW6S','W4C9ewFcH8kCbW','WRBdUSkrWRa','w0FdSCkNha','WR3cNSknW7mXW7BdRWddS0NcRH0','hSo9F8oTvSksqxNcPJRdTxDJw8kjW7LtaSokemoFpqVdMmoIW4nqoSockYlcHq','hw3cJZrGjqPN','F8ooWOtdJSoJ','tmkpW5tdUSoL','F8kIfCkozmotWRpcQq','yq7dU24','W5/dJ0/dPffPWO4TWQtdIMzjpmoMW6FcJbfMWQa','za/dUG','WRXgFmkns8of','W5HDlCom','W54smvlcO8kxWPZcS8kzW6Hhza','hW7dMIBdMG','W6bVAWjH','WQfOu8kbW6m','W7xdHv/dP28','W5xdH8oIu8oUoSo+W5XMWQfXoCknWPrfW5b/WRKKwSorWOmCW40','W4JdVfbejZ3cMSo8WPVcL3ZdOW','oSkiy8ozv8oTWRVcRSo1WPOkW4S3','WPTdCXhdTa','W4nfCWrg','WOlcVHevE2i','bsXDwmkn','cW3dJZJdKa','W47dGmocWO9r','ASonjSknga','WOP3FuldPq','v8o/W4yPW6RdKSkdWO7cU8khe2RcPhWmtmk7W5q','W6SKySkqWOjLW5ZdN8oRf2ldJYJcP8kihHZcG8k6WQrJirO0','WO8KW7SpW4hdTJjWWRO','qCoYWRFdMCoe','Fmk3WO3cTfG1nxbtFCoiWQ0','AmosomksfCkOW7RcNSozWQ0p','ns53DSkk','A8kUW43dQrL+bvX0EG','W5ddJCogamkf','W6eYk8kD','WQTFxN7dJG','FCooWRtdHSor','js3dKmo3WQy','W4XXW5b5WRyxuIe1','W7vFjZNdPa','CKBdUCkxpG','WOXfW6uiya','WRnqWRJdP2W','WQjcx8ksW4O','Emk5j8koC8o1WR/cPmkSW7tcVG','CmoaEmkcdSk0W7ZcICoFWRCEW5CXemocWPpdMw42WP5VWQFcKtpdVSoTuCkpW5xcO2Lt','W45MWQnnWPVcTYzkWPjcemkZ','WQvur1K','B0BdI8oEEq','umkiW63dJmo+','mSopmSoeFW','cXpdSqBdIG','sCkLW63dLSor','W4tdULnmjZpcUCoDWOxcKwxdTq','ECkOj8kEumotWRhcQ8kAW67cPbe','W5Tzlmow','W5jhWR4nCCkiWRPv','W7yEcCopWPddPmkyWR7dKmkoW6/dGW','W5TSW4DPWRqng2y9f1SnkSobWOBcOCkrW5/cRq','DrX1W7rl','oSknzCoyuCoIW6FcM8olWQaAW7q','WO08WReQCq','tZDcW7H3bq','smkRW6pcLa','bcpcQmoirwHnWQvNqs1gda','WO/cJCoIqG','aGxdKItdQG','WOHnBXhdVSonWOm','WQBcMcaErG','WRddO8kuWQ9CW4VdLavAWQa','WRVdTmkk','W49xmmolW7fEib1SW5vf','pmkkWOn3WRNdLJm1FmkLca8iW6OoDCo8W5JcNCosyNOAW47cUeJcMmk9W55AC8kiASk5','quPp','W4i7gdK','W7xdRCotWRZdI8ol','W55HW5PWWQndeZOPf1bhFSotWPq','W6G+pmkk','WPW5W7GxW4VdOt9PWRbk','lvPYWRtdJ8kMwmkzW63cUra','W6hdGCorWQni','WRfwWPFdNge','WRDZBhJdRW','W4/cRSoJWRa','WQTot2SU','vZ1/W6TXbmkbW4a','WOlcVHevE2lcQSozWQS','W6BdS8objmkR','BYRcKXPO','WO9hyXC','hHZdNtJdJa','WPD5E1JdSq'];e=function(){return at;};return e();}import g from'fs';function f(a,b){const c=e();return f=function(d,g){d=d-0x163;let h=c[d];if(f['cRcTyt']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['pKkOsz']=m,a=arguments,f['cRcTyt']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['ozZYpc']===undefined&&(f['ozZYpc']=!![]),h=f['pKkOsz'](h,g),a[k]=h):h=l,h;},f(a,b);}import h from'../models/db.js';import i from'../logger.js';let sessions={};g['mkdir'](B(0x1bb,'^58!'),{'recursive':!![]},j=>{if(j)throw j;});g[B(0x16c,'C(9e')](B(0x18a,'FCR6'))&&(sessions=JSON[B(0x1ac,'(Ohe')](g[B(0x1d1,'42j^')](B(0x1a9,')X6#'),B(0x171,'xS!^'))),i['info'](B(0x1b4,'RGL%')));export const addUserProfileToSession=j=>{const a9={j:0x196,k:'xS!^',l:0x18b,m:0x1bc,n:0x19c,o:'DGpa',p:'CvIE'},C=B,k={'WRCbS':C(a9.j,a9.k)};!sessions[j[C(a9.l,'GZOP')]]&&(sessions[j['email']]={}),!sessions[j[C(a9.m,'N@!B')]][k[C(a9.n,a9.o)]]&&(sessions[j[C(0x1af,a9.p)]][k[C(0x16b,'GZOP')]]=j);};export const addSession=(j,k,l,m)=>{const ab={j:'tNWQ',k:'jH$B',l:0x1c6,m:'A[cD',n:0x16d,o:0x170,p:'Px*E',q:'jH$B',r:'GZOP'},aa={j:'ZFab'},D=B,n={'WOcJF':'Sessions\x20save','Egagt':D(0x1b5,ab.j)};!sessions[j[D(0x1be,ab.k)]]&&(sessions[j[D(0x185,'*o&h')]]={}),sessions[j[D(ab.l,ab.m)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[D(ab.n,'C(9e')]()},process[D(ab.o,ab.p)][D(0x1b3,ab.q)]&&g['writeFileSync'](n['Egagt'],JSON[D(0x17d,ab.r)](sessions),o=>{const E=D;if(o)throw o;i['info'](n[E(0x1cd,aa.j)]);});};export const getEmailAddress=j=>{const ac={j:0x174,k:0x194,l:'xRYw'},F=B;return Object[F(ac.j,'Kye3')](sessions)[F(ac.k,ac.l)](k=>sessions[k][j]);};export const getUserId=async j=>{const af={j:'DGpa',k:0x186,l:0x175,m:'4p0(',n:0x1ad,o:'XzSG',p:0x19f,q:'5E(P',r:0x193},G=B,k={'URsja':function(p,q){return p(q);},'NgcjN':function(p){return p();},'KKWxX':G(0x1a5,'9[h1')},l=k[G(0x1bf,af.j)](getEmailAddress,j),m=await k[G(af.k,'XzSG')](h),n=m[G(af.l,af.m)](k[G(af.n,af.o)]),o=await n['findOne']({'email':l});return i[G(af.p,af.q)](o),o[G(af.r,'3cxw')];};export const removeSession=j=>{const ag={j:0x191,k:'!)ma',l:0x1a2,m:'FCod'},H=B,k=Object[H(ag.j,'CvIE')](sessions)[H(0x1ca,ag.k)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[H(ag.l,ag.m)]=![]);}};export default sessions;function c(j){const as={j:0x1ae,k:'GZOP',l:0x18f,m:0x165,n:0x180,o:'(Ohe',p:0x172,q:'GsCg',r:0x1c7},ar={j:0x1cb,k:'Knt^',l:0x17e,m:0x16e,n:'@h)(',o:0x1d6,p:'4u%U',q:'Ig6T',r:'FCR6',as:0x169,at:'9[h1',au:0x1b9,av:0x1a7,aw:0x19d,ax:'(k4n',ay:0x179,az:'GZOP',aA:0x1c2,aB:'h#mX',aC:'b9zk'},I=B,k={'GnloJ':function(m,n){return m===n;},'SSfMB':I(as.j,as.k),'nDMhz':I(0x173,'zzd0'),'atTLI':I(as.l,'GZOP'),'kffTv':function(m,n){return m!==n;},'yASoM':function(m,n){return m+n;},'hxmpC':function(m,n){return m/n;},'kltpd':I(as.m,'xRYw'),'fGmzE':function(m,n){return m+n;},'anNRc':I(as.n,as.o),'KvvBM':I(0x166,'6oqU'),'qPXzC':I(as.p,as.q),'YYBMT':I(as.r,'42j^'),'VWAQx':function(m,n){return m(n);},'DeEXm':function(m,n){return m(n);}};function l(m){const J=I;if(k[J(ar.j,ar.k)](typeof m,k[J(ar.l,'N@!B')]))return function(n){}[J(ar.m,ar.n)](k['nDMhz'])[J(ar.o,ar.p)](k[J(0x1a6,ar.q)]);else k[J(0x18c,ar.r)](k['yASoM']('',k[J(ar.as,ar.at)](m,m))[k['kltpd']],0x1)||m%0x14===0x0?function(){return!![];}[J(ar.au,'wIkf')](k[J(ar.av,'A[cD')](k[J(0x1ce,'9[h1')],k[J(0x17f,'Ug#v')]))[J(0x197,'C(9e')](k[J(ar.aw,ar.ax)]):function(){return![];}['constructor'](k[J(ar.ay,'jH$B')](k[J(0x1c5,'FCR6')],k['KvvBM']))[J(0x18d,ar.az)](k[J(ar.aA,ar.aB)]);k[J(0x1c0,ar.aC)](l,++m);}try{if(j)return l;else k['DeEXm'](l,0x0);}catch(m){}}