import{n as N,R as S,r,o as m,j as e,p as b}from"./index-BquxEgcg.js";import{F as d}from"./index.es-zkkE4p1a.js";import{n as R,o as E}from"./index-DLwfizaX.js";import{R as A}from"./recaptcha-wrapper-DgYl1uRS.js";import{C as F}from"./CContainer-ZVgvnDBa.js";import{C as x,a as t}from"./CRow-mazCzekg.js";import{C as I}from"./CCard-CVoc9P9J.js";import{C as k}from"./CCardBody-8WypYm4q.js";import{C as L,a as u}from"./CFormInput-Fy-4s9g9.js";import{C as h,a as f}from"./CInputGroupText-DzUKqW9A.js";import{a as C}from"./CButton-ClL_t-XO.js";const H=()=>{const o=N(),n=S.useRef(),j=()=>{o("/forgot-password")};r.useEffect(()=>{m.get("RCTSESSION")!==void 0&&o("/")},[]);const[i,g]=r.useState(""),[c,w]=r.useState(""),y=async a=>{a.preventDefault();const v=await n.current.executeAsync();try{const s=new FormData;s.append("email",i),s.append("password",c),s.append("recaptchaRef",v);const l=await b.post("http://localhost:5050/api/auth/login",s,{headers:{}}),p=l.data.status;p==200?(m.set("RCTSESSION",l.data.token),window.location.href="/"):alert(p)}catch(s){console.error(s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(F,{children:e.jsx(x,{className:"justify-content-center",children:e.jsx(t,{md:8,lg:6,xl:5,children:e.jsx(I,{className:"p-4",children:e.jsx(k,{children:e.jsxs(L,{onSubmit:y,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsx(A,{ref:n,size:"invisible",sitekey:"6LcbAQopAAAAAPqiUSbgE4FWJrHdKfpFIK_s6rU-"}),e.jsxs(h,{className:"mb-3",children:[e.jsx(f,{children:e.jsx(d,{icon:R})}),e.jsx(u,{type:"email",placeholder:"Email",autoComplete:"email",value:i,onChange:a=>g(a.target.value),required:!0})]}),e.jsxs(h,{className:"mb-4",children:[e.jsx(f,{children:e.jsx(d,{icon:E})}),e.jsx(u,{type:"password",placeholder:"Password",autoComplete:"current-password",value:c,onChange:a=>w(a.target.value),required:!0})]}),e.jsxs(x,{children:[e.jsx(t,{xs:6,children:e.jsx(C,{type:"submit",color:"primary",className:"px-4",children:"Login"})}),e.jsx(t,{xs:6,className:"text-right",children:e.jsx(C,{color:"link",className:"px-0",onClick:j,children:"Forgot password?"})})]})]})})})})})})})};export{H as default};
