import{r as s,j as e}from"./Oq9P1Wj_.js";import{M as a}from"./Bg0HqDUA.js";import{F as r,M as t,N as i,O as l,P as n,Q as o,R as d,l as c,S as m}from"./egetR9Ty.js";import{P as p}from"./NdsU5MZw.js";import{a1 as u,a as h,b as x,a2 as j,g,h as y,a3 as b,a4 as f,a5 as N,c as C,L as k,a6 as v,M as P,a7 as R,a8 as w}from"./DFI_Y7Nw.js";import{p as S}from"./BzOa6JrD.js";import{b as M}from"./BTAe8d0H.js";import{E as T}from"./BGB82IPO.js";import{A as F}from"./ChZbb2or.js";import{d as J}from"./Ce_fjdqS.js";import"./deeEeel3.js";import"./DoV6T4jL.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./fHQ1LRrH.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./BYNIthp4.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";const _=a=>{const l=s.useRef(null),n=s.useRef(null);return s.useEffect((()=>{document.documentElement.addEventListener("ColorSchemeChange",(()=>{l.current&&setTimeout((()=>{l.current.data.datasets[0].pointBackgroundColor=u("--cui-primary"),l.current.update()})),n.current&&setTimeout((()=>{n.current.data.datasets[0].pointBackgroundColor=u("--cui-info"),n.current.update()}))}))}),[l,n]),e.jsxs(h,{className:a.className,xs:{gutter:4},children:[e.jsx(x,{sm:6,xl:4,xxl:3,children:e.jsx(j,{color:"primary",value:e.jsxs(e.Fragment,{children:["26Hrs"," ",e.jsxs("span",{className:"fs-6 fw-normal",children:["(-12.4% ",e.jsx(r,{icon:t}),")"]})]}),title:"Route Optimization",action:e.jsx(g,{alignment:"end",children:e.jsx(y,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:e.jsx(b,{ref:l,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Hours",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:u("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),e.jsx(x,{sm:6,xl:4,xxl:3,children:e.jsx(j,{color:"info",value:e.jsxs(e.Fragment,{children:["$6.200"," ",e.jsxs("span",{className:"fs-6 fw-normal",children:["(40.9% ",e.jsx(r,{icon:i}),")"]})]}),title:"Freight Cost",action:e.jsx(g,{alignment:"end",children:e.jsx(y,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:e.jsx(b,{ref:n,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Costs",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:u("--cui-info"),data:[1334,18545,9454,1447,34444,2442,1441]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),e.jsx(x,{sm:6,xl:4,xxl:3,children:e.jsx(j,{color:"warning",value:e.jsxs(e.Fragment,{children:["92%"," ",e.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",e.jsx(r,{icon:i}),")"]})]}),title:"Performance",action:e.jsx(g,{alignment:"end",children:e.jsx(y,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:e.jsx(b,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Score",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})})]})};_.propTypes={className:p.string};const A=({currentPage:s,setCurrentPage:a,totalPages:t,setTotalPages:i})=>e.jsxs(f,{align:"center","aria-label":"Page navigation example",children:[e.jsx(N,{onClick:()=>a((s=>Math.max(s-1,1))),disabled:1===s,"aria-label":"Previous",children:e.jsx(r,{"aria-hidden":!0,icon:l})}),(()=>{const r=[],i=Math.max(1,s-2),l=Math.min(t,i+5-1);i>1&&(r.push(e.jsx(N,{onClick:()=>a(1),children:"1"},1)),i>2&&r.push(e.jsx(N,{disabled:!0,children:"…"},"ellipsis-start")));for(let t=i;t<=l;t++)r.push(e.jsx(N,{onClick:()=>a(t),active:s===t,children:t},t));return l<t&&(l<t-1&&r.push(e.jsx(N,{disabled:!0,children:"…"},"ellipsis-end")),r.push(e.jsx(N,{onClick:()=>a(t),children:t},t))),r})(),e.jsx(N,{onClick:()=>a((s=>Math.min(s+1,t))),disabled:s===t,"aria-label":"Next",children:e.jsx(r,{"aria-hidden":!0,icon:n})})]});A.propTypes={currentPage:p.number.isRequired,setCurrentPage:p.func.isRequired,totalPages:p.number.isRequired,setTotalPages:p.func.isRequired};const B=()=>{const[t,i]=s.useState([]),[l,n]=s.useState(1),[p,u]=s.useState(0),[j,g]=s.useState(!0),{addToast:y}=M(),b=J(),f=s=>"cancelled"===s?"Cancelled":"received"===s?"Received":"in_route"===s?"To Receive":"in_ship"===s?"To Ship":"Unknown";return s.useEffect((()=>{(async s=>{await axios.post("/freight",{page:s}).then((s=>{i(s.data.data),u(s.data.totalPages)})).catch((s=>{const e=T[s.status]||"Server is offline or restarting please wait";y(e,"Submit failed!")})).finally((()=>g(!1)))})(l)}),[l]),e.jsxs(e.Fragment,{children:[j&&e.jsx("div",{className:"loading-overlay",children:e.jsx(C,{color:"primary",variant:"grow"})}),!j&&0==t.length&&e.jsx(h,{className:"justify-content-center my-5",children:e.jsx(x,{md:6,children:e.jsxs("div",{className:"clearfix",children:[e.jsx("h1",{className:"float-start display-3 me-4",children:"OOPS"}),e.jsx("h4",{children:"There was no shipment yet."}),e.jsx("p",{children:"Check it out later"})]})})}),0!==t.length&&e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"mb-4"}),e.jsx("h4",{children:"Shipments"}),e.jsx(F,{className:"mb-3 d-block d-md-none"}),e.jsx(a,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((s=>{return e.jsxs(k,{color:(a=s.status,"cancelled"===a?"danger":"received"===a?"primary":"in_route"===a||"in_ship"===a?"warning":""),className:"mb-3",onClick:()=>b(`/v/${s._id}`),style:{cursor:"pointer"},children:[e.jsxs(v,{className:"border-0",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{children:f(s.status)}),e.jsxs("div",{children:["air"==s.type&&e.jsx(r,{icon:o}),"land"==s.type&&e.jsx(r,{icon:d}),"sea"==s.type&&e.jsx(r,{icon:c})]})]}),e.jsx(P,{children:e.jsxs(R,{children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted d-block",children:"Courier"}),"Shoppe SPX"]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("small",{className:"text-muted d-block",children:"Shipment"}),s.data.shipment.shipment_description]})]})}),e.jsxs(w,{className:"border-0 small bg-transparent",children:[e.jsx("small",{className:"text-muted d-block",children:"Last update"}),S(s.updated_at)," ago"]})]},s._id);var a}))}),e.jsx("button",{className:"btn btn-primary rounded-circle position-fixed bottom-0 end-0 m-3",style:{width:"50px",height:"50px",fontSize:"20px"},onClick:s=>b("/customer"),children:e.jsx(r,{icon:m})}),t.length>20&&e.jsx(A,{currentPage:l,setCurrentPage:n,totalPages:p,setTotalPages:u,className:"mb-3"})]})]})};export{B as default};
