import{o as _,R as N,r as j,q as R,j as e,v as b}from"./index-DoH_oDec.js";import{b as E,F as r,p as v,r as C,q as f,a as g}from"./index-C2R01Fv9.js";import{C as A,a as P,b as T,c as q,d as F,R as I,e as t,f as o,g as n}from"./recaptcha-wrapper-Benq0YA7.js";import{C as S}from"./CButtonGroup-BLQatPMh.js";const H=()=>{const i=_(),m=N.useRef(),[c,p]=j.useState({email:"",first_name:"",last_name:"",password:"",repeat_password:"",recaptcha_ref:""}),w=()=>{i("/login")};j.useEffect(()=>{R.get(void 0)!==void 0&&i("/")},[]);const a=d=>{const{id:l,value:s}=d.target;p(u=>({...u,[l]:s}))},y=async d=>{if(d.preventDefault(),c.password!==c.repeat_password)return alert("Passwords do not match");const l=await m.current.executeAsync();p(s=>({...s,recaptcha_ref:l}));try{const s=new FormData;for(const x in c)s.append(x,c[x]);const h=(await b.post("undefined/api/auth/register",s,{headers:{}})).data.status;if(h==201)return i("/");alert(h)}catch(s){console.error(s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(E,{children:e.jsx(A,{className:"justify-content-center",children:e.jsx(P,{md:8,lg:6,xl:5,children:e.jsx(T,{className:"mx-4",children:e.jsx(q,{className:"p-4",children:e.jsxs(F,{onSubmit:y,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(I,{ref:m,size:"invisible",sitekey:void 0}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:v})}),e.jsx(n,{id:"email",placeholder:"Email",autoComplete:"email",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:C})}),e.jsx(n,{id:"first_name",placeholder:"First Name",autoComplete:"given-name",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:C})}),e.jsx(n,{id:"last_name",placeholder:"Last Name",autoComplete:"family-name",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:f})}),e.jsx(n,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(o,{children:e.jsx(r,{icon:f})}),e.jsx(n,{id:"repeat_password",type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(S,{children:[e.jsx(g,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(g,{color:"primary",className:"me-2 rounded",onClick:w,children:"Login"})]})})]})})})})})})})};export{H as default};
