import{R as s,j as e,r as a}from"./Oq9P1Wj_.js";import{r as n,u as o,a as c,V as i,b as t}from"./DYLdT-8h.js";import{a as m,d as r,i as l,j as d}from"./Ce_fjdqS.js";import{d as j,e as x,C as p,c as h,f as u,g as f,h as v,i as N,j as g,k as b,u as y,l as k,m as S,n as C,o as w,p as A,q as F,r as z,s as E,t as T,v as P,w as q,x as D,y as L,z as R,A as H,B as M,D as W,E as $,F as I,G as O,H as U,I as B,J,K as Q}from"./B68AamsC.js";import{a as V,u as _}from"./fHQ1LRrH.js";import{F as G,f as K,a as Y,b as X,c as Z,d as ss,e as es,g as as,h as ns,i as os,j as cs,k as is,l as ts,m as ms,n as rs,o as ls,p as ds,q as js,r as xs,s as ps,t as hs,u as us,v as fs,w as vs,x as Ns}from"./gPK-THXJ.js";import{p as gs}from"./BzOa6JrD.js";import{A as bs}from"./B_6CoV1_.js";import{N as ys}from"./BYNIthp4.js";import{P as ks}from"./NdsU5MZw.js";import{S as Ss}from"./CY84gjTO.js";import"./deeEeel3.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./CUvxBZEH.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./BK_AWGJv.js";import"./vI--IC3q.js";const Cs=s.memo((()=>{const s=m().pathname,o=r(),c=(s=>{const e=[];return s.split("/").reduce(((s,a,o,c)=>{const i=`${s}/${a}`,t=((s,e)=>{const a=e.find((e=>e.path===s));return!!a&&a.name})(i,n);return t&&e.push({pathname:i,name:t,active:o+1===c.length}),i})),e})(s);return e.jsxs(j,{className:"my-0",children:[e.jsx(x,{onClick:()=>o("/dashboard"),children:"Home"}),c.map(((s,e)=>"/dashboard"!==s.pathname&&a.createElement(x,{...s.active?{active:!0}:{onClick:()=>o(s.pathname)},key:e,style:{cursor:s.active?"default":"pointer"}},s.name)))]})})),ws=s.memo((()=>e.jsx(p,{className:"px-4",lg:!0,children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"loading-overlay",children:e.jsx(h,{color:"primary",variant:"grow"})}),children:e.jsx(l,{children:n.map(((s,a)=>!s.external&&e.jsx(d,{path:s.path,exact:s.exact,name:s.name,element:e.jsx(s.element,{})},a)))})})}))),As=s.memo((()=>e.jsxs(u,{className:"px-4",children:[e.jsx("div",{children:"Axleshift Core 1 © 2024"}),e.jsx("div",{className:"ms-auto"})]}))),Fs=()=>{const{notifs:s}=o();return e.jsxs(f,{variant:"nav-item",children:[e.jsx(v,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:e.jsx(G,{icon:K})}),e.jsx(N,{className:"p-0",placement:"bottom-end",children:e.jsxs(g,{children:[e.jsxs(b,{active:!0,children:[e.jsx(G,{icon:K})," Notifications"]}),s&&s.map((s=>e.jsxs(b,{children:[e.jsx("h6",{className:"mb-1",children:s.header}),e.jsx("p",{className:"mb-1",children:s.message}),e.jsx("small",{children:gs(s.id)})]},s.id))),0===s.length&&e.jsxs(b,{className:"py-3 my-3",disabled:!0,children:["You have no Notification yet. ",e.jsx("br",{})," Come back later."]})]})})]})},zs=()=>{const s=a.useRef(),{colorMode:n,setColorMode:o}=y("theme"),c=V(),i=_((s=>s.sidebarShow)),t=r();return a.useEffect((()=>{document.addEventListener("scroll",(()=>{s.current&&s.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)}))}),[]),e.jsxs(k,{position:"sticky",className:"mb-4 p-0",ref:s,children:[e.jsxs(p,{className:"border-bottom px-4",fluid:!0,children:[e.jsx(S,{onClick:()=>c({type:"set",sidebarShow:!i}),style:{marginInlineStart:"-14px"},children:e.jsx(G,{icon:Y})}),e.jsxs(C,{children:[e.jsx(w,{children:e.jsx(A,{onClick:s=>t("/freight"),children:e.jsx(G,{icon:X})})}),e.jsx(w,{children:e.jsx(A,{onClick:s=>t("/schedules"),children:e.jsx(G,{icon:Z})})}),e.jsx(bs,{className:"mx-auto d-none d-md-flex"})]}),e.jsx(C,{className:"ms-auto px-2",children:e.jsx(Fs,{})}),e.jsxs(C,{children:[e.jsxs(f,{variant:"nav-item",placement:"bottom-end",children:[e.jsx(v,{caret:!1,children:"dark"===n?e.jsx(G,{icon:ss}):"auto"===n?e.jsx(G,{icon:es}):e.jsx(G,{icon:as})}),e.jsxs(N,{children:[e.jsxs(F,{active:"light"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>o("light"),children:[e.jsx(G,{className:"me-2",icon:as})," Light"]}),e.jsxs(F,{active:"dark"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>o("dark"),children:[e.jsx(G,{className:"me-2",icon:ss,size:"lg"})," Dark"]}),e.jsxs(F,{active:"auto"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>o("auto"),children:[e.jsx(G,{className:"me-2",icon:es})," Auto"]})]})]}),e.jsx(Es,{})]})]}),e.jsx(p,{className:"px-4",fluid:!0,children:e.jsx(Cs,{})})]})},Es=()=>{const s=r(),{user:n}=c(),[o,t]=a.useState("/images/default-avatar.jpg");return a.useEffect((()=>{n&&n.ref&&t(`${i}/u/${n.ref}.png`)}),[]),e.jsxs(f,{variant:"nav-item",children:[e.jsx(v,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:e.jsx(z,{crossOrigin:"Anonymous",src:o,className:"rounded-5",fluid:!0,width:"40px",loading:"lazy"})}),e.jsxs(N,{className:"pt-0",placement:"bottom-end",children:[e.jsxs(E,{className:"bg-body-secondary fw-semibold mb-2 fs-6 px-5",children:[n.first_name," ",n.last_name]}),e.jsxs(F,{onClick:()=>s("/account"),children:[e.jsx(G,{icon:ns,className:"me-2"}),"Account"]}),e.jsxs(F,{onClick:()=>s("/account/security"),children:[e.jsx(G,{icon:os,className:"me-2"}),"Security"]}),e.jsx(T,{}),e.jsxs(F,{onClick:()=>s("/logout"),children:[e.jsx(G,{icon:cs,className:"me-2"}),"Logout"]})]})]})},Ts=({items:s})=>{const a=["/security/management"],{user:n}=c(),o=(s,a,n,o=!1)=>e.jsxs(e.Fragment,{children:[a||o&&e.jsx("span",{className:"nav-icon",children:e.jsx("span",{className:"nav-icon-bullet"})}),s&&s,n&&e.jsx(D,{color:n.color,className:"ms-auto",children:n.text})]}),i=(s,a,n=!1)=>{const{component:c,name:i,badge:t,icon:m,...r}=s,l=c;return e.jsx(l,{as:"div",children:r.to||r.href?e.jsx(q,{...r.to&&{as:ys},...r,children:o(i,m,t,n)}):o(i,m,t,n)},a)},t=(s,a)=>{var n;const{component:c,name:m,icon:r,items:l,to:d,...j}=s,x=c;return e.jsx(x,{compact:!0,as:"div",toggler:o(m,r),...j,children:null==(n=s.items)?void 0:n.map(((s,e)=>s.items?t(s,e):i(s,e,!0)))},a)};return e.jsx(P,{as:Ss,children:s&&s.filter((s=>"admin"===n.role||!a.includes(s.to))).map(((s,e)=>s.items?t(s,e):i(s,e)))})};Ts.propTypes={items:ks.arrayOf(ks.any).isRequired};const Ps=[{component:w,name:"Dashboard",to:"/dashboard",icon:e.jsx(G,{icon:is,className:"nav-icon"})},{component:L,name:"Services"},{component:R,name:"Freight",icon:e.jsx(G,{icon:ts,className:"nav-icon"}),items:[{component:w,name:"Sea Freight",to:"/freight/sea"},{component:w,name:"Air Freight",to:"/freight/air"},{component:w,name:"Land Freight",to:"/freight/land"}]},{component:w,name:"Track",to:"/track",icon:e.jsx(G,{icon:ms,className:"nav-icon"})},{component:w,name:"Rates",to:"/rates",icon:e.jsx(G,{icon:rs,className:"nav-icon"})},{component:w,name:"Couriers",to:"/couriers",icon:e.jsx(G,{icon:ls,className:"nav-icon"})},{component:L,name:"Security"},{component:w,name:"Management",to:"/security/management",icon:e.jsx(G,{icon:ds,className:"nav-icon"})},{component:w,name:"Activity",to:"/security/activity",icon:e.jsx(G,{icon:js,className:"nav-icon"})},{component:w,name:"Access Token",to:"/security/access-token",icon:e.jsx(G,{icon:xs,className:"nav-icon"})},{component:w,name:"Sessions",to:"/security/sessions",icon:e.jsx(G,{icon:ps,className:"nav-icon"})},{component:L,name:"Payments"},{component:w,name:"Invoices",to:"/invoices",icon:e.jsx(G,{icon:hs,className:"nav-icon"})},{component:L,name:"Documents"},{component:w,name:"Freight Documents",to:"/documents",icon:e.jsx(G,{icon:us,className:"nav-icon"})},{component:L,name:"Support"},{component:w,name:"Customer Service",to:"/customer",icon:e.jsx(G,{icon:fs,className:"nav-icon"})},{component:w,name:"FAQ",to:"/faq",icon:e.jsx(G,{icon:vs,className:"nav-icon"})},{component:L,name:"Policies"},{component:w,name:"Terms of Service",to:"/terms-of-service",icon:e.jsx(G,{icon:us,className:"nav-icon"})},{component:w,name:"Privacy Policy",to:"/privacy-policy",icon:e.jsx(G,{icon:us,className:"nav-icon"})},{component:L,name:"System"},{component:w,name:"Network Status",to:"https://stats.uptimerobot.com/5l58Mua0Wi",icon:e.jsx(G,{icon:Ns,className:"nav-icon"})}],qs=s.memo((()=>{const s=V(),a=_((s=>s.sidebarUnfoldable)),n=_((s=>s.sidebarShow));return e.jsxs(H,{colorScheme:"dark",className:"border-end",position:"fixed",unfoldable:a,visible:n,onVisibleChange:e=>{s({type:"set",sidebarShow:e})},children:[e.jsxs(M,{children:[e.jsxs(W,{to:"/",children:[e.jsx(z,{fluid:!0,src:"/images/logo.png",className:"sidebar-brand-full",height:30,loading:"lazy"}),e.jsx(z,{src:"/images/favicon.png",className:"sidebar-brand-narrow",height:30,loading:"lazy"})]}),e.jsx($,{className:"d-lg-none",dark:!0,onClick:()=>s({type:"set",sidebarShow:!1})})]}),e.jsx(Ts,{items:Ps}),e.jsx(I,{className:"d-none d-lg-flex",children:e.jsx(O,{onClick:()=>s({type:"set",sidebarUnfoldable:!a})})})]})})),Ds=()=>{const{toasts:s,addToast:n}=t(),{addNotif:c}=o();return a.useEffect((()=>{n("Welcome to core 1 axleshift","Hello World"),c("Welcome to core 1 axleshift")}),[]),e.jsxs("div",{children:[e.jsx(qs,{}),e.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[e.jsx(zs,{}),e.jsx("div",{className:"body flex-grow-1",children:e.jsx(ws,{})}),e.jsx(As,{})]}),e.jsx(U,{className:"position-fixed top-0 end-0 p-3",children:s.map((s=>e.jsxs(B,{autohide:!0,visible:!0,children:[e.jsxs(J,{closeButton:!0,children:[e.jsx(z,{className:"rounded me-2",src:"/favicon.ico",width:"20",loading:"lazy"}),e.jsx("div",{className:"fw-bold me-auto",children:s.header}),e.jsx("small",{children:gs(s.id)})]}),e.jsx(Q,{children:s.message})]},s.id)))})]})};export{Ds as default};
