const H=f;(function(p,q){const R={p:'B4H9',q:0x15a,r:0x172,s:'!cEt',t:0x187,u:'iQQ5',v:0x1af},A=f,r=p();while(!![]){try{const s=parseInt(A(0x1b5,R.p))/0x1*(parseInt(A(R.q,'qaNN'))/0x2)+parseInt(A(R.r,'$c7I'))/0x3*(parseInt(A(0x1a7,'!cEt'))/0x4)+-parseInt(A(0x14b,'v]ww'))/0x5+parseInt(A(0x14a,'4O#$'))/0x6+parseInt(A(0x167,R.s))/0x7*(-parseInt(A(R.t,R.u))/0x8)+-parseInt(A(R.v,'9ME%'))/0x9*(-parseInt(A(0x1bf,'!cEt'))/0xa)+parseInt(A(0x1ae,'!YC&'))/0xb;if(s===q)break;else r['push'](r['shift']());}catch(t){r['push'](r['shift']());}}}(e,0x3c407));const d=(function(){let p=!![];return function(q,r){const S={p:0x1be},s=p?function(){const B=f;if(r){const t=r[B(S.p,'Qy7*')](q,arguments);return r=null,t;}}:function(){};return p=![],s;};}());(function(){const a1={p:0x18e,q:'hSS9',r:0x145,s:'0nSq',t:0x1a0,u:'$c7I'},a0={p:0x1a8,q:'N2mQ',r:'PZ*M',s:0x156,t:'99!]',u:0x19c,v:0x13a,w:0x1c4,x:'Y5ad',y:0x196},C=f,p={'ZkSpx':'function\x20*\x5c(\x20*\x5c)','ENcgH':C(a1.p,a1.q),'lCJcn':function(q,r){return q(r);},'OQKNx':C(a1.r,a1.s),'DXKXK':C(a1.t,a1.u),'sfVQr':function(q,r){return q+r;},'whdcf':'input','ejUWK':function(q,r){return q(r);},'dAECQ':function(q){return q();}};d(this,function(){const D=C,q=new RegExp(p[D(a0.p,a0.q)]),r=new RegExp(p[D(0x170,'FX%2')],'i'),s=p[D(0x152,a0.r)](c,p[D(a0.s,a0.t)]);!q[D(a0.u,'N2mQ')](s+p['DXKXK'])||!r['test'](p[D(a0.v,'*Hi^')](s,p[D(a0.w,a0.x)]))?p['ejUWK'](s,'0'):p[D(a0.y,'4O#$')](c);})();}());const b=(function(){let p=!![];return function(q,r){const a2={p:'6Mw)'},s=p?function(){const E=f;if(r){const t=r[E(0x1bc,a2.p)](q,arguments);return r=null,t;}}:function(){};return p=![],s;};}()),a=b(this,function(){const aa={p:0x1b1,q:'@VEh',r:0x18d,s:'oqK!',t:0x176,u:'4O#$',v:']iQx',w:0x192,x:'0Fp]',y:0x1a3,z:0x17c,ab:'!cEt',ac:'N2mQ',ad:0x13d,ae:'oqK!'},a9={p:0x13b,q:'s7nS',r:'a1^c'},F=f,p={'fjBSc':function(u,v){return u+v;},'XelpN':function(u,v){return u+v;},'rEUMr':F(0x171,'F2NJ'),'Kdnwe':function(u){return u();},'rbxFM':F(aa.p,aa.q),'DNcnr':'warn','tDQXJ':F(aa.r,'Qy7*'),'zNwns':'exception','zhqRd':'table','QHvEL':F(0x14d,aa.s)},q=function(){const G=F;let u;try{u=Function(p[G(0x1ab,'P5a8')](p[G(a9.p,a9.q)](p[G(0x166,a9.r)],'{}.constructor(\x22return\x20this\x22)(\x20)'),');'))();}catch(v){u=window;}return u;},r=p[F(aa.t,aa.u)](q),s=r[F(0x188,aa.v)]=r[F(aa.w,'QuDv')]||{},t=[p[F(0x162,aa.x)],p[F(aa.y,'hSS9')],p[F(aa.z,aa.ab)],'error',p[F(0x193,'s7nS')],p['zhqRd'],p[F(0x1a6,aa.ac)]];for(let u=0x0;u<t[F(0x194,'HW^t')];u++){const v=b['constructor'][F(0x17f,'$c7I')][F(0x161,'9ME%')](b),w=t[u],x=s[w]||v;v['__proto__']=b[F(aa.ad,aa.ae)](b),v['toString']=x[F(0x159,'PZ*M')]['bind'](x),s[w]=v;}});a();import g from'dotenv';g[H(0x19a,'!YC&')]();import h from'express';import i from'bcryptjs';import j from'crypto';function e(){const aH=['W4VcTCo0WRi','W7KCWQr2WOXPpL3dRhtdGmoZqe50','fwSZWQyO','j8o+W6yHtq','o8oKW6u8FW','W4mjW7D/lwNdKmkBW4m','bSkPWQxcNNDXtmoD','WPCHW5/dJ1CGW7G','W4mIWRmOW6zx','gmkPvCk+WRZcOIBdTCk+dKqjka','aSkPWOxcNG','F8kqCCkeAW','WOKwW7nXka','h8k/xCkJWRS','CtW9sq','BmkcECkUxW','omkJtCkLWQ3cTq','W4NcSSonWQCYy8oR','nLK3bqS','WOrRWPlcISom','WQz8n8okWRtcJtyKbKJdRfu','mdddPKNcNW','fMtdUWO','W5ZcUmktWQBdVCoQW7xcPSouW6i','WPddNCkvvSoXWPG','n8koiJ9f','W4efW7BdLG','WQldMxDMAa/dKHi','rCofW4z+Exi','WQ7cTc4yWOy','WPtcU8owWRuVEmk/W6rFj8kMhZS0W73cTqvXnW','W4bjWPXbW6VcOdGAm3OZpa','Bb/dRJb9','W7ZdO8oPW7DIChS8EcRdS8kSWQrwWP0','WQ5pWQ7cQmoB','m00pWPqI','W7xcVSoEAddcTczPfhy','W6rJyGi','W4NdHCouWPfbWOddUG','bSkCgH1n','W5hdVmk8W5JdKa','W6akvCkKW4O','W6SzWQXZWOu','uSoAW4zM','WOKjW4mbWRZdPru7gq','WQhcUmo3WQOy','W7WRzCkyW6xdJci','WPVcMZ4mWRNdSvXT','WOKjW6b3nG','D09ajwK','cSkiW50z','FIJdMG5EWPm','qSoxW5Cjh8orW6yy','p8k0aqzgWOBdOG','W6ODWQP/WPO9','W4pcUmkzWRO','W7j2WRvu','w8o1W6qbW49vFhhcKrBdOKPD','zdldJGG','W4BdGLiPaglcV3RdV086o8ouWOBcQCooW55/WRNcNmouW7aNWRLpac1/WOtcV8kJjCotW4i','W7FcUmowxHq','W6/dV8kI','eN4GgbldJcu','mdKoxJ/cLGa','vmojWPNdHCo0','W6lcGHmIzwO','ANrdja','hgGKWQaw','W6CRCmk1W67dIJqAofZdKW','vCksW50ijq','iYBdHvxcPW','W4ldJ8oBWPnnWPu','WP4EW6zTnNtcHmowW5DZW5vPaLviWOfjzSol','WOJdNCkirq','afpcP8onW5OxW4K','fN0JAmoRdmoL','aqtcOmkZDG','WPOtW40CWR0','WPDsWQFcLqH8W5VcSuRcMCk8W7m','W7ZcOSoDAG','W57cP21SuG','W4/dGSoqWRZcMG','W7pcVmotBtK','WQ3dSmknDmoj','WQaBBmknW7pdIJq','WQBdK8kOqCo9','WPBdRLCiW6q','ac3dI1RcQa','zM1Ugwe','W5tdGSoKWRPO','WQKYW6Wkjf3cTrlcSCoCg15/','WPpcKSkhW4iwW4hcV8omwr/dPCkjEW','kJiCyCoizxC','uCowW5z2yNK','hx4Y','W5yXW43dQfK','cSkkkInQ','W7NcHMbXvdRdOIBcSxSP','aCkfWPqSpI4gWOLsW5ddJNG','W5ZcOfzGsG','W4CEW7hdTmkngCocqg1otSoT','W7tdKmoyW4i4W7dcVG','g8kIuSkQxG','mvqEWPeYahJdSCo7WQe','WPbhWQNcO8oXtSo+','W7L1WQPwBG','W4JdTSobW4NcTINcNvq6','BcZdMaTj','WQv3mmopWRxcJweqkfFdI1C5','W4dcMSkaWP/cNG','gmkas8kp','W4JcU8kgWRJcQq','af4DWQOy','W57cO8ksWRFcTG','gCkQBSkaWRO','DSoIWOldM8oj','W57cR8oYWP7cNW','W6WDWQn+','vCo6W4ddImoOvubfC3FdGei8iKFcHSkFdSk3W6ZcOb3cR8kCW7WwfCoNWRiuy8o2','yceYwCokBgyMnJGT','msZdQf7cGG','W6tdJCouWPXiW5ldOmoQhb/dI8kIv8kLWPhdJCkmW73dV8knbYSn','W5NcPmkfWQa','WOOsW7X8c3tdGq','kSk1W5Thif49','W7/cV8oBCa','W5lcGw9rDG','smoUWPZdMmoZzf1qBgC','lZddRfu','W50PWOn7Fa','tHXrW5jZWO5NWRbBWQhdJhe','DNRdJSoHl8kmW7HwW5NdN8oiofW','quCNDCo9g8o0EaWA','W7OgWQX5WOW','xCoVWO/cMCkYdq','arJcNSk5Aa','bHFdQ1hcTa','W5H0Ftig','hSkfWRZcIwS'];e=function(){return aH;};return e();}import k from'../models/db.js';import l from'../logger.js';import{addSession,addUserProfileToSession,removeSession}from'../src/sessions.js';import m from'../middleware/auth.js';import n from'../middleware/recaptcha.js';function f(a,b){const c=e();return f=function(d,g){d=d-0x13a;let h=c[d];if(f['YQSqhf']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['AVYmyI']=m,a=arguments,f['YQSqhf']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['RNmVIR']===undefined&&(f['RNmVIR']=!![]),h=f['AVYmyI'](h,g),a[k]=h):h=l,h;},f(a,b);}import o,{generateUniqueId}from'../src/password.js';const router=h[H(0x163,'*Hi^')]();router['post'](H(0x158,'#v8I'),n,async(p,q)=>{const ae={p:'SOIU',q:'!YC&',r:0x178,s:'d)g%',t:0x17a,u:']iQx',v:'4a[Y',w:0x143,x:'#v8I',y:0x183,z:'SOIU'},I=H,r={'ZGuhd':function(s,t){return s||t;},'VQEVC':function(s){return s();},'Ifolb':I(0x168,ae.p),'EfrDW':I(0x141,ae.q),'tIZCK':I(ae.r,ae.s),'ROnZS':function(s,t){return s(t);}};try{const {email:s,first_name:t,last_name:u,password:v}=p['body'];if(r[I(ae.t,']iQx')](!s,!t)||!u||!v)return q['json']({'status':0x191});const w=await r[I(0x1b3,ae.u)](k),x=w[I(0x14c,ae.v)](r['Ifolb']),y=await x[I(ae.w,ae.x)]({'email':s});if(y)return l[I(ae.y,'#v8I')](r[I(0x149,'v81g')]),q['json']({'status':0x199});return await x[I(0x1bd,'aODB')]({'email':s,'first_name':t,'last_name':u,'role':r['tIZCK'],'password':r['ROnZS'](o,v),'email_verify_at':'','created_at':new Date(),'update_at':new Date()}),q[I(0x148,ae.z)]({'status':0xc9});}catch(z){l['error'](z),q['json']({'status':0x1f4});}}),(function(){const aj={p:0x19b,q:'#v8I',r:0x197,s:'!cEt'},ai={p:0x13e},J=H,p={'TdyEn':function(s,t){return s(t);},'GfUjE':function(s,t){return s+t;},'FUfht':J(aj.p,aj.q),'euuXU':function(s){return s();}},q=function(){const K=J;let s;try{s=p['TdyEn'](Function,p[K(0x180,'F2NJ')](p['GfUjE'](p[K(0x14f,'v]ww')],K(ai.p,'s7nS')),');'))();}catch(t){s=window;}return s;},r=p[J(0x13c,'0VCQ')](q);r[J(aj.r,aj.s)](c,0x9c4);}()),router[H(0x15d,'PZ*M')](H(0x15b,'#MHi'),n,async(p,q)=>{const aq={p:0x14e,q:'s7nS',r:0x190,s:0x16a,t:0x17e,u:'B4H9',v:']iQx',w:0x1c1,x:'tu9&',y:0x177,z:'SOIU',ar:0x1c0,as:'Y5ad',at:0x182,au:'FX%2',av:'6Mw)',aw:'tu9&',ax:0x151,ay:0x16f,az:'@VEh',aA:0x189,aB:0x1c3,aC:'t&)@',aD:0x181,aE:'!cEt',aF:0x1a9,aG:'x2na',aH:'*Hi^',aI:0x179,aJ:0x157,aK:0x195,aL:0x1a2,aM:'0nSq'},L=H,r={'kUMJl':function(s,t){return s||t;},'PUmiF':function(s){return s();},'EnHaD':'users','CThjX':function(s,t){return s!=t;},'iQvKN':function(s,t){return s(t);},'IdzBe':L(aq.p,aq.q),'GHbsm':function(s){return s();},'ReoWO':L(aq.r,'#nLD'),'nLQMR':L(0x174,'ZjMi'),'aCFWM':function(s,t,u,v,w){return s(t,u,v,w);},'SKHSJ':L(aq.s,'Y5ad')};try{const {email:s,password:t}=p[L(aq.t,aq.u)];if(r[L(0x16c,aq.v)](!s,!t))return q[L(aq.w,aq.x)]({'status':0x191});const u=await r['PUmiF'](k),v=u[L(aq.y,'0nSq')](r[L(0x1aa,'SOIU')]),w=await v['findOne']({'email':s});if(!w)return q['json']({'status':0x194});if(r[L(0x150,aq.z)](r[L(aq.ar,aq.as)](o,t),w[L(aq.at,aq.au)]))return q[L(0x18b,aq.av)]({'status':0x191});r[L(0x1b9,aq.aw)](addUserProfileToSession,w);const x=j['createHash'](r[L(aq.ax,'d)g%')])[L(aq.ay,aq.u)](r[L(0x165,aq.az)](generateUniqueId))[L(aq.aA,'oqK!')](r[L(aq.aB,aq.aC)]),y=p[L(aq.aD,aq.aE)][r[L(aq.aF,aq.aG)]]||p['socket'][L(0x15c,aq.aH)];r[L(0x173,'Qy7*')](addSession,w,x,y,p[L(aq.aI,'!YC&')][r[L(aq.aJ,'99!]')]]),q[L(aq.aK,'P5a8')]({'status':0xc8,'token':x});}catch(z){l['error'](z),q[L(aq.aL,aq.aM)]({'status':0x1f4});}}),router[H(0x153,'0VCQ')](H(0x144,'cSCV'),m,function(p,q,r){const ar={p:0x15f},M=H;q[M(0x18a,'Y5ad')]({'status':0xc8,'email':p[M(ar.p,'#v8I')]});}),router[H(0x185,'iQQ5')](H(0x198,'iQQ5'),m,async function(p,q,r){const at={p:'t&)@',q:0x18f,r:'0nSq',s:0x1bb,t:0x147},N=H,s={'ZRzoo':function(w){return w();},'aidZA':N(0x160,'*Hi^')},t=await s['ZRzoo'](k),u=t[N(0x1ba,at.p)](s[N(at.q,at.r)]),v=await u[N(at.s,'a1^c')]({'email':p[N(0x17d,'oqK!')]});q['json']({'status':0xc8,'user':{'email':v[N(0x1a5,'0nSq')],'first_name':v[N(at.t,'s7nS')],'last_name':v['last_name']}});}),router[H(0x142,'Y5ad')](H(0x164,'F2NJ'),m,function(p,q,r){const av={p:'qxDO'},O=H,s={'fYHqJ':function(t,u){return t(u);}};s['fYHqJ'](removeSession,p[O(0x140,'SOIU')]),q[O(0x169,av.p)]({'status':0xc8});});export default router;function c(p){const aG={p:0x154,q:'oqK!',r:0x191,s:'@VEh',t:0x16d,u:0x19f},aF={p:0x1ac,q:'!YC&',r:0x15e,s:'0Fp]',t:0x1b2,u:'qaNN',v:0x16b,w:'N2mQ',x:'P5a8',y:'a1^c',z:'hSS9',aG:0x17b,aH:'#nLD',aI:'SOIU',aJ:0x1a4,aK:'$kUB',aL:'9ME%',aM:0x1b6},P=H,q={'xXwAE':P(0x186,'Qy7*'),'ubQOL':P(aG.p,aG.q),'HhaSV':P(aG.r,aG.s),'sQYKe':function(s,t){return s!==t;},'bMhLP':function(s,t){return s+t;},'Yybsa':function(s,t){return s/t;},'wHlok':function(s,t){return s===t;},'Xaioe':function(s,t){return s%t;},'VffJe':P(aG.t,'qaNN'),'mBREo':'gger','feFnK':P(0x1b0,'B4H9'),'FIXbj':function(s,t){return s(t);}};function r(s){const Q=P;if(typeof s===q['xXwAE'])return function(t){}['constructor'](q[Q(aF.p,aF.q)])[Q(aF.r,aF.s)](q[Q(0x146,'hSS9')]);else q[Q(aF.t,aF.u)](q['bMhLP']('',q['Yybsa'](s,s))[Q(aF.v,aF.w)],0x1)||q[Q(0x184,aF.x)](q[Q(0x175,aF.y)](s,0x14),0x0)?function(){return!![];}[Q(0x1b4,aF.z)](q[Q(aF.aG,aF.aH)]+q[Q(0x155,'4O#$')])['call'](q[Q(0x199,aF.aI)]):function(){return![];}['constructor'](q['bMhLP'](q[Q(aF.aJ,aF.aK)],q['mBREo']))[Q(0x1c2,'Y5ad')](Q(0x13f,aF.aL));q[Q(aF.aM,'hSS9')](r,++s);}try{if(p)return r;else q[P(aG.u,'v]ww')](r,0x0);}catch(s){}}