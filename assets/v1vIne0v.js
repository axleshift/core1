import{R as e,r as a,j as s}from"./B29SdWEC.js";import{R as n}from"./Cri8ushB.js";import{P as l}from"./E8MUDNEF.js";import{b as o,e as t}from"./DznLjhLa.js";import{d as r}from"./BFKNndIN.js";import{c as m,T as i,U as d,a1 as c,i as u}from"./C9HbIWyp.js";const b=({data:l,callback:b})=>{var x,f,v,p,g,y,h,j,C,N,L,_,q,k,A,T,D,z,F,S,R,w,I,P,$;const{formData:B,setFormData:E}=l,Z=e.useRef(),U=r(),{addToast:V}=o(),[X,G]=a.useState(!1),H=(e,a)=>{const{name:s,value:n}=a.target;if(b){const a={...B,[e]:{...B[e],[s]:n}};return E(a),b(a)}E((a=>({...a,[e]:{...a[e],[s]:n}})))};return X?s.jsx("div",{className:"loading-overlay",children:s.jsx(m,{color:"primary",variant:"grow"})}):s.jsxs(i,{onSubmit:async e=>{if(b)return;e.preventDefault();const a=await Z.current.executeAsync(),s=B._id?`/update/${B._id}`:"/add";G(!0),axios.post(`/addresses${s}`,{...B,recaptcha_ref:a}).then((e=>{V(e.data.message),U("/my-addresses")})).catch((e=>{var a,s;const n=(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.error)||"Server is offline or restarting please wait";V(n,"Submit failed!")})).finally((()=>G(!1)))},children:[s.jsxs("div",{className:"d-block d-lg-flex gap-5",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"From"}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"First and Last Name",name:"name",value:null==(x=B.from)?void 0:x.name,onChange:e=>H("from",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Company",name:"company",value:null==(f=B.from)?void 0:f.company,onChange:e=>H("from",e),required:!0}),s.jsx(c,{className:"mb-3",name:"business_contract",label:"Business Contract",checked:null==(v=B.from)?void 0:v.business_contract,onChange:e=>H("from",e)}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Country",name:"country",value:null==(p=B.from)?void 0:p.country,onChange:e=>H("from",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Address",name:"address",value:null==(g=B.from)?void 0:g.address,onChange:e=>H("from",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Address 2",name:"address2",value:null==(y=B.from)?void 0:y.address2,onChange:e=>H("from",e)}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Address 3",name:"address3",value:null==(h=B.from)?void 0:h.address3,onChange:e=>H("from",e)}),s.jsxs("div",{className:"d-block d-sm-flex gap-3",children:[s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Zip Code",name:"zip_code",value:null==(j=B.from)?void 0:j.zip_code,onChange:e=>H("from",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"City",name:"city",value:null==(C=B.from)?void 0:C.city,onChange:e=>H("from",e),required:!0})]}),s.jsxs("div",{className:"d-block d-sm-flex gap-3",children:[s.jsx(d,{type:"email",className:"mb-3",floatingLabel:"Email",name:"email",value:null==(N=B.from)?void 0:N.email,onChange:e=>H("from",e),required:!0}),s.jsx(d,{type:"number",className:"mb-3",floatingLabel:"Phone number",name:"phone_number",value:null==(L=B.from)?void 0:L.phone_number,onChange:e=>H("from",e),required:!0})]}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"VAT/TAX ID",name:"vat_tax_id",value:null==(_=B.from)?void 0:_.vat_tax_id,onChange:e=>H("from",e)})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"To"}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Name",name:"name",value:null==(q=B.to)?void 0:q.name,onChange:e=>H("to",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Company",name:"company",value:null==(k=B.to)?void 0:k.company,onChange:e=>H("to",e),required:!0}),s.jsx(c,{className:"mb-3",name:"business_contract",label:"Business Contract",checked:null==(A=B.to)?void 0:A.business_contract,onChange:e=>H("to",e)}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Country",name:"country",value:null==(T=B.to)?void 0:T.country,onChange:e=>H("to",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Address",name:"address",value:null==(D=B.to)?void 0:D.address,onChange:e=>H("to",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Address 2",name:"address2",value:null==(z=B.to)?void 0:z.address2,onChange:e=>H("to",e)}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Address 3",name:"address3",value:null==(F=B.to)?void 0:F.address3,onChange:e=>H("to",e)}),s.jsxs("div",{className:"d-block d-sm-flex gap-3",children:[s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Zip Code",name:"zip_code",value:null==(S=B.to)?void 0:S.zip_code,onChange:e=>H("to",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"City",name:"city",value:null==(R=B.to)?void 0:R.city,onChange:e=>H("to",e),required:!0})]}),s.jsxs("div",{className:"d-block d-sm-flex gap-3",children:[s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Email",name:"email",value:null==(w=B.to)?void 0:w.email,onChange:e=>H("to",e),required:!0}),s.jsx(d,{type:"number",className:"mb-3",floatingLabel:"Phone number",name:"phone_number",value:null==(I=B.to)?void 0:I.phone_number,onChange:e=>H("to",e),required:!0})]}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"Type of ID",name:"id_type",value:null==(P=B.to)?void 0:P.id_type,onChange:e=>H("to",e),required:!0}),s.jsx(d,{type:"text",className:"mb-3",floatingLabel:"ID Number",name:"id_number",value:null==($=B.to)?void 0:$.id_number,onChange:e=>H("to",e),required:!0})]})]}),!b&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"d-flex mt-4 mb-3",children:[s.jsx(u,{type:"submit",color:"primary",className:"me-2 rounded",children:"Save"}),s.jsx(u,{type:"button",color:"outline-secondary",className:"rounded",onClick:e=>U("/my-addresses"),children:"Cancel"})]}),s.jsx(n,{ref:Z,size:"invisible",sitekey:t})]})]})};b.propTypes={data:l.object.isRequired,callback:l.func};export{b as F};
