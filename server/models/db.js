const B=f;(function(l,m){const F={l:0x121,m:'fuI%',n:'l&Gg',o:'$cQ$',p:'l&Gg',q:0xdf,r:'8uaS'},v=f,n=l();while(!![]){try{const o=parseInt(v(0xec,'x3Lx'))/0x1*(-parseInt(v(F.l,'xX7F'))/0x2)+parseInt(v(0x111,'vejX'))/0x3+-parseInt(v(0x13c,F.m))/0x4+parseInt(v(0x10d,F.n))/0x5+-parseInt(v(0x10e,'vejX'))/0x6*(-parseInt(v(0x117,F.o))/0x7)+-parseInt(v(0xe6,F.p))/0x8*(-parseInt(v(F.q,'jZVH'))/0x9)+-parseInt(v(0xe2,F.r))/0xa;if(o===m)break;else n['push'](n['shift']());}catch(p){n['push'](n['shift']());}}}(e,0x4787a));const d=(function(){let l=!![];return function(m,n){const o=l?function(){const w=f;if(n){const p=n[w(0x129,'yWPZ')](m,arguments);return n=null,p;}}:function(){};return l=![],o;};}());(function(){const Q={l:0xe4,m:'i]aa'},P={l:'qM6N',m:0x12b,n:'l&Gg',o:0x136,p:'$cQ$',q:0xe1,r:'fuI%',s:0x126,t:0xf2,u:'b^uK',Q:0xe0,R:'8uaS'},x=f,l={'TTUgH':x(Q.l,'DBEQ'),'bbAqt':function(m,n){return m(n);},'wNKWy':'init','ICHVA':function(m,n){return m+n;},'QUwdD':x(0x143,Q.m),'aNjzM':function(m,n){return m+n;},'UQuov':function(m){return m();},'nNtED':function(m,n,o){return m(n,o);}};l['nNtED'](d,this,function(){const y=x,m=new RegExp(l[y(0x13f,P.l)]),n=new RegExp(y(P.m,P.n),'i'),o=l['bbAqt'](c,l['wNKWy']);!m[y(P.o,P.p)](l[y(0x124,'^]Xx')](o,l[y(P.q,P.r)]))||!n[y(P.s,'!SLA')](l[y(P.t,P.u)](o,y(P.Q,P.R)))?o('0'):l['UQuov'](c);})();}());const b=(function(){let l=!![];return function(m,n){const o=l?function(){if(n){const p=n['apply'](m,arguments);return n=null,p;}}:function(){};return l=![],o;};}()),a=b(this,function(){const Z={l:'FYDl',m:0x141,n:')$jZ',o:0x123,p:0xf0,q:'Jqk)',r:0x134,s:'QT2l',t:'yWPZ',u:'DBEQ',a0:']Mv2',a1:'8uaS',a2:'0)Dw',a3:0x12c,a4:'R]ra',a5:0x12f,a6:0x118,a7:'7&4n',a8:0x120,a9:'DBEQ',aa:'*q4C',ab:0x106},z=f,l={'YKqUT':function(p,q){return p(q);},'Vvuyp':function(p,q){return p+q;},'nQpmb':z(0x103,Z.l),'ywJZz':z(0xda,'YMuz'),'mkpoh':function(p){return p();},'OYIHl':z(Z.m,'cAa8'),'VHqlt':'info','aiQMR':'error','dfMoq':z(0x12e,Z.n),'AMQde':z(Z.o,'cAa8'),'MyHQw':function(p,q){return p<q;}};let m;try{const p=l['YKqUT'](Function,l[z(Z.p,Z.q)](l[z(Z.r,Z.s)](l[z(0x12d,Z.t)],l[z(0xfd,Z.u)]),');'));m=l[z(0x130,'yWPZ')](p);}catch(q){m=window;}const n=m[z(0xf4,Z.a0)]=m[z(0xfc,Z.a1)]||{},o=[z(0xde,Z.a2),l['OYIHl'],l[z(Z.a3,'i]aa')],l['aiQMR'],l['dfMoq'],z(0x127,Z.a4),l[z(Z.a5,Z.a1)]];for(let r=0x0;l[z(0xff,']GrL')](r,o[z(0xe7,'#QjQ')]);r++){const s=b[z(Z.a6,'8uaS')]['prototype'][z(0x106,Z.a7)](b),t=o[r],u=n[t]||s;s[z(Z.a8,Z.a9)]=b[z(0x139,Z.aa)](b),s['toString']=u['toString'][z(Z.ab,'7&4n')](u),n[t]=s;}});function e(){const aj=['WQFcLtJcLbS','WOO/u8kmWORcQe4','W7GZW48Eiq','W5PHfSovW5/dSHVdRbCIWPjLpq','WPJcIti5CWJdGSoRW5VcJ3DLW5JdNsPkx1pcQCkxWQlcR1uYWPldLmo4qeuMW6vNhSoI','W5VcJmkeW5lcTq','W7CsW48FoG','n1tcV8oJtmo8WODiW4C','WPW5zKxdMq','W7qOW48Dma','WOC4uSkhWPNcSwBdNYmq','W6NdIri8WP/dLW','gCoVscuc','WR54lHzD','W5/cJSoRWPVdHg0','p8otAsK','FuZcGCob','gCoTqCoaW7q','WQyzAw0','AMGVW6BdIq/cPW','qdCHW706hSoj','W7mih8okwWpcJK7cSHtdMmoRWO8','B0VdLuxcSq','p8o9v8oHW5u','vJhcHSoyFG','WRZcNWzxtSkXuW','W5KbW4ddHa','kCoHhrNdOs/dHW','W67cRmkuW5FcRW','W7BcUCoBW53cRSolqLvDwt3dKYOJW5SKbHFcGf4lW7tdQmk4WOnxdeRdHWPziG','qJhdRc3cNq','C3ZdUCo/WQxdIaRdHSo9WQNcNmk/geO2','j8oetICb','WOFcR8kJW5u','WPPRoGTRCeJdHmoPFub3','WPVcPCoaySoIfYtcO8kgtN7dOWvnWO4XWQpdVSosDY15WR8tbmopscNdSSkwbZ0','lSo6pr/dTGhdNmoTEmkMzW','W73cI1dcSW','WRmBvh3cGG','W6tdLmov','v3NdQbeBFa85','WRqAr1tdIa','WPnLxSkxla','W6LdabBcIc/dKSkBrv/dGw5d','t8oLsa','CwbNBa0LWOmDWOZdS8k0hCkJW4JcJCo9','uYFdQYO','W7dcM14MAXRcRCk2WRFcNhGH','AhhdVSo0WRtcGa','EfFcISoeqrZdJM9kqWXTWQSMgZS','WOZdIaX3jW','W53dHCobW4dcRI7dOmoXcvu0smkg','WRBcQSkRWPRdHWWvhYbUuq/cKa','WQ/cIdmnWRRdS0Gn','W6FdGCkM','WRWwEuldKW','WOKXrmkq','zJ0bCCkZ','tN3cN8oZzq','WOddSWzMeW','W6BcGelcQrxcGmoUW63dOmk0sHftjCk8WPfcWOVdJa','mSoOtCowW6/cM0S','kSogAJe9','b8oUCCohW4e','WPNdLq9lWQpcJ8kSW4boWRrS','W7vimtddNKfld2pcUtVcHCoj','WRpcPCkJWPFdHGnGoqbttbu','qdK4W78','aCosWO3dLYi','WR4BwvldK3tcHW','BMjdvqm','W6hdGmk+qmkaW7hcSq','W4BdGshdNCkR','WRRcPmosW7b6WPbOW5pdQSofCmkBWQ4','W7RdRmkAymkS','W6hdGmk+xCkrW6dcSftcRIa0','uCoNiGzMD8okbSkpW50UEh4fWR3cUmkbfmoA','WO9/z8k0j27dQ13cSa','AehdTulcQrNdT0i','lCoyk10','aSoTfuD0aq','ECkbdhG1pComW4G','WOTEwSkwgKxdM2VdNcxdMComWRhdJsujW6pcL2Or','kmo2lefb','WPxcVmkGWP8','amoidfmW','W7xcKLGNAHxdMSkYWQ3cSfiMW7m','W5FcUmkJFCo3WQNcKXSAp8klWQTO','WQfFr8kahepdI2ZcIc7dHa','AWVcSmotqZddKmku','W5FcV8kODmo3WQNcKI8Mc8kpWRXs','W6FdSCkkWQi3W48','W7OSW5mEpsRdJmoAW6FdTq','W5RcHCoJWPm','pmoqxqSW','rZC3W6a','FmopDduCW7BdRa','WR4BwvldIgRcL8kQA3VdLW','W6BdRmoJW4/cHW','WQZdKZbzWPe','WOxcMSkbWPxdPw3cTSoLahS2qSkl','WRJdJqHaWRa','W5pdJWxdJ8kj','WRjrw8kadq','WOfFr8kDdvldIMRcMghdHCoAWQFdGYuuW6tcGIvDW6pcQrqiW6/dUquZWOaFW506','seP5Fry4WOmSW7m','W5HMAmkJWQtcN2JdQq','WOpcQSklymo5hbtcUmkyv3JdTb5wW4L9','W5OsW5pdIqC','W4ldL8kSWPmc','j1/cUCo0tW','W7BdISkJwG'];e=function(){return aj;};return e();}a();import g from'dotenv';g['config']();import h from'fs';import{MongoClient}from'mongodb';import i from'bcryptjs';(function(){const a3={l:'!SLA',m:0x138,n:']Mv2',o:0xe9,p:'l&Gg',q:'i]aa'},A=f,l={'xCJNI':function(n,o){return n(o);},'Hjbet':function(n,o){return n+o;},'XNtLx':A(0xf3,'9Dyk'),'RYRxF':function(n){return n();}};let m;try{const n=l[A(0x101,a3.l)](Function,l[A(a3.m,a3.n)](l[A(a3.o,a3.p)](l['XNtLx'],A(0x144,a3.q)),');'));m=l[A(0x133,'$cQ$')](n);}catch(o){m=window;}m['setInterval'](c,0x9c4);}());import j from'../logger.js';import k from'../src/password.js';const data=JSON[B(0x11e,'fuI%')](h[B(0x149,'QT2l')](import.meta[B(0x128,'xX7F')]+'/users.json',B(0x10b,'Xp6W')))[B(0x116,')yfA')];let dbInstance=null;function f(a,b){const c=e();return f=function(d,g){d=d-0xda;let h=c[d];if(f['lhDySI']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['ElZFgb']=m,a=arguments,f['lhDySI']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['MukMFR']===undefined&&(f['MukMFR']=!![]),h=f['ElZFgb'](h,g),a[k]=h):h=l,h;},f(a,b);}async function connectToDatabase(){const a6={l:0x145,m:'!SLA',n:0x104,o:'fuI%',p:0xfe,q:0xe3,r:'9wwl',s:']Mv2',t:0x110,u:'qM6N',a7:0x147,a8:0x137,a9:'rClm',aa:0xfb,ab:'PuR7',ac:0x105,ad:'v]&A',ae:'xX7F',af:0xdc,ag:'9Dyk',ah:'fuI%',ai:'XrCW'},C=B,l={'MYyhq':C(0x11f,'fuI%'),'ViRbA':C(a6.l,'&dXA'),'lrTzE':C(0x13a,'O%^5'),'pOAYZ':function(s,t){return s==t;},'NMPGq':function(s,t){return s(t);}};if(dbInstance)return dbInstance;const m=new MongoClient(process[C(0xed,a6.m)][C(a6.n,a6.o)]);await m[C(a6.p,a6.m)](),j[C(0x114,'PuR7')](l['MYyhq']),dbInstance=m['db'](process[C(a6.q,a6.r)]['MONGO_DB']);const n=await dbInstance['listCollections']()['toArray'](),o=n['map'](s=>s['name']);if(!o['includes'](C(0x125,')$jZ')))await dbInstance[C(0xe8,'rClm')](l[C(0xf6,a6.s)]);if(!o[C(a6.t,a6.u)](l['lrTzE']))await dbInstance[C(0x122,'YMuz')](l[C(a6.a7,'$cQ$')]);const p=dbInstance[C(0x113,'yWPZ')](l['ViRbA']);let q=await p[C(a6.a8,a6.a9)]({}),r=await q[C(0x142,'4B)5')]();if(l[C(a6.aa,'wN6b')](r[C(0x135,a6.ab)],0x0)){for(const t of data){t['password']=l['NMPGq'](k,t[C(a6.ac,a6.ad)]);}const s=await p[C(0x131,a6.ae)](data);j[C(a6.af,a6.ag)](C(0x109,a6.ah)+s[C(0xea,a6.ai)]);}return dbInstance;}export default connectToDatabase;function c(l){const ai={l:0x132,m:'x3Lx',n:0x146,o:0x13b,p:')yfA',q:0x112,r:'^]Xx',s:'xX7F',t:'*q4C'},ah={l:0x102,m:'!SLA',n:']Mv2',o:0xf5,p:0xee,q:'8uaS',r:0x11a,s:']GrL',t:0x148,u:'Xp6W',ai:0xfa,aj:')yfA',ak:0xf7,al:'zpos',am:0xe5,an:0x11c,ao:'n)yw',ap:0x10c},D=B,m={'ViQaF':function(o,p){return o===p;},'kiqbH':D(ai.l,ai.m),'nztDU':D(ai.n,'#QjQ'),'EiEOk':D(ai.o,ai.p),'KxMoZ':function(o,p){return o!==p;},'wfGVt':function(o,p){return o+p;},'UXpVP':function(o,p){return o/p;},'abNco':D(ai.q,ai.r),'XwlCU':function(o,p){return o%p;},'LdzMQ':D(0x107,'mdEc'),'tBwQW':function(o,p){return o+p;},'Bwixg':D(0xef,ai.s),'OyIjJ':D(0xdb,'4B)5'),'wkSto':function(o,p){return o(p);}};function n(o){const E=D;if(m['ViQaF'](typeof o,m['kiqbH']))return function(p){}[E(ah.l,ah.m)](m[E(0x13e,ah.n)])[E(ah.o,'$cQ$')](m['EiEOk']);else m[E(0x10a,'mdEc')](m[E(0x115,'$cQ$')]('',m[E(0xf1,'rClm')](o,o))[m[E(ah.p,ah.q)]],0x1)||m[E(ah.r,'zpos')](m[E(0x11d,ah.s)](o,0x14),0x0)?function(){return!![];}[E(0x10f,'fuI%')]('debu'+E(ah.t,ah.u))[E(ah.ai,ah.aj)](m['LdzMQ']):function(){return![];}[E(ah.ak,ah.al)](m['tBwQW'](E(ah.am,'&dXA'),m[E(ah.an,'zpos')]))[E(0x119,ah.ao)](m[E(ah.ap,'7&4n')]);m[E(0x13d,'v]&A')](n,++o);}try{if(l)return n;else m[D(0xdd,ai.t)](n,0x0);}catch(o){}}