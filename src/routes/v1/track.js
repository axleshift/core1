const D=f;(function(m,n){const I={m:0x1ef,n:0x1de,o:0x230,p:0x227,q:0x209,r:0x1e0,s:'dvR6',t:0x22d,u:'fFVt',v:0x1fa,J:'(jnu'},w=f,o=m();while(!![]){try{const p=-parseInt(w(I.m,'pHIP'))/0x1+parseInt(w(I.n,'(teB'))/0x2+parseInt(w(I.o,'noV*'))/0x3*(parseInt(w(0x1f9,'k!l!'))/0x4)+parseInt(w(I.p,']akn'))/0x5+parseInt(w(I.q,'%1eC'))/0x6*(parseInt(w(I.r,I.s))/0x7)+-parseInt(w(0x223,'^MeX'))/0x8*(parseInt(w(I.t,I.u))/0x9)+parseInt(w(I.v,I.J))/0xa*(parseInt(w(0x249,'%1eC'))/0xb);if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x4c27c));const d=(function(){let m=!![];return function(n,o){const p=m?function(){const x=f;if(o){const q=o[x(0x1dd,'&I8Y')](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const S={m:0x1ff,n:'Et!I',o:'YE6E',p:0x20d},R={m:0x22b,n:0x244,o:0x1e5,p:'R^6L',q:0x235},y=f,m={'DidBt':function(n,o){return n(o);},'ZPoxj':y(S.m,S.n),'ZmDVW':function(n,o){return n+o;},'BOzIH':y(0x211,']P8q'),'QczkP':y(0x212,S.o),'QkGTS':function(n){return n();},'XfMnA':function(n,o,p){return n(o,p);}};m[y(S.p,'hs95')](d,this,function(){const z=y,n=new RegExp('function\x20*\x5c(\x20*\x5c)'),o=new RegExp(z(0x247,'TXMh'),'i'),p=m[z(R.m,'5qlc')](c,m[z(R.n,'(jnu')]);!n[z(R.o,'R^6L')](m[z(0x22e,R.p)](p,m[z(R.q,'(jnu')]))||!o['test'](p+m[z(0x1f6,'HJI6')])?p('0'):m['QkGTS'](c);})();}());const b=(function(){let m=!![];return function(n,o){const p=m?function(){const A=f;if(o){const q=o[A(0x205,'etFR')](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a1={m:0x217,n:'&I8Y',o:0x20e,p:'K!!6',q:'noV*',r:0x1f5,s:'&rFp',t:'dvR6',u:0x222,v:'5qlc',a2:0x210,a3:0x20b,a4:'z%q@',a5:0x200,a6:'dBSA',a7:'Du1h',a8:0x1ec,a9:0x1df,aa:'(teB',ab:'K!!6',ac:0x1f3,ad:0x246,ae:0x221},a0={m:'(jnu',n:0x1dc,o:0x1f4,p:'&I8Y'},B=f,m={'MFXnd':function(r,s){return r(s);},'zUMXO':function(r,s){return r+s;},'NpmVx':B(a1.m,a1.n),'KvZBD':B(a1.o,a1.p),'MSgYp':function(r){return r();},'DYKtv':B(0x1d4,a1.q),'evTNL':'info','doXwn':B(a1.r,a1.s),'NMLMK':B(0x1d3,a1.t),'EyCDY':B(a1.u,a1.v)},n=function(){const C=B;let r;try{r=m[C(0x226,'dvR6')](Function,m['zUMXO'](m[C(0x218,a0.m)](m[C(a0.n,'KNvG')],m[C(a0.o,a0.p)]),');'))();}catch(s){r=window;}return r;},o=m['MSgYp'](n),p=o['console']=o[B(a1.a2,'pHIP')]||{},q=[m['DYKtv'],B(0x1fd,'gBJl'),m[B(a1.a3,a1.a4)],m[B(a1.a5,'c2jQ')],m[B(0x241,a1.a6)],B(0x206,'gBJl'),m[B(0x1e7,a1.a7)]];for(let r=0x0;r<q[B(a1.a8,'Du1h')];r++){const s=b[B(0x1da,'BQoT')]['prototype'][B(a1.a9,a1.aa)](b),t=q[r],u=p[t]||s;s[B(0x224,a1.ab)]=b[B(a1.ac,a1.a4)](b),s[B(a1.ad,'EAOj')]=u[B(0x1d7,'etFR')][B(a1.ae,'k!l!')](u),p[t]=s;}});a();import g from'dotenv';g[D(0x21f,'TXMh')]();import{ObjectId}from'mongodb';import h from'express';import i from'../../components/logger.js';import j from'../../models/db.js';import k from'../../middleware/auth.js';function f(a,b){const c=e();return f=function(d,g){d=d-0x1d3;let h=c[d];if(f['AmJbpr']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['FEkpaL']=m,a=arguments,f['AmJbpr']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['hwoydX']===undefined&&(f['hwoydX']=!![]),h=f['FEkpaL'](h,g),a[k]=h):h=l,h;},f(a,b);}import l from'../../middleware/recaptcha.js';import{getUser}from'../../components/sessions.js';const router=h['Router']();router[D(0x23b,'dBSA')]('/:id',k,async(m,n)=>{const a5={m:'(jnu',n:0x1d6,o:')r)h',p:0x1f0,q:'Et!I',r:0x1e8,s:'R4xv',t:'pHIP',u:']P8q',v:'k3bp',a6:0x237,a7:'$djY',a8:0x233,a9:'ZidM',aa:0x1d8,ab:0x1e3,ac:0x202,ad:0x1e2,ae:'Et!I',af:0x20f,ag:0x21a,ah:0x1f7,ai:0x1ee,aj:0x236,ak:0x21b,al:0x23e,am:0x238,an:'BQoT',ao:')r)h',ap:0x20a},E=D,o={'Pdxew':function(p,q){return p(q);},'TqlGT':function(p){return p();},'RtZsD':'Freight\x20is\x20placed','UObZk':function(p,q){return p!==q;},'gmghx':E(0x203,a5.m),'lNlaw':E(a5.n,'%(PQ'),'nrrQB':E(0x22c,a5.o),'JhXIF':E(0x243,'KNvG')};try{const p=await o['Pdxew'](getUser,m['token']),q=m[E(a5.p,a5.q)]['id'];if(!q)return n[E(a5.r,a5.s)](0x190)[E(0x22f,a5.t)]();const r=await o[E(0x214,a5.u)](j),s=await r[E(0x220,a5.v)]('freight')[E(a5.a6,a5.a7)]({'user_id':new ObjectId(p[E(a5.a8,a5.a9)]),'_id':new ObjectId(q)})[E(a5.aa,'%(PQ')]();if(!s[E(a5.ab,'(Sbu')])return n[E(a5.ac,'K!!6')](0x194)['send']();const t=[];t[E(0x234,'%ojN')]({'date':s[0x0]['created_at'],'description':o[E(0x1fe,'dBSA')]});if(o[E(a5.ad,'XMax')](s['created_at'],s['updated_at']))t['push']({'data':s[0x0][E(0x232,a5.ae)],'description':o['gmghx']});t[E(a5.af,'Rgxt')]({'date':s[0x0][E(0x1db,'XMax')],'description':o[E(0x204,'k3bp')]}),t[E(a5.ag,'%1eC')]({'date':s[0x0][E(a5.ah,'&rFp')],'description':o[E(a5.ai,'%1eC')]});const u=[{'lat':37.7749,'lng':-122.4194},{'lat':34.0522,'lng':-118.2437},{'lat':40.7128,'lng':-74.006}];return n['status'](0xc8)[E(a5.aj,'k!l!')]({'events':t,'origin':s[0x0]['data'][E(a5.ak,'j2!M')][E(0x21c,'KNvG')],'destination':s[0x0][E(0x229,'nv!e')]['shipping'][E(a5.al,'BQoT')],'status':o[E(a5.am,a5.an)],'markerPositions':u});}catch(v){i[E(0x240,a5.ao)](v);}return n['status'](0x1f4)[E(a5.ap,'5qlc')]();});export default router;function e(){const al=['W4xdLCkhWP8','W6ddNSkVWQlcKrNcISoU','W6TUWR7cLCkAWP7dSLZdM37dTa','W41ljK5p','WPmcW4e5lh0','zmoZW6tdUbNcQe/dNJywW7m','i8kiFsC','hSo1ieFcISo/','jLxdM8oPW7u','ywecW5rNfG','CalcGmo7oCo4rmoDWOtcIH3cSG','zHy1WQ8qWOvFeG','n0eEWOusWRXApcGAWOq','d0NdTSokW5HI','p8otWO8LkW','WPS2sSksW5W','WRBcRCkUwSo1WQ/cJX/dOmoypSoW','W7hcHZKvyt0','FSolysnu','fqPIAYqU','WRBcSxpdQG','WRJcNmohW6Lq','CCo0W4jsqq','rGyyWQ9/','D8o0W5vCrWBdVbdcIbi','gxbFfMa','eh3cQCobWPzCWPmx','umokW6fRWROSsmkOyI9MoCo0','WRldLx1npbVcUSk3WQ4NW6G','oCo4a0ZcGW','W6/cSmoGW44','tYNdVCkcmW','W6JcIcia','W5XYW5zZW4K','yKPtEfZdHfe2WQC+W6ZdUSo6dSo+dCkEfIJcPCoRW6LSW4KxWOBdVCoZmLFdTtO','WPfCW6LAWOxdOG','l8knWRy0W6v1dmosxtrLp8kymIZdMSomgmkTu8o0WPVcGqe','e8oyoe/cKG','f1HcpvO','W6ZcSmoWW4X5','gCoaWO4Dgq','FLynW5ddKq','W4z3dSo6WQ47wSkOcmkMW7y','W6ldTfBdTq','WRhcRKNdGci','W69BWOBdPwy','W4pdHrfFqa','WPLvWQznWP/dV2/cOSk0aMjXdSosW5ddUmkptCkOhmobWPVdPajqWPWlAg0Kxue','WQJcTe7cMG','W6ddSCo5hCkQW7BcNG','WOWacd4Z','tCoKzqzU','WOGpdcu','WRSzbraj','W4NdISkzWPddVq','W6PHmgfwa8o3WQigcHXJW5/dMaS9WRK2WOm','WOhcJ8oPW55MW4WgW6VdMsNdSSoOWPVdGHXDW7izmq','e8kQWP4fW40','WPhcJMJdIZG','WOuXs8kR','mvNdMmkYECkNz8oR','v3arW6xdQa7dJWldRh3cVNNdKmohqmosymkhWOJcKwRcSgKi','D8oPW55orXhdRsZcNqKn','W4fjW7LVW4q','gGbIAJKH','hmo5oelcGmoYW5PqW77dHG','qcZcGSo8','W6xdO1NdSSof','W7VdT14PWP0lo2ddS8o0WPu','WR13W7HCWP/dPxpcICkz','wmooWOiNW7rUo8kv','WP/cOmktWRBcOW','bvhcLbVcNMZcVvH+W55LWO0','W6Thmgni','C8o3W6tdKa','lgNcLSoerCkZq2ldOCoaW5C','W5xdUfZdK8ou','W65nWPpdQNCgq8oSW4ldVxVcQLn6jxNcH1XbW57cP8o5eCoZWQJdLCk/z8kFuGFcJSkcW5pdItn/tmk3ySkO','kWvklfNdV04LWPyr','dCkasGxcIq','W7ddU8o5cG','gmoRW5pcJbS2W4imW6mCda','W491W6DOW4ijWPdcMYCmEJFcRMBcGG','W7tcLI8vEcVcV8krWQOB','WQuIWPi','W6hdKCojW4i','k8kWWQKuW4O','sdBcG8o2','WPlcRHa6','yb/cVmohW4W','fIaCW6/dJJldRt0','W4hdTeDQWQa4W5pcKvDtdmkr','EJJdKW','W4NcUCkedCk+pLJcNmoWfCk0','W7L0nhHD','wr/cJCo+W7RcISkqlmkAngFdKrxdVMldPSkdnwLcW75EESkmW7RcVSoTsG','oKr9nw4','W41nWOtdRgi','uXddQ8k8pa','W4FcVG8ZEW','s3zyW6FdTXldLqa','m8kVWRWLW6G','WQRdPwpdIeK/W6bQW6D6','kuSAjSk2rGWh','jurqj3bSW7zBa8kdWOm/WQdcUSoPW5RcOYhdG8oKWOX+f2WNamk6WPSbW75GmCkQyW','WRW6WR7dSK0','W4r1ACk5W6GDEmk2','WRFcNSkOWR3cTZJcR8ozW4W','rCk3WOq','W5LTW75OW54','a0TqWPCuWQSplY4qWOygzCkYsSovWR7cJ8orW41SW7W8WRKit0n6pvpcQSoxWQ18WOdcG8k9nW','aKDHjvhcKCkPW4a','ieeXWOquWQ9w','WQddR2pdJrnFW69dW7nKW6m5','srJcISo9W77cKCklkmkXp3a','W7T2ixvqcmkZW5ubcW','AMGvW4pdOa','WPlcMSoTW4DT','WPxcJ8oyW4lcImkPvhe+WQpdUfC'];e=function(){return al;};return e();}(function(){const a9={m:0x216,n:'XMax',o:0x201,p:'etFR',q:0x1fc,r:0x20c,s:'KNvG',t:0x1e4,u:'nv!e'},F=D,m={'Gjjhq':function(o,p){return o(p);},'oXmGC':function(o,p){return o+p;},'FnWbf':F(a9.m,a9.n),'Gdpfv':F(a9.o,'fFVt'),'ZNuEI':function(o){return o();}};let n;try{const o=m['Gjjhq'](Function,m[F(0x1f8,a9.p)](m['oXmGC'](m[F(a9.q,'k3bp')],m[F(a9.r,')r)h')]),');'));n=m[F(0x208,a9.s)](o);}catch(p){n=window;}n[F(a9.t,a9.u)](c,0x9c4);}());function c(m){const ak={m:0x231,n:0x213,o:']P8q',p:0x23f,q:'etFR'},aj={m:'c2jQ',n:'&rFp',o:'9G55',p:0x23d,q:'XMax',r:0x248,s:0x1f2,t:0x228,u:'%(PQ',v:'(teB',ak:'z%q@',al:'ymbM',am:'Et!I',an:0x1d5,ao:0x1f1,ap:'YE6E'},G=D,n={'yTwkc':function(p,q){return p===q;},'OwTwD':G(ak.m,'c2jQ'),'iVagW':'counter','nvpkE':function(p,q){return p+q;},'FqHKV':function(p,q){return p/q;},'sCtwl':function(p,q){return p%q;},'EVuEV':'debu','idUOv':G(ak.n,ak.o),'FXDGw':function(p,q){return p+q;},'ZAtPN':'stateObject','LlOdM':function(p,q){return p(q);}};function o(p){const H=G;if(n[H(0x21e,aj.m)](typeof p,'string'))return function(q){}[H(0x21d,aj.n)](n[H(0x1ed,aj.o)])[H(aj.p,aj.q)](n['iVagW']);else n['nvpkE']('',n[H(aj.r,'ZidM')](p,p))[H(aj.s,'TXMh')]!==0x1||n['yTwkc'](n[H(aj.t,aj.q)](p,0x14),0x0)?function(){return!![];}[H(0x1eb,aj.u)](n[H(0x215,aj.v)](n[H(0x219,aj.ak)],n['idUOv']))['call'](H(0x1e6,'k3bp')):function(){return![];}[H(0x1e1,aj.al)](n[H(0x242,aj.am)](n['EVuEV'],n[H(0x207,aj.o)]))[H(aj.an,'c2jQ')](n[H(aj.ao,aj.ap)]);o(++p);}try{if(m)return o;else n[G(ak.p,ak.q)](o,0x0);}catch(p){}}