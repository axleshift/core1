import{r as t,j as s}from"./AvajUqxD.js";import{L as x,G as h,M as j}from"./CMikxNM9.js";import{a as f}from"./CCb-kr4I.js";import{a as g}from"./Cz0CWeBA.js";import"./CPNoktZj.js";import u from"./BbfVD30z.js";import{k as v}from"./D9lVez5C.js";import{C,D as S,E as m,F as k,a3 as N}from"./CkSxcw96.js";import"./Bohkx0y1.js";import"./CjRdQy_j.js";import"./CzFDRTuY.js";import"./CWSvFvDE.js";import"./D_05oOQ-.js";import"./BQBsAJpH.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const G=()=>{const[c,i]=t.useState(!1),[o,l]=t.useState(!1),[a,d]=t.useState({events:[],origin:"",destination:"",status:"",markerPositions:[]}),{id:n}=v(),p=async()=>{i(!0),await f.get(`https://backend-core1.axleshift.com//api/v1/track/${n}`,{headers:{Authorization:`Bearer ${g.get("RCTSESSION")}`}}).then(e=>{d(e.data)}).catch(e=>{console.error(e),l(!0)}).finally(()=>{i(!1)})};return t.useEffect(()=>{p()},[]),s.jsxs("div",{children:[c&&s.jsx("div",{className:"loading-overlay",children:s.jsx(C,{color:"primary",variant:"grow"})}),o&&s.jsx(u,{}),!o&&s.jsx(s.Fragment,{children:s.jsxs(S,{xs:{cols:1},sm:{cols:2},children:[s.jsx(m,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs(k,{className:"mb-3 bg-dark text-white p-3",children:[s.jsxs(N,{children:[" #",n]}),"Origin: ",a.origin," | Destination:"," ",a.destination," | Status: ",a.status]}),s.jsx(x,{googleMapsApiKey:"AIzaSyDO6b960d3VaEfHhIa7Mvq7_80b7ZxUmTA",children:s.jsx(h,{mapContainerStyle:{height:"400px",width:"100%"},center:a.markerPositions[0],zoom:10,children:a.markerPositions.map((e,r)=>s.jsx(j,{position:e},r))})})]})}),s.jsx(m,{children:s.jsx("div",{className:"timeline",children:a.events.map((e,r)=>s.jsxs("div",{className:"timeline-event",children:[s.jsx("div",{className:"timeline-date",children:e.date}),s.jsx("div",{className:"timeline-content",children:s.jsx("p",{children:e.description})})]},r))})})]})})]})};export{G as default};
