const I=f;(function(o,p){const S={o:0x247,p:'@k0m',q:0x1f1,r:0x24b,s:'EZHl',t:0x261,u:0x206,v:'[ccq',w:']]6u',x:0x1ff,y:'bF3L',z:0x21b,A:0x225},C=f,q=o();while(!![]){try{const r=-parseInt(C(0x20b,'kyqo'))/0x1*(-parseInt(C(S.o,S.p))/0x2)+parseInt(C(S.q,'paex'))/0x3+parseInt(C(S.r,S.s))/0x4*(parseInt(C(S.t,'p7sV'))/0x5)+-parseInt(C(S.u,S.v))/0x6*(parseInt(C(0x212,']ESY'))/0x7)+parseInt(C(0x1eb,S.w))/0x8*(-parseInt(C(S.x,S.y))/0x9)+-parseInt(C(S.z,'k]A1'))/0xa+parseInt(C(0x237,'@k0m'))/0xb*(parseInt(C(S.A,'sQ3b'))/0xc);if(r===p)break;else q['push'](q['shift']());}catch(s){q['push'](q['shift']());}}}(e,0x2ee88));const d=(function(){const T={o:0x215};let o=!![];return function(p,q){const r=o?function(){const D=f;if(q){const s=q[D(T.o,'PPa#')](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}());(function(){const a2={o:'k6Ts',p:0x20d,q:'#)a]',r:'Y5BL'},a1={o:0x232,p:'Y5BL',q:0x1f7,r:'0zDv',s:0x202,t:'k]A1',u:0x235,v:0x20f,w:'EZHl',x:0x244,y:'k]A1',z:0x1fc,A:'p7sV'},E=f,o={'YsmdD':E(0x1f0,a2.o),'sVUcH':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','HoRTr':function(p,q){return p(q);},'iALfc':E(0x23e,'bF3L'),'xCZey':function(p,q){return p+q;},'jgGZJ':'chain','xvxTy':E(a2.p,a2.q),'sTSAh':function(p){return p();},'YxiRJ':function(p,q,r){return p(q,r);}};o[E(0x249,a2.r)](d,this,function(){const F=E,p=new RegExp(o['YsmdD']),q=new RegExp(o['sVUcH'],'i'),r=o[F(a1.o,'kyqo')](c,o[F(0x238,a1.p)]);!p[F(a1.q,a1.r)](o[F(a1.s,a1.t)](r,o[F(a1.u,a1.p)]))||!q[F(a1.v,a1.w)](r+o[F(a1.x,a1.y)])?o['HoRTr'](r,'0'):o[F(a1.z,a1.A)](c);})();}());const b=(function(){let o=!![];return function(p,q){const r=o?function(){if(q){const s=q['apply'](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}()),a=b(this,function(){const ad={o:0x1f9,p:'Q0Tf',q:0x231,r:'k]A1',s:')0eH',t:'e@]N',u:0x20e,v:'xd&^',w:0x22d,x:'9S7W',y:'cyzi',z:0x1f2,A:'JmeC',B:0x207,ae:'aiZE',af:'aiZE',ag:'@k0m',ah:0x23d,ai:'p7sV',aj:'@k0m',ak:'EN*8',al:0x228,am:0x1f6,an:'$nv$'},ac={o:0x1fe,p:'JmeC'},G=f,o={'tNEDY':function(t,u){return t(u);},'QFLVK':function(t,u){return t+u;},'pEHYy':function(t,u){return t+u;},'xXxEA':G(ad.o,'sQ3b'),'lrRLb':G(0x20c,'a%9x'),'dBLSt':function(t){return t();},'TkABr':G(0x248,ad.p),'hNNuu':G(ad.q,ad.r),'BEjUm':G(0x24d,ad.s),'oCRrq':G(0x1fb,ad.t),'wTcHg':G(ad.u,ad.v),'DBUYn':G(ad.w,ad.x),'FFPvr':function(t,u){return t<u;}},p=function(){const H=G;let t;try{t=o[H(0x203,'sQ3b')](Function,o[H(ac.o,'ED4n')](o['pEHYy'](o['xXxEA'],o[H(0x229,ac.p)]),');'))();}catch(u){t=window;}return t;},q=o['dBLSt'](p),r=q[G(0x21c,ad.y)]=q[G(ad.z,ad.A)]||{},s=[G(ad.B,ad.ae),o[G(0x25f,ad.af)],o[G(0x234,ad.ag)],o[G(ad.ah,ad.ai)],o[G(0x24c,')0eH')],o[G(0x25b,'aiZE')],o[G(0x200,ad.aj)]];for(let t=0x0;o[G(0x208,'^8MN')](t,s[G(0x217,'bcbH')]);t++){const u=b[G(0x22e,ad.ak)][G(ad.al,'^8MN')][G(ad.am,'Acl2')](b),v=s[t],w=r[v]||u;u['__proto__']=b[G(0x23b,ad.v)](b),u[G(0x1ef,']]6u')]=w['toString'][G(0x25a,ad.an)](w),r[v]=u;}});function f(a,b){const c=e();return f=function(d,g){d=d-0x1eb;let h=c[d];if(f['sWdEBg']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['NZhwgK']=m,a=arguments,f['sWdEBg']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['LSPlQj']===undefined&&(f['LSPlQj']=!![]),h=f['NZhwgK'](h,g),a[k]=h):h=l,h;},f(a,b);}a();import g from'dotenv';g[I(0x236,'k6Ts')]();import{ObjectId}from'mongodb';import h from'express';import i from'moment';import j from'ua-parser-js';import k from'../../models/db.js';import l from'../../components/logger.js';import m from'../../components/scm.js';function e(){const aB=['W6rHWO3dHq','WOiqzr8','WPGuWOpdHW','W7zwtmktWR8','W7ldNbzmDZVcVv3dLf8TW5tcTIpcJ1fevCoI','WQvpW6e3W5BcHcy','W48ZWPqMWRmeWPBdNtC','W4WsW4a1W7K','WRfPC8kjsq','WOucASoZWRi','tSkFh8k4DtL6e1uGumoNfW','fa9woKO','W4pdTWRcIJO','W7ldGWjtjq','W7tdTYD9xa','W4ZdQSkXW7zI','W5JdUgZcImoAa8oGWRJcVbyN','bH7cMdT9W5NdKq','c8oncq','qSofWOxdNmke','W7xcSJRcPCkwyHRcJqKScmowWQ0','W6pdV2RcHCoo','W5NcOI5yWRPHFd3cNSoe','W73dHmopWOPIW5VdKGrhCHldPx58EYRcOCoRW6bCqSk/zSklBbFcNxRdP8oiuYi','W7SWoCouW5a','bSoKW61wfa','ECoPW4JcOq','W57dRN3cS8oRfSoIWQ/cPam','W4SNWPS','WRiWW5VcJ3NcRghdMdZcO0FdV3G','x8kilw3cQX8','emoYW6tdHG','WQf/WPBdUvW','WPeUsmowWPi','W4VcSKuEW47dVq','W7uoW7uUW70','iCkIWPBdHG','eSokW5ZdJSo5W4W','WRNcT2OdBCozWQpcMhTaW4qkWQ8','WQnTpqefxSkB','pIXUbG','B8o6cM7cJG','AmoIWQBdNSkPsComie9xWRaYbG','bCo+W7NdKCoLvCokya','WPWQWPylWRSvWPS','ymoOl37cPmoO','W6KaWQeQWRK','pYTalei','WRhcGfSlCJ/dVdhdUva','aKNdGsvoW4xdGSo6Ca','ptHKdN0','DmoXWRRdNSkzxmowm08','WRNcMMT0WRK','tCofWRtdQCke','W6yXcmotW5BdLxi','ASoaWPddKmkq','r8oHxH/cIG','WQxdQMBdO8otkv/cHWC7mq','WQnGWPpdU1f1Aq','hCo8WP/cHdi','W6pdRJ5z','WQtdVKK+WOu','ESoKW5lcUurdpdrfWQ7dJZldGCkXvW','oannfLe','W4hdUL/cM8o+','lmkSWPxdHvBcTa','zxOWurvcWPJdQtNcRmo1','W4ldNftcP8ox','aYBdPW','W5JdRY1coCks','emoSW6fE','WQFcIxpcNJb4w8kPkmk/da','W70dW7KHW7W','fSocrmo6','W7e/jCon','W59jWPZdQvRdOGSk','BXBcNq','kmkMWO8','ECotpw3cSW','W7ldTIbIjq','WR3dUcBdS8oinvNcKaeHimoxWRjTkCojW6TmWRJcO01hW7RdNMbjWPFcIwe5yd4','W4ldIs10ga','y3vVox5AWQBdTW','DmoUW6xcSW','W7ldPxhcK8o+','Fmo1W4pcKWVdOmkry1PNwqS','p8k6WOpcG2OAyY1r','q8k/hMVcRW','sCkopNBcRa','CepdLs0M','bXxdQmkZWQu','WRuGs8omWPC','FmkrWPFdG8k3','lmkSWPFdJ1RcSmk9E1DQ','WPlcJmkWW7NdSq','k8kMWPNdLG','uq3cMHTSW4JdKmo0yHhdPKy','Fmofx3iuWRe','WOejEXD1','WQhdOM3dOG','t8kzWOhcKCk6WPCLW713W5xdN8kOCW','WOJcVCk4W6C','emo2dxyG','eCo+W77dSmoPsCorFY4','lSomd10ZW5tdLmkB','WQBcNfHmWQ4x','m8ojl3W1','W4tcUeukW47dP8oAD8kdzSk1','WOX3WQyLW6pdV8okEWi','amoGW7Tpa8keA31nWQnVWOqiWOyAFCoVWQZcIa','W6eVySkjDW3cLSoM','nmk4BIxcHSoQz8oueSo1','WPezhCkLeZ00fW','WRCZsmoSWPu','WQr2umkrqIJcOmo5','kCk2WPxdGeVcUSkMFbGUyMtcKCk6WQNcHW','gCo0WQSnddRcMmo/W63dMJFcUq','WRBcH1DlWRqiW6m','bSoQW6rFhW','urZcJrPZW5K'];e=function(){return aB;};return e();}import n from'../../middleware/auth.js';import{getUser}from'../../components/sessions.js';const router=h[I(0x23a,'k]A1')]();router[I(0x242,'k6Ts')]('/',n,async(o,p)=>{const ak={o:'aiZE',p:0x220,q:'$xdj',r:'ED4n',s:0x213},aj={o:0x252,p:0x250,q:'[ccq',r:'#)a]'},ai={o:'WhF4',p:'Y5BL',q:0x1f4,r:'[ccq',s:0x20a,t:'Y5BL',u:'^8MN',v:0x21f},J=I,q={'nCEzf':function(t,u){return t(u);},'HbrDz':'Active','zAgee':J(0x25d,ak.o),'Ejnsk':function(t){return t();},'zvOFF':J(ak.p,ak.q),'XPpoY':function(t,u){return t!==u;}},[r,s]=await Promise['all']([q[J(0x216,ak.r)](m),((async()=>{const ah={o:0x25c,p:'$xdj',q:'k6Ts',r:'@k0m',s:0x239,t:'vOkY'},K=J,t=await getUser(o[K(0x1f3,'xd&^')]),u=await q['Ejnsk'](k),v=await u[K(aj.o,'k6Ts')](q['zvOFF']),w=await v[K(0x214,'$xdj')](q['XPpoY'](t['role'],K(aj.p,'ED4n'))?{'user_id':new ObjectId(t[K(0x241,aj.q)])}:{})['sort']({'last_accessed':-0x1})[K(0x22b,aj.r)](),x=y=>{const L=K,z=new j(y),A=z[L(ah.o,ah.p)]();return A[L(0x1fa,'Ly8#')][L(0x219,ah.q)]+'\x20'+A['os'][L(0x21d,ah.r)]+'\x20'+A[L(ah.s,ah.t)][L(0x255,'[ccq')];};return w['map'](y=>{const M=K,z=q[M(0x201,ai.o)](x,y[M(0x210,ai.p)]),A=y[M(ai.q,ai.r)]?q[M(ai.s,ai.t)]:q['zAgee'],B=q[M(0x22c,ai.u)](i,y[M(ai.v,ai.u)])['fromNow']();return{...y,'user_agent':z,'active':A,'last_accessed':B};});})())]);return p[J(ak.s,')0eH')](0xc8)['json']({'scm':r,'sessions':s});}),(function(){const ao={o:'EN*8',p:'Y5BL'},an={o:'Z6Of',p:0x253,q:'$nv$'},N=I,o={'mugmY':function(r,s){return r(s);},'xXfzx':function(r,s){return r+s;},'SgWZt':N(0x262,'xd&^'),'eKkKM':N(0x245,ao.o)},p=function(){const O=N;let r;try{r=o[O(0x227,'@k0m')](Function,o[O(0x243,an.o)](o[O(an.p,an.q)](o['SgWZt'],o['eKkKM']),');'))();}catch(s){r=window;}return r;},q=p();q[N(0x205,ao.p)](c,0x9c4);}()),router['get'](I(0x1f8,'!oA^'),n,async(o,p)=>{const aq={o:0x211,p:0x25e,q:'JmeC'},P=I,q={'ofCOf':function(s){return s();}},[r]=await Promise[P(aq.o,'e@]N')]([q[P(0x224,'@k0m')](m)]);return p[P(aq.p,aq.q)](0xc8)['json']({'scm':r});});export default router;function c(o){const aA={o:0x256,p:'EZHl',q:0x21a,r:'oC8#',s:0x254,t:0x258,u:'EN*8',v:'vOkY'},az={o:0x21e,p:'Z6Of',q:0x260,r:'bcbH',s:0x257,t:'Acl2',u:0x22f,v:'PPa#',w:0x204,x:'3bza',y:0x223,z:0x23c,A:'S*Pw',B:0x24e,aA:'hJ0M',aB:0x23f,aC:0x222,aD:'Z6Of',aE:0x1fd,aF:0x1ee,aG:'3xy0'},Q=I,p={'nqQyE':Q(aA.o,'Nog@'),'JHfZl':Q(0x233,aA.p),'RYuuD':function(r,s){return r!==s;},'OpqaU':function(r,s){return r+s;},'HIuBD':Q(aA.q,aA.r),'CKViz':function(r,s){return r===s;},'IFaCr':Q(aA.s,'k6Ts'),'qtfvb':Q(aA.t,aA.u),'cwnIl':'stateObject','DYXoT':function(r,s){return r(s);},'gCzZm':function(r,s){return r(s);}};function q(r){const R=Q;if(typeof r===p[R(az.o,az.p)])return function(s){}[R(az.q,az.r)](p[R(0x218,'p7sV')])[R(az.s,az.t)](R(az.u,az.v));else p[R(az.w,'[8dB')](p[R(0x251,az.x)]('',r/r)[p[R(0x246,'k]A1')]],0x1)||p[R(az.y,'e@]N')](r%0x14,0x0)?function(){return!![];}[R(az.z,az.A)](p['IFaCr']+p[R(az.B,az.aA)])[R(az.aB,'#)a]')](R(az.aC,az.aD)):function(){return![];}['constructor'](p[R(0x22a,'^8MN')]+R(0x1f5,']ESY'))[R(az.aE,']]6u')](p[R(az.aF,'ED4n')]);p[R(0x230,az.aG)](q,++r);}try{if(o)return q;else p[Q(0x24f,aA.v)](q,0x0);}catch(r){}}