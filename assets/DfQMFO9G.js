import{r as e,j as t}from"./B29SdWEC.js";import{a2 as a,a as i,b as s,a3 as r,a4 as l,i as n,a5 as o,d as c,e as m,f as d,g as u}from"./DP5U83K8.js";import{F as p,M as h,N as x}from"./DvQY7fCG.js";import"./ucIcx5RQ.js";import"./E8MUDNEF.js";import"./C_n0TLp5.js";import"./BjhGVRpM.js";import"./BFk34ZWe.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";const v=()=>{var v,j,g,b,y,f,C,O,S,w,R,F;const N=e.useRef(null),k=e.useRef(null),M=e.useRef(null),J=e.useRef(null),[A,B]=e.useState({}),T=e=>{if(!e||0===e.length)return 0;return(e.reduce(((e,t)=>e+t),0)/e.length).toFixed(2)},E=[{color:"primary",value:t.jsx(t.Fragment,{children:T(null==(v=A.shipmetOvertime)?void 0:v.data)}),title:"Shipments",chartRef:N,pointColor:a("--cui-primary"),labels:(null==(j=A.shipmetOvertime)?void 0:j.labels)||["Jan","Feb","Mar","Apr","May","Jun"],data:(null==(g=A.shipmetOvertime)?void 0:g.data)||[0,0,0,0,0,0],yScale:{min:-9,max:39}},{color:"info",value:t.jsx(t.Fragment,{children:T(null==(b=A.costOvertime)?void 0:b.data)}),title:"Average Cost",chartRef:k,pointColor:a("--cui-info"),labels:(null==(y=A.costOvertime)?void 0:y.labels)||["Jan","Feb","Mar","Apr","May","Jun"],data:(null==(f=A.costOvertime)?void 0:f.data)||[0,0,0,0,0,0],yScale:{min:-9,max:39}},{color:"warning",value:t.jsx(t.Fragment,{children:T(null==(C=A.itemsOvertime)?void 0:C.data)}),title:"Items",chartRef:M,pointColor:a("--cui-warning"),labels:(null==(O=A.itemsOvertime)?void 0:O.labels)||["Jan","Feb","Mar","Apr","May","Jun"],data:(null==(S=A.itemsOvertime)?void 0:S.data)||[0,0,0,0,0,0],yScale:{min:-9,max:39}},{color:"danger",value:t.jsx(t.Fragment,{children:T(null==(w=A.weightOvertime)?void 0:w.data)}),title:"Weight",chartRef:J,pointColor:a("--cui-danger"),labels:(null==(R=A.weightOvertime)?void 0:R.labels)||["Jan","Feb","Mar","Apr","May","Jun"],data:(null==(F=A.weightOvertime)?void 0:F.data)||[0,0,0,0,0,0],yScale:{min:-9,max:39}}],W=e=>axios.get(e).then((e=>e.data)).catch((e=>{throw e}));e.useEffect((()=>{(async()=>{const[e,t,a,i]=await Promise.all([W("/insights/shipment-overtime"),W("/insights/cost-overtime"),W("/insights/items-overtime"),W("/insights/weight-overtime")]);B({shipmetOvertime:e,costOvertime:t,itemsOvertime:a,weightOvertime:i})})()}),[]),e.useEffect((()=>{document.documentElement.addEventListener("ColorSchemeChange",(()=>{N.current&&setTimeout((()=>{N.current.data.datasets[0].pointBackgroundColor=a("--cui-primary"),N.current.update()})),k.current&&setTimeout((()=>{k.current.data.datasets[0].pointBackgroundColor=a("--cui-info"),k.current.update()})),M.current&&setTimeout((()=>{M.current.data.datasets[0].pointBackgroundColor=a("--cui-info"),M.current.update()})),J.current&&setTimeout((()=>{J.current.data.datasets[0].pointBackgroundColor=a("--cui-info"),J.current.update()}))}))}),[N,k,M,J]);const[z,H]=e.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(i,{className:"mb-4",xs:{gutter:4},children:E.map(((e,a)=>t.jsx(s,{sm:6,xl:4,children:t.jsx(r,{color:e.color,value:e.value,title:e.title,action:t.jsx(n,{className:"btn",onClick:()=>H(!0),children:t.jsx(p,{icon:h,size:"lg",className:"text-white"})}),chart:t.jsx(l,{ref:e.chartRef,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:e.labels,datasets:[{label:e.title,backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:e.pointColor,data:e.data}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:e.yScale.min,max:e.yScale.max,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:2,tension:.4},point:{radius:6,hitRadius:10,hoverRadius:4}}}})})},a)))}),t.jsxs(i,{children:[t.jsx(s,{xs:6,md:4,children:t.jsx(o,{icon:t.jsx(p,{icon:x}),className:"mb-3",color:"primary",title:"Shipments",value:"50%"})}),t.jsx(s,{xs:6,md:4,children:t.jsx(o,{icon:t.jsx(p,{icon:x}),className:"mb-3",color:"warning",title:"Shipments",value:"50%"})}),t.jsx(s,{xs:6,md:4,children:t.jsx(o,{icon:t.jsx(p,{icon:x}),className:"mb-3",color:"primary",title:"Shipments",value:"50%"})}),t.jsx(s,{xs:6,md:4,children:t.jsx(o,{icon:t.jsx(p,{icon:x}),className:"mb-3",color:"warning",title:"Shipments",value:"50%"})}),t.jsx(s,{xs:6,md:4,children:t.jsx(o,{icon:t.jsx(p,{icon:x}),className:"mb-3",color:"primary",title:"Shipments",value:"50%"})}),t.jsx(s,{xs:6,md:4,children:t.jsx(o,{icon:t.jsx(p,{icon:x}),className:"mb-3",color:"warning",title:"Shipments",value:"50%"})})]}),t.jsxs(c,{alignment:"center",scrollable:!0,visible:z,onClose:()=>H(!1),"aria-labelledby":"",children:[t.jsx(m,{children:t.jsx(d,{id:"",children:"Test"})}),t.jsx(u,{children:"Hello World"})]})]})};export{v as default};
