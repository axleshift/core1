const B=f;(function(j,k){const J={j:'fz!4',k:0x125,l:'ujf$',m:'[Z0z',n:0xf1,o:'AOMk',p:0x117,q:0x12c,r:'Z%IF',s:'P6zW',K:'dT9F',L:0x106,M:'!Ceq'},t=f,l=j();while(!![]){try{const m=parseInt(t(0x12e,J.j))/0x1+parseInt(t(J.k,J.l))/0x2*(-parseInt(t(0x110,J.m))/0x3)+-parseInt(t(J.n,J.o))/0x4+-parseInt(t(J.p,'ujf$'))/0x5*(-parseInt(t(J.q,J.r))/0x6)+-parseInt(t(0x112,J.s))/0x7*(parseInt(t(0x134,'Nj2E'))/0x8)+-parseInt(t(0xfd,J.K))/0x9+parseInt(t(J.L,J.M))/0xa;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x715ea));const d=(function(){let j=!![];return function(k,l){const K={j:'y4K4'},m=j?function(){const u=f;if(l){const n=l[u(0x101,K.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const V={j:0x129,k:'Go0F',l:'8VST',m:0x14a},U={j:0xf8,k:0x10b,l:'dT9F',m:'*#lQ',n:'nRCo',o:0xf3,p:0x104,q:'8[kg',r:0xf4,s:'aEW8',V:'1cnp',W:'xWvr',X:'r7iL'},v=f,j={'IkRum':v(0x148,'xWvr'),'HOwFt':function(k,l){return k(l);},'tytoI':function(k,l){return k+l;},'GRWDF':v(V.j,V.k),'TOUoe':function(k,l){return k+l;},'GtQzi':v(0x11f,V.l),'hDNTx':function(k,l){return k(l);},'sRrDf':function(k){return k();},'twXfm':function(k,l,m){return k(l,m);}};j[v(V.m,'JLTQ')](d,this,function(){const w=v,k=new RegExp(w(U.j,'Sv![')),l=new RegExp(j[w(U.k,U.l)],'i'),m=j[w(0x143,U.m)](c,w(0x12b,U.n));!k[w(U.o,'P6zW')](j[w(U.p,U.q)](m,j[w(0x120,'t)S!')]))||!l[w(U.r,'xWvr')](j[w(0x132,U.s)](m,j[w(0x12d,U.V)]))?j[w(0x108,U.W)](m,'0'):j[w(0x149,U.X)](c);})();}()),(function(){const Z={j:0xe4,k:'Thq@',l:'8[kg',m:'fz!4'},x=f,j={'zbGkf':function(m,n){return m(n);},'wTFtM':x(Z.j,Z.k),'twUzh':x(0x109,Z.l),'tLVAJ':function(m){return m();}},k=function(){const y=x;let m;try{m=j['zbGkf'](Function,j['wTFtM']+j[y(0xe7,'Br0w')]+');')();}catch(n){m=window;}return m;},l=j[x(0x14d,Z.m)](k);l[x(0x138,'bbSP')](c,0x9c4);}());const b=(function(){let j=!![];return function(k,l){const a0={j:0x13f},m=j?function(){const z=f;if(l){const n=l[z(a0.j,'e$NN')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a7={j:0x13c,k:'Sv![',l:0xef,m:'rUau',n:0x103,o:'Br0w',p:'Thq@',q:0x131,r:0x100,s:'8[kg',a8:0xe6,a9:0x135,aa:0x147,ab:'1cnp',ac:0x118,ad:0x140,ae:'AOMk',af:0x121,ag:0xf9,ah:0x12a,ai:'Z%IF',aj:0xec,ak:'*#lQ',al:'47xX'},A=f,j={'jaZCj':function(n,o){return n(o);},'TRTrJ':function(n,o){return n+o;},'wktXP':A(a7.j,'Wg&y'),'OJymn':A(0x105,a7.k),'GHXQb':function(n){return n();},'JVXMV':A(a7.l,a7.m),'UYhjD':A(a7.n,a7.o),'iilRv':A(0x119,a7.p),'YeejY':A(a7.q,'obIv'),'hNLvO':A(0x142,'17^A'),'RffCb':A(a7.r,'QSa@'),'IxKWH':'trace'};let k;try{const n=j[A(0x10d,a7.s)](Function,j[A(0xed,'P6zW')](j['wktXP']+j['OJymn'],');'));k=j[A(0x13d,'1*!I')](n);}catch(o){k=window;}const l=k[A(0x10c,'u7aN')]=k[A(a7.a8,'1cnp')]||{},m=[j[A(a7.a9,'u7aN')],j[A(a7.aa,a7.ab)],j[A(0x133,'obIv')],j['YeejY'],j[A(a7.ac,'nRCo')],j['RffCb'],j['IxKWH']];for(let p=0x0;p<m['length'];p++){const q=b[A(a7.ad,a7.ae)][A(a7.af,'nRCo')][A(a7.ag,'8VST')](b),r=m[p],s=l[r]||q;q[A(0x126,'Nj2E')]=b[A(a7.ah,a7.ai)](b),q[A(a7.aj,a7.ak)]=s[A(0xfe,'1cnp')][A(0x11c,a7.al)](s),l[r]=q;}});function f(a,b){const c=e();return f=function(d,g){d=d-0xe1;let h=c[d];if(f['bynDiR']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['QyGYDx']=m,a=arguments,f['bynDiR']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['bIlqvD']===undefined&&(f['bIlqvD']=!![]),h=f['QyGYDx'](h,g),a[k]=h):h=l,h;},f(a,b);}a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[B(0x123,'QSa@')](B(0xf5,'obIv'),{'recursive':!![]},j=>{if(j)throw j;});g[B(0xff,'QSa@')](B(0x130,'Q9]U'))&&(sessions=JSON[B(0x11b,'8[kg')](g[B(0x107,'Z%IF')](B(0x124,'a0B['),B(0xee,'Sv!['))),i[B(0x11a,'P6zW')](B(0x102,'rUau')));export const addUserProfileToSession=j=>{const a9={j:0x10f,k:0x145,l:0x10f},C=B,k={'IjLLt':C(0xfa,'IOfP')};if(!sessions[j[C(a9.j,']j$f')]])sessions[j[C(0x136,'Q9]U')]]={};if(!sessions[j['email']][k[C(a9.k,'Sv![')]])sessions[j[C(a9.l,']j$f')]][k['IjLLt']]=j;};export const addSession=(j,k,l,m)=>{const ab={j:0xf6,k:'P6zW',l:'Vv!*',m:'Br0w',n:0xe1,o:0xea,p:0x144},aa={j:0xf7,k:'[Z0z'},D=B,n={'jLSWI':'./sessions/sessions.json'};if(!sessions[j[D(ab.j,ab.k)]])sessions[j['email']]={};sessions[j[D(0x12f,ab.l)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[D(0x11d,ab.m)]()},process[D(ab.n,'[Z0z')]['DEBUG']&&g[D(ab.o,'u7aN')](n[D(ab.p,'Q9]U')],JSON['stringify'](sessions),o=>{const E=D;if(o)throw o;i[E(0x14b,'*#lQ')](E(aa.j,aa.k));});};export const getEmailAddress=j=>{const ac={j:'!Ceq',k:0x116},F=B;return Object[F(0x13e,ac.j)](sessions)[F(ac.k,'47xX')](k=>sessions[k][j]);};export const getUserId=async j=>{const af={j:0xe9,k:'e$NN',l:0xe5},G=B,k={'cUayj':function(p,q){return p(q);},'dQYcX':function(p){return p();},'XqqNF':G(af.j,af.k)},l=k['cUayj'](getEmailAddress,j),m=await k['dQYcX'](h),n=m[G(0xfc,'ujf$')](k[G(af.l,'e$NN')]),o=await n[G(0x146,'e$NN')]({'email':l});return i['info'](o),o['_id'];};function e(){const at=['E14NW7vZ','WRWjWRuxW6ddJSkbW7T+W75xe8odcSoVWODlW450a8k+q0NcKq','q2JdLJddOSkKWPS3','hSo9vGxdKCoTDSkBW4m','ymk1b0VdVG','gH3dJHtdVG','WPJcVCohWQxcGG','iSkunIi','pCoeemk5','DmopmI4lWRlcSYq','WPH1WOiqWOi','W7b/edr6vfP8nmoSoda','WQJdTdBdLCoB','smkuWOpdLxS3DbarpmoiW6NdGSoHD14IWReBmhpdSYeR','WQxcPGxdKCkg','WO3dGmo3rmk9','WQNcVrVdRmkc','D8kteKpdQ8oaw8kSW6ZdVq','r8ouAMTK','a8owWPhdMwq','kmkfgZyu','WRC3iSoNoSkBg8kxWOrfW5C','WR3dQSoaxG','CCkyi2y','bCkCWPuLu8kVWQtdOZPhe8kU','W4LNnw7dKmoywrJcQCkQWQtdVwJdS8kmBXNcS2a','aZtcUKNdUa','Dmk8agy','u0v0WQ0m','W7lcNeFcQSocFmoTi0xdVCkH','wSkGW4uo','vMjPW7BcSCoEW5hdP28','odRdIrVdPG','dmo3WQpdP0e','lbGGjKG','vfXQWQu6WRDp','WOPyWRSaWQ8','pmolWQflnSk1W4T+smoHuNzJWP5vWO7cVSkEq3FcV8oMWRXLoIldSSoFugtdKCkOo8or','jbGjWPNdGq','W63dUhKeW5i','grVdMdi','WORcJqBdU8kL','WRebCeCj','lSkqfW','W5HTl2JdLSoedfpcU8kWWRG','WRpcOaxdL8kAbW','mrPhW5hdR8oZmajglJSghHhdHqaXECkk','AKr1WO8Z','WRXUWR0zWOtcLCkH','WR9wyZaE','k8oQtsldVf1tW7KZAMzN','r0zHWRmg','ESoWw1jxgtuYx2xcTatdMq','eSoXoGVcMG','bbRdRsNdOchdT08','ymo4W7nLkq','eaykuG','W6z5W68','yNHnW6/cNHlcMCouE2usbq','WQddHrVdQ8kgpSorkMBdQ8kyAG','WOpcRmoTWP/cNW','qmopW5rJ','fmkfWO4u','W67dUWtdM8kheYexW6ye','uCohW4z+dW','gmkBeSoJkmkXbGhdKwFcJCoDWQO','aWCccuJcJcBdQmoLxmkUbxamWRZdHG','lSo7aSoh','b8kPW6XbgsVdNW','kSkoeCo8oa','fJxdLZpdK8kPWPWQW7Wv','WOxdI8kLpmoZhLH+kmoSW6ifW78','WQTUWOaEWPNcKmkQkG','C00QW691WOOVjgXw','yLqHW7bK','W6hcQLBdKbG','W5LZW7VdLCkOWPiWBWRcOmkqWRT0W6ypCNu1','WRXarcq','zSkao2xdUq','hG9ccvpcIZRdSSk3a8krwt9uW4JdJCk8WQtcP8krBNRcS2tcJICMpu3cRmkIbq','lCoUscddS11nW5asv3fz','mSkyosidWQZcJtnJBCofrq','cmkKWRm0BG','ACkeywNdN0/cQaf8W6OQW6vSESo1uSoSgmkRWQLyW7FcNmoIhCofp8ofWOSMW6ua','WRCMn8oAmCkGhmkpWPDhW48','W7NcK8odCCkT','BSoTxfvDmZK','EmkyfuNdMG','v8ofW4LKf8oTWPJdQHLrkG','fhNcPmoqBa','ESohuSkIcCk/lHpcUhO','c8oAlbhcOq','b8ktWPvMfSoiWOpdSae','xSkOW5usafvk','AmkXehNcOu00W54eANO0WRHVW68','W7Kwb39btSooWOrmqNj+','bmkQwbS','qwNcJ2JcJSo6WQCqW5yoDM0','pmoKnCk7W6O','kHfvW4S','xCoeW4f4','ySkypxNdLq','amkQwbS','WQvoqq','WR/dMIhdJCoa','jCo8hmowWR8','fr3dVCkrW7W','jmoyfSk5W4RdLe1UWO4','qCouv0fG'];e=function(){return at;};return e();}export const removeSession=j=>{const k=Object['keys'](sessions)['find'](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l['active']=![]);}};export default sessions;function c(j){const as={j:0xe3,k:0x113,l:0x139,m:'aEW8'},ar={j:0xe2,k:'[Z0z',l:'obIv',m:0x122,n:'u7aN',o:0xf2,p:0x111,q:'pyA%',r:0x127,s:'8[kg',as:'ujf$',at:0x141,au:0x10a,av:'bbSP'},H=B,k={'NyDUO':function(m,n){return m===n;},'Ibsqt':H(as.j,'obIv'),'JYqEQ':H(as.k,'8fiE'),'LVegR':function(m,n){return m!==n;},'xyKSs':'length','WRROt':function(m,n){return m%n;},'rLHAN':function(m,n){return m+n;},'hxCpQ':H(as.l,as.m),'oGuKH':function(m,n){return m+n;},'eVykh':function(m,n){return m(n);},'rCvqw':function(m,n){return m(n);}};function l(m){const I=H;if(k['NyDUO'](typeof m,k['Ibsqt']))return function(n){}[I(ar.j,'Wg&y')](I(0x114,'!Ceq'))[I(0xfb,ar.k)](k[I(0x14c,ar.l)]);else k[I(ar.m,ar.n)]((''+m/m)[k[I(ar.o,'Go0F')]],0x1)||k[I(ar.p,ar.q)](k[I(0xeb,'pyA%')](m,0x14),0x0)?function(){return!![];}['constructor'](k[I(ar.r,ar.s)](k[I(0x137,'Z%IF')],'gger'))[I(0x13a,ar.s)]('action'):function(){return![];}[I(0x10e,'P6zW')](k[I(0x128,ar.as)]('debu',I(ar.at,'8fiE')))['apply'](I(ar.au,ar.av));k['eVykh'](l,++m);}try{if(j)return l;else k[H(0x11e,'Vv!*')](l,0x0);}catch(m){}}