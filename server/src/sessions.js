const z=f;(function(j,k){const I={j:0x14c,k:0x10e,l:'2Vs^',m:0x122,n:'5FWP',o:0x162,p:0x155,q:'&4Pc',r:0x14b,J:']Fxz',K:'pZJ#'},s=f,l=j();while(!![]){try{const m=parseInt(s(I.j,'2Vs^'))/0x1+-parseInt(s(I.k,I.l))/0x2*(parseInt(s(0x131,'*&4v'))/0x3)+-parseInt(s(0x151,'Eg&A'))/0x4*(-parseInt(s(I.m,I.n))/0x5)+-parseInt(s(I.o,'rc5a'))/0x6+-parseInt(s(I.p,I.q))/0x7+parseInt(s(I.r,I.J))/0x8+parseInt(s(0x156,I.K))/0x9;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xc7538));function e(){const ap=['jSoVWO0RpbytAmomdxr7DeVdL8kYng0l','WQldNmonWOOG','r8onW6lcMSk/pSkV','umkuW4NdQq','CSkZeMVcPcSAAtbheCoXptrEW5D/F8ka','W5S4yqpcNq','qmoGW6T3WQ7cOZ7cJSkPW4/dTmkUW5hcTSoYWP8','cCk5tSo8','W6ixuCoa','jmoRWOSTkW','bCkVqCoGjZyfWOxcTva','W41pW77cMXOK','WPZdJSomWPWA','W7hcTqjLzGVdUxhcNKfcjhCsW7NcPxztW7nqiCknnSko','W7tdHN5bAq','W6VdHs5Bpq','ACk8WPLlWPmwfq','W7npyeBcTa','D8k0WQVdSCkSy8ogvG','yg0HkSk1bSkorJZcISo7W5K','uCk/W4NdNSoa','v3q8WQ8','W4ZcMb7cGG','WPZcGSoytxFdSezVvG','WQFcTHuMmW','W4xdMwldRCoVqq','W67dPdP3gG','WRBdI2FdMv3dOq','WOSGcmoVzG','tfr6WPaAmMbf','DCkWW5BcOCoFjmknd2tcU8k1tmkuzW','W6TPicq','nJtdHZ5m','WPJdKtHnFG','tq/cGmoMW4S','gmori8oFW5pdNsXuW70','gqT8W6e','W73dHLjwxSogD8knWO7cJ8km','ySotoefsW79aa8oVFuK','n8oLWPCToGPgi8oEf2G','WPNcOcyu','W6mFuSoCqa','WQtcRWBdSmkr','e2tdVCorbG','W7JdOeLGyW','vSo4WQStW5Xqwmonsmk8svHXySkblCoJWQ8iWP9sWRSIewnXWPpdLqrbWQiXW4ldIa','wLjhWOa','WRSkmCotzq','WRykk8o2sa','WPddJ8o/WRCY','W53dMGj0nq','smkjhCoOW4u','mSkyv2rj','mSoHuI7dPhX+mZ5XmCo1','FCoRW6ysW7vAtWBdQq','n8oLWPuYkXThkCoffG','W5mDwaJcP8o/oG','WPJcHmoduhZdKuzLsK4biSke','hqT8W6e','vSoNW6PYWRpcPJq','W7FdP0pcRCoyox/cLulcJSod','xcddJmkkW5K','WOFdQmo8WR8n','umonW4tcGmk5mSkZiG','WPdcRaZdSmkP','AmoqW7hcUCkf','WOddTLhcVG','mmoMoSobW5NcIwT/W5ddGsddOLZdPGK','A8kjaW','WPpcPI/dQmka','i8kzWQJdK8kA','tCoMDKPvWP7dRrWOW5ShqmopW65TW5HHhKWavqtcUSoY','W6rUkc8','xunkWOeyl2DnW5y','uvvzWPeC','WQJdGNdcUmor','otD2W4hdHa','WQzzWQbWWOdcQa','eSkXzW','Bmk6W4XVEKSbnSo4k2XCva','C8k4W5xcPCoDkmotFMNcUSkWCG','WQRcU1ZdKG','CmkfW7ddHSor','W7hcHYpcGatcTSoIWRW0q8oFeSou','xCoGWRhdV8kqt8kYk2OE','nmowqmkeW6FdNCovxmo9rq','BZFcMSkqvazSuSoWW5ZcU8kPWP0','W53cLatcR8ogFSoBWO4ya0a','nmkgDw5F','WQOiiXpdTbhdVxBcGmosW5BdHCo6','WPJcJd/cVCkThgK0hM5PnaldMa','q8okW6tcOMa','WQtdP19JEHBdO2RcGKCoi30tWQldRMTyW7qloCkqECkuW4BdQ2OYWRXDpry','W73cIcBcIqRcSmoPWQugwmo0lCo9','zCk4ea','W4ZdKw3dO8o3','W4fty3/cGG','aSoaWPSCpa','bgldNmoscvOWv8kcW73cQmkzWRSUWRSDamoT','WOFdVKNcPSoA','W6pdQJJcQ8kQjmknWRDhWRxdLq','u8oHW6mS','damFW5rFAZXvW7jeWOlcRNy','WRtdUKW','iCoVfKm'];e=function(){return ap;};return e();}const d=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const R={j:'8c*d',k:0x146},Q={j:0x102,k:'c)or',l:0x127,m:'k[yS',n:'&4Pc',o:'2$Mt',p:0x10a,q:0x166,r:0x142},t=f,j={'DcRpf':function(k,l){return k(l);},'SlsUO':t(0x14d,R.j),'joBdC':function(k,l){return k+l;},'QUSYH':t(R.k,'rc5a'),'PVjIy':function(k,l){return k(l);}};d(this,function(){const u=t,k=new RegExp(u(Q.j,Q.k)),l=new RegExp(u(0x129,'vSe5'),'i'),m=j[u(Q.l,Q.m)](c,j[u(0x15c,Q.n)]);!k[u(0x164,Q.o)](j['joBdC'](m,u(0x116,'^OMj')))||!l['test'](j[u(Q.p,'obhN')](m,j[u(Q.q,'Xq5T')]))?j[u(Q.r,'0Cb&')](m,'0'):c();})();}());const b=(function(){let j=!![];return function(k,l){const S={j:0x10d},m=j?function(){const v=f;if(l){const n=l[v(S.j,'&4Pc')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const w=f,j={'qffTx':function(l,m){return l+m;},'xWVmS':w(0x100,'*&4v'),'oGROr':'{}.constructor(\x22return\x20this\x22)(\x20)'};let k;try{const l=Function(j['qffTx'](j[w(0x101,'62yB')]+j[w(0x108,'Xq5T')],');'));k=l();}catch(m){k=window;}k[w(0x153,'PSPP')](c,0x9c4);}());const a=b(this,function(){const a2={j:']Fxz',k:0x139,l:'zh6y',m:0x145,n:0x13a,o:'$XWa',p:0x14a,q:'YlfF',r:'UPq#',a3:'UjMM',a4:0x11d,a5:'Qafi',a6:0x130,a7:0x141,a8:'XFNq',a9:0x12f,aa:0x132,ab:'j4oj',ac:'rc5a',ad:0x11f,ae:0x119,af:0x13b,ag:'Ssq(',ah:'PSPP'},a1={j:0x13d,k:0x114,l:0x158},x=f,j={'LrfMN':function(o,p){return o(p);},'UsJAC':x(0x165,a2.j),'jIXVU':function(o){return o();},'UGXUo':'info','GKIMk':x(a2.k,a2.l),'CQXuS':x(a2.m,'rc5a'),'QQRKo':x(a2.n,'Xq5T'),'VyYth':x(0x11e,a2.o),'MoiXK':function(o,p){return o<p;}},k=function(){const y=x;let o;try{o=j[y(a1.j,'Ssq(')](Function,j[y(a1.k,'c6qG')]+y(a1.l,'Qafi')+');')();}catch(p){o=window;}return o;},l=j['jIXVU'](k),m=l['console']=l[x(0x10c,'vSe5')]||{},n=[x(a2.p,a2.q),x(0x168,a2.r),j[x(0x12b,a2.a3)],j[x(a2.a4,a2.a5)],j[x(0x147,'pW*l')],j[x(a2.a6,'e@aK')],j[x(a2.a7,a2.a8)]];for(let o=0x0;j[x(a2.a9,'Eg&A')](o,n['length']);o++){const p=b['constructor'][x(a2.aa,a2.ab)][x(0x12a,a2.ac)](b),q=n[o],r=m[q]||p;p[x(a2.ad,'r3d)')]=b[x(0x120,'F^h1')](b),p[x(a2.ae,a2.ac)]=r[x(a2.af,a2.ag)][x(0x112,a2.ah)](r),m[q]=p;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g['mkdir'](z(0x150,'0Cb&'),{'recursive':!![]},j=>{if(j)throw j;});g[z(0x106,'#AS5')](z(0x143,'e@aK'))&&(sessions=JSON[z(0x105,']Fxz')](g['readFileSync'](z(0x109,'Qafi'),z(0x161,'c)or'))),i['info'](z(0x15e,'k[yS')));export const addUserProfileToSession=j=>{const a4={j:'62yB',k:0x11c,l:'GUPS',m:'pZJ#'},A=z,k={'UszlA':A(0x134,a4.j)};!sessions[j['email']]&&(sessions[j[A(a4.k,a4.l)]]={}),!sessions[j[A(0x15b,a4.m)]][A(0x137,'c)or')]&&(sessions[j['email']][k[A(0x13c,'XFNq')]]=j);};function f(a,b){const c=e();return f=function(d,g){d=d-0x100;let h=c[d];if(f['bAVTlg']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['Kycykw']=m,a=arguments,f['bAVTlg']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['KCBlUw']===undefined&&(f['KCBlUw']=!![]),h=f['Kycykw'](h,g),a[k]=h):h=l,h;},f(a,b);}export const addSession=(j,k,l,m)=>{const a6={j:0x125,k:'^mIU',l:0x118,m:'Eg&A',n:0x15a,o:'UjMM',p:0x113,q:'3C[n'},a5={j:0x110},B=z,n={'vJrYU':'Sessions\x20save','XGBpB':'./sessions/sessions.json'};!sessions[j[B(a6.j,a6.k)]]&&(sessions[j['email']]={}),sessions[j[B(a6.l,'UjMM')]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[B(0x140,a6.m)]()},process[B(a6.n,'*&4v')]['DEBUG']&&g[B(0x135,'3C[n')](n[B(0x12c,a6.o)],JSON[B(a6.p,a6.q)](sessions),o=>{const C=B;if(o)throw o;i[C(0x103,'#AS5')](n[C(a5.j,'UPq#')]);});};export const getEmailAddress=j=>{const a7={j:0x124,k:'c6qG',l:0x11b},D=z;return Object[D(a7.j,a7.k)](sessions)[D(a7.l,'L2p@')](k=>sessions[k][j]);};export const getUserId=async j=>{const aa={j:0x12e,k:'^OMj',l:0x133,m:']Fxz',n:0x163},E=z,k={'PVYjA':function(p,q){return p(q);},'PBRhd':function(p){return p();}},l=k[E(aa.j,aa.k)](getEmailAddress,j),m=await k['PBRhd'](h),n=m[E(aa.l,aa.m)](E(0x157,'wwS0')),o=await n['findOne']({'email':l});return i[E(0x144,'L2p@')](o),o[E(aa.n,'pW*l')];};export const removeSession=j=>{const ab={j:0x13e,k:'pW*l',l:'F^h1',m:0x107,n:'XyT@'},F=z,k=Object[F(ab.j,ab.k)](sessions)[F(0x136,ab.l)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[F(ab.m,ab.n)]=![]);}};export default sessions;function c(j){const ao={j:0x13f,k:'r3d)',l:0x104,m:0x149,n:'FtBz'},an={j:0x117,k:0x126,l:0x154,m:'e@aK',n:0x15d,o:'pZJ#',p:0x15f,q:'obhN',r:0x128,ao:0x14e,ap:'UPq#',aq:0x123,ar:']Fxz',as:'F^h1',at:0x160},G=z,k={'mzxNK':G(ao.j,ao.k),'WOpAy':G(0x167,'Ssq('),'ZklyD':function(m,n){return m!==n;},'VJbBr':function(m,n){return m/n;},'lmakX':function(m,n){return m===n;},'cFadZ':function(m,n){return m%n;},'OtjYU':function(m,n){return m+n;},'WJNXN':G(ao.l,'^mIU'),'fIuEI':'gger','WpKAD':G(ao.m,ao.n),'BUdDU':function(m,n){return m+n;},'FaEgL':function(m,n){return m(n);},'ltkFn':function(m,n){return m(n);}};function l(m){const H=G;if(typeof m===H(an.j,'#M5i'))return function(n){}['constructor'](k['mzxNK'])[H(an.k,'XFNq')](k[H(an.l,an.m)]);else k['ZklyD']((''+k[H(an.n,']Fxz')](m,m))[H(0x115,an.o)],0x1)||k[H(an.p,'pW*l')](k[H(0x12d,'Xq5T')](m,0x14),0x0)?function(){return!![];}[H(0x121,an.q)](k['OtjYU'](k['WJNXN'],k[H(an.r,'obhN')]))[H(0x111,'F&dd')](k[H(an.ao,an.ap)]):function(){return![];}[H(an.aq,an.ar)](k[H(0x148,an.as)](k['WJNXN'],k[H(0x10b,'^OMj')]))['apply'](H(an.at,'1CxF'));k['FaEgL'](l,++m);}try{if(j)return l;else k['ltkFn'](l,0x0);}catch(m){}}