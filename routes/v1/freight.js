const F=f;(function(m,n){const N={m:'5Myf',n:0x119,o:'trkx',p:'e!sP',q:'(Rht',r:0xfb,s:'&YQ3',t:'5Myf'},y=f,o=m();while(!![]){try{const p=-parseInt(y(0xf8,'NW2d'))/0x1+parseInt(y(0xe1,N.m))/0x2+parseInt(y(N.n,N.o))/0x3+-parseInt(y(0x11a,N.p))/0x4+parseInt(y(0x117,N.q))/0x5+-parseInt(y(N.r,N.s))/0x6+parseInt(y(0xe2,N.t))/0x7;if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x529f7));const d=(function(){let m=!![];return function(n,o){const O={m:0xc0,n:'hWVp'},p=m?function(){const z=f;if(o){const q=o[z(O.m,O.n)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());function f(a,b){const c=e();return f=function(d,g){d=d-0xa3;let h=c[d];if(f['PQEgci']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['PCtXVT']=m,a=arguments,f['PQEgci']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['YbrlZN']===undefined&&(f['YbrlZN']=!![]),h=f['PCtXVT'](h,g),a[k]=h):h=l,h;},f(a,b);}(function(){const X={m:'OX9h',n:0xa6,o:'RZHJ'},W={m:0xc6,n:'B9ZK',o:0xc1,p:'[]eo',q:0xb4,r:'dhvM'},A=f,m={'zcYac':A(0xc4,'[]eo'),'mjFhi':A(0xb6,'ejNn'),'VwYog':function(n,o){return n(o);},'ZZpYM':A(0xed,X.m),'eBEdm':'chain','XHPvs':function(n,o){return n+o;},'amGmP':A(X.n,X.o),'HjIRv':function(n){return n();},'jiLBb':function(n,o,p){return n(o,p);}};m[A(0xb5,'mG1Q')](d,this,function(){const B=A,n=new RegExp(m['zcYac']),o=new RegExp(m['mjFhi'],'i'),p=m['VwYog'](c,m['ZZpYM']);!n[B(W.m,'rx8p')](p+m[B(0xca,W.n)])||!o[B(W.o,W.p)](m[B(0x113,'Q(EW')](p,m['amGmP']))?p('0'):m[B(W.q,W.r)](c);})();}());const b=(function(){const Y={m:'!gwR'};let m=!![];return function(n,o){const p=m?function(){const C=f;if(o){const q=o[C(0xc7,Y.m)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a7={m:0xcf,n:0xab,o:'hWVp',p:0xc5,q:'hWVp',r:0xd1,s:'NLZ3',t:0xcc,u:0x110,v:'iVA1',w:0xf3,x:'3VDM',a8:0xdf,a9:0x10d,aa:'LH3&',ab:'lS)$',ac:0xbd,ad:0xe5,ae:'T57D',af:0xdd,ag:'Q(EW',ah:'8GK&',ai:0xe8,aj:'^T%n'},a6={m:0x10e,n:'(H]w',o:0xbc,p:0x10c,q:'uk]%'},D=f,m={'AFEeo':function(r,s){return r(s);},'tsrhM':function(r,s){return r+s;},'BxjZH':'return\x20(function()\x20','WXwCu':function(r){return r();},'bIVET':D(a7.m,'VLI4'),'ztKBI':D(a7.n,a7.o),'AlQfW':D(a7.p,a7.q),'pSlSs':D(0xda,'T57D'),'hUcGh':function(r,s){return r<s;}},n=function(){const E=D;let r;try{r=m[E(a6.m,'uk]%')](Function,m[E(0xfa,a6.n)](m[E(a6.o,'Q5z&')]+E(a6.p,a6.q),');'))();}catch(s){r=window;}return r;},o=m['WXwCu'](n),p=o['console']=o[D(a7.r,a7.s)]||{},q=[m[D(a7.t,'RZHJ')],'warn',m[D(a7.u,a7.v)],D(a7.w,a7.x),m[D(a7.a8,'93Yw')],D(a7.a9,a7.aa),m[D(0x114,a7.ab)]];for(let r=0x0;m[D(0xf2,'T57D')](r,q[D(a7.ac,'W9kI')]);r++){const s=b[D(a7.ad,a7.ae)][D(0xe4,'^ly3')]['bind'](b),t=q[r],u=p[t]||s;s['__proto__']=b[D(0xa7,'fr3]')](b),s[D(a7.af,a7.ag)]=u[D(0xcb,a7.ah)][D(a7.ai,a7.aj)](u),p[t]=s;}});a();import g from'dotenv';g[F(0xea,'!YQ$')]();import{ObjectId}from'mongodb';import h from'express';function e(){const ax=['W5SLbWldVW','WO9AW43dRSo8','W7BdSY/cS8o2W47cKtS3dmo6W5/dOG','W549WR1hWRSoWOlcR3xcOCkItSky','Es4qqwrqW6rCy8kwaJu','WPFdMmo8WOKZzSoAt0/dNq','W6L2y1yz','W4T9tSkNwq','nmoyWOtdVa','gxLqatKB','w3JdGeTF','W4WLpGC','WQexWQr5W4a','drhdTmo3','WQdcOxNdTW','DdZdGsu','WRFdNZ0YW5e','W4jBWP1CpW','eLKJWP8','rxSIbHu','W41GW7lcSCkK','W71wW7dcO8kMma','fw7cO8kTdY0','k1VdJSkzW6HwW6BdI8o1Bmkp','W4efs8orW40','uSoroI/dNW','WOBcL8k+D1hcI8olWOjeW5NcVxm2WRfVBCkSrSomW75vW4VcHtBdR1tcOCk7W50jeqq0ia','WPvTW547W4W','WOZdS1qyW7ZcTHVdVCkHW6lcU8kSj8oqW59EW4tdKmk9W7ddSun2WPFdNcn5W6tdVSk0W7NcGG','WRxdSCoah3K','D8obuSoaWQWAW5FdRLXbe8kqDG','jcauW4BdNa','W4XAW7VcJCkB','u3eJmbfJ','WQRdNCkfoq','BILMWRi','FcldLYzF','WOpdQWKp','o2bQW51BW4i1','eH3dT8o6nq','WPhdUXqyW6FcSqFdP8oZWR3cHmoWAmkiWQTv','EcRdHc9wdYGxxG','WPKCjMq','aeW9WPCR','tL5IW4eMfc3dTq','WP1nBmkdFq','W43dVf0Uoa','kSoeWRJdPGilzCob','uf/dPNT/','WPvjr8klACokWO4','icDEWPaRsHBcNM/dRSkX','jSo7WPK','W6hdTSkO','WPbutmkryCooWP8','W552zar3pa','BGVcImojWR1M','WO/cPSkfWPTF','W59XvSkw','t8kaWRtdHq','s3SmjrDQwa','WRC0l8kQW7Ot','WOJcN8kEWR9t','W41QwCkrva','W7ddSIpcT8o1W4/cLGW3kSoqW4tdKW','W50Pmq','mmkCm8khW6XfWONdNG','WOG6j3JdOG','pXJdI8o1fG','W5VdINK+ify','W7BcGwjMWOFcSvbqrcSZ','W7FcHM5IWOZdIJnXzbKOCSoH','WQldPcW8W74','rmo5iSopwSksomobcq','W5P3vSkbrwyQxNnkDa','W6pdSmkVWQjyWR3dKmoYhYldVmkTr8kA','W4WevmoNW6G','WRalWQf7','W6zaWRTufq','WRu4nCkLW7WA','dsX4y10YrrnHcSoAAG','WQpcH8kcWR9a','W6NdSCkZWRG','lCoZWPTB','nmkseSksW7nF','WP1pW5pdPG','W61nW7/cPmkNmrOkjq4T','W5fnw8k1wq','k8keW6yrya','W504iGRdTWO','WRFcRmkqWOnp','DCkXiGO','WRBdNCkmoa','WP0HWOxdO8oVwbFdQ8oNWPxcVCkO','W7SMjaddKW','CCkTiXBdHG','pN49W63cPCkwbCk+WOzAoCkPyG','WPdcQCkcW4v1','qxpdHhDfzmkNWRBdK8kXbq','WR1zm8kYWO7cK1BdUdToW4tcLq','o3K3W67dOCoKD8kpWPT7','WRhcOCkWWP5diq','r8o/lmopqmkv','WP4nngtdSt8','eKGSWO8NhG','WOvmzSk1Fa','W5Wbs8kg','rXL1WRRdSG','EtFdHt8','W4beWOfCi2G5wGdcVW','rKpdSxfZ','W6jhW7/cSmkNkW','W6DmW7lcU8kMjWOA','W4xdU3fUWOxcNXRcTaatW5NcTSoZW6JdLa52WRSeWPVcUaVcHqxcPWP9wH0mBSkz','AGVcMmoeWRu','W7/dGbPOWOu','WRhcSmk/WO4','otX7WQew','wx0JmW','W4fhCrv6','hmk7mmkfW60','hSobWPZcIxW'];e=function(){return ax;};return e();}import i from'../../src/logger.js';import j from'../../models/db.js';import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUserId}from'../../src/sessions.js';const router=h[F(0xa5,'trkx')](),limit=0x14;(function(){const ab={m:0xfd},aa={m:'66Z1',n:'RZHJ',o:0xe3,p:'5Myf'},H=F,m={'JJOUe':function(p,q){return p(q);},'tUAOX':function(p,q){return p+q;},'aTzkA':'return\x20(function()\x20'},n=function(){const G=f;let p;try{p=m[G(0xd9,aa.m)](Function,m[G(0x109,aa.n)](m['tUAOX'](m[G(aa.o,aa.p)],G(0xb8,'[]eo')),');'))();}catch(q){p=window;}return p;},o=n();o[H(ab.m,'RZHJ')](c,0x9c4);}()),router['post']('/',k,async(m,n)=>{const ae={m:0x104,n:0xbe,o:'ejNn',p:0xf5,q:'66Z1',r:'OX9h',s:0xd5,t:'93Yw',u:0xd7,v:'W9kI',w:0x101,x:0xbf,af:'&YQ3',ag:0xbb,ah:0x102},I=F,o={'vwDWr':function(p,q){return p(q);},'uyAiy':function(p,q){return p-q;},'YoyNs':'freight'};try{const p=await getUserId(m[I(0xac,'5Myf')]),q=o[I(ae.m,'NLZ3')](parseInt,m['body'][I(ae.n,ae.o)])||0x1,r=o[I(ae.p,ae.q)](q,0x1)*limit,s=await j(),t=s['collection'](o['YoyNs']),u=await t[I(0xe6,ae.r)]({'user_id':new ObjectId(p)}),v=await t[I(ae.s,'T57D')]({'user_id':new ObjectId(p)})['skip'](r)[I(0xc3,ae.t)](limit)[I(ae.u,ae.v)]();return n[I(ae.w,'^ly3')](0xc8)['json']({'data':v,'totalPages':Math[I(ae.x,ae.af)](u/limit),'currentPage':q});}catch(w){i[I(ae.ag,'^X$*')](w);}return n[I(ae.ah,'rx8p')](0x1f4)['send']();}),router['get'](F(0x105,'NLZ3'),k,async(m,n)=>{const ah={m:0xd3,n:'tc0j',o:0xb7,p:'W9kI',q:'Q5z&',r:0x103,s:0xe0,t:0xd2},J=F,o={'Ptifa':function(p,q){return p(q);},'ygWMG':function(p){return p();},'revUh':'freight'};try{const p=await o['Ptifa'](getUserId,m['token']),q=m[J(ah.m,'LH3&')]['id'];if(!q)return n['status'](0x190)[J(0xf0,ah.n)]();const r=await o[J(ah.o,'AbB^')](j),s=r[J(0x108,'LAm@')](o[J(0xa3,'T57D')]),t=await s[J(0x111,ah.p)]({'user_id':new ObjectId(p)})['toArray']();if(!t[J(0x10a,ah.q)])return n[J(ah.r,'!gwR')](0x194)[J(0xae,'!gwR')]();return n[J(ah.s,'B9ZK')](0xc8)[J(0xa4,'8GK&')]({'data':t});}catch(u){i['error'](u);}return n[J(ah.t,')Yz3')](0x1f4)[J(0xa9,'93Yw')]();}),router[F(0xf6,'(H]w')](F(0xc8,'!gwR'),[k,l],async(m,n)=>{const ak={m:0xdc,n:'fr3]',o:'NLZ3',p:'Q(EW',q:0x100,r:'66Z1',s:0xd6,t:'fr3]',u:0xb9,v:0xa8,w:0x10b,x:'Q5z&',al:'rx8p',am:'dAq&',an:0xb1,ao:'Q5z&',ap:0x10f},K=F,o={'UjtcJ':K(0xd0,'OX9h'),'opQgW':K(0xf7,'ejNn'),'sukfk':K(ak.m,ak.n),'FJLjL':function(p,q){return p(q);},'zooQp':function(p){return p();},'mPjPA':K(0xcd,ak.o)};try{const {shipper:p,consignee:q,shipment:r,shipping:s}=m['body'],t=m[K(0xef,ak.p)]['type'];if(!p||!q||!r||!s||!t)return n[K(ak.q,ak.r)](0x190)[K(ak.s,'yTuG')]();if(![o[K(0xf9,ak.t)],o[K(ak.u,'6kIE')],o[K(ak.v,'^T%n')]][K(ak.w,ak.x)](t))return n[K(0x102,ak.al)](0x190)['send']();const u=await o['FJLjL'](getUserId,m['token']),v=await o[K(0xaf,'W9kI')](j),w=v['collection'](o[K(0x11b,ak.am)]);return await w['insertOne']({'user_id':u,'data':{'shipper':p,'consignee':q,'shipment':r,'shipping':s},'type':t,'created_at':new Date(),'updated_at':new Date()}),n[K(ak.an,ak.ao)](0xc9)['send']();}catch(x){i['error'](x);}return n[K(0xb2,'Xx4u')](0x1f4)[K(ak.ap,'66Z1')]();});export default router;function c(m){const aw={m:'fr3]',n:'Qa53',o:0xbd,p:'W9kI',q:'VLI4',r:0xd8,s:'&YQ3'},av={m:0x115,n:0x116,o:0xec,p:'66Z1',q:0xe9,r:'RLf#',s:0x112,t:')Yz3',u:'rx8p',v:'hWVp',w:'Q5z&',x:0xf1,aw:'Q5z&',ax:'(Rht',ay:0xad,az:'LAm@'},L=F,n={'uiWaf':L(0xf4,aw.m),'aRSUv':L(0xc2,aw.n),'iRPoz':function(p,q){return p!==q;},'EkVdS':function(p,q){return p+q;},'mBrfo':function(p,q){return p/q;},'lEtex':L(aw.o,aw.p),'eCrhf':function(p,q){return p%q;},'CBcfw':L(0xee,aw.q),'nvNas':L(aw.r,'!YQ$'),'NmElZ':function(p,q){return p+q;},'MsTqi':function(p,q){return p(q);},'JUzde':function(p,q){return p(q);}};function o(p){const M=L;if(typeof p===n[M(av.m,'fr3]')])return function(q){}['constructor']('while\x20(true)\x20{}')[M(av.n,'tc0j')](n[M(av.o,av.p)]);else n['iRPoz'](n[M(av.q,'LAm@')]('',n[M(0xfc,av.r)](p,p))[n[M(av.s,av.t)]],0x1)||n[M(0xde,av.u)](p,0x14)===0x0?function(){return!![];}[M(0xce,'iVA1')](n[M(0xe7,'dhvM')](M(0x107,av.v),n[M(0xb0,av.w)]))['call'](n[M(0xc9,'NLZ3')]):function(){return![];}[M(av.x,av.aw)](n['NmElZ'](M(0xaa,av.ax),n['CBcfw']))[M(av.ay,av.az)]('stateObject');n[M(0xd4,av.p)](o,++p);}try{if(m)return o;else n[L(0x106,aw.s)](o,0x0);}catch(p){}}