import{j as s,R as e,r as a}from"./Oq9P1Wj_.js";import{r as o,u as n,a as c,V as i,b as t}from"./Dl45dFqQ.js";import{a as r,d as l,i as m,j as d}from"./Ce_fjdqS.js";import{d as x,e as j,f as p,g as u,h,C as f,c as v,i as N,j as g,k as b,l as y,m as k,n as _,u as S,o as C,p as w,q as A,r as z,s as E,t as F,v as T,w as P,x as R,y as L,z as H,A as M,B as W,D as $,E as q,F as D,G as I,H as O,I as U,J as B,K as J}from"./D9gRowTw.js";import{a as V,u as G}from"./fHQ1LRrH.js";import{F as K,f as Q,a as Y,b as X,c as Z,d as ss,e as es,g as as,h as os,i as ns,j as cs,k as is,l as ts,m as rs,n as ls,o as ms,p as ds,q as xs,r as js,s as ps,t as us,u as hs,v as fs,w as vs,x as Ns}from"./CaACVOTK.js";import{p as gs}from"./BzOa6JrD.js";import{A as bs}from"./wVum-qgS.js";import{N as ys}from"./BYNIthp4.js";import{P as ks}from"./NdsU5MZw.js";import{S as _s}from"./CY84gjTO.js";import"./deeEeel3.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./CUvxBZEH.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./BK_AWGJv.js";import"./vI--IC3q.js";const Ss=[{component:x,name:"Dashboard",to:"/dashboard",role_exclude:[],icon:s.jsx(K,{icon:Q,className:"nav-icon"})},{component:j,name:"Services",role_exclude:[]},{component:p,name:"Freight",role_exclude:["staff","admin"],icon:s.jsx(K,{icon:Y,className:"nav-icon"}),items:[{component:x,name:"Sea Freight",to:"/freight/sea"},{component:x,name:"Air Freight",to:"/freight/air"},{component:x,name:"Land Freight",to:"/freight/land"}]},{component:x,name:"Track",to:"/track",role_exclude:[],icon:s.jsx(K,{icon:X,className:"nav-icon"})},{component:x,name:"Rates",to:"/rates",role_exclude:[],icon:s.jsx(K,{icon:Z,className:"nav-icon"})},{component:x,name:"Couriers",to:"/couriers",role_exclude:[],icon:s.jsx(K,{icon:ss,className:"nav-icon"})},{component:x,name:"Routes",to:"/routes",role_exclude:[],icon:s.jsx(K,{icon:es,className:"nav-icon"})},{component:j,name:"Security",role_exclude:["staff"]},{component:x,name:"Management",to:"/security/management",role_exclude:["user","staff"],icon:s.jsx(K,{icon:as,className:"nav-icon"})},{component:x,name:"Activity",to:"/security/activity",role_exclude:["staff"],icon:s.jsx(K,{icon:os,className:"nav-icon"})},{component:x,name:"Access Token",to:"/security/access-token",role_exclude:["staff","user","admin"],icon:s.jsx(K,{icon:ns,className:"nav-icon"})},{component:x,name:"Sessions",to:"/security/sessions",role_exclude:["staff"],icon:s.jsx(K,{icon:cs,className:"nav-icon"})},{component:j,name:"Payments",role_exclude:[]},{component:x,name:"Invoices",to:"/invoices",role_exclude:[],icon:s.jsx(K,{icon:is,className:"nav-icon"})},{component:j,name:"Support",role_exclude:[]},{component:x,name:"Customer Service",to:"/customer",role_exclude:[],icon:s.jsx(K,{icon:ts,className:"nav-icon"})},{component:j,name:"Policies",role_exclude:["staff"]},{component:x,name:"Terms of Service",to:"/terms-of-service",role_exclude:["staff"],icon:s.jsx(K,{icon:rs,className:"nav-icon"})},{component:x,name:"Privacy Policy",to:"/privacy-policy",role_exclude:["staff"],icon:s.jsx(K,{icon:rs,className:"nav-icon"})},{component:j,name:"System",role_exclude:["staff"]},{component:x,name:"Network Status",to:"https://stats.uptimerobot.com/5l58Mua0Wi",role_exclude:["staff"],icon:s.jsx(K,{icon:ls,className:"nav-icon"})}],Cs=e.memo((()=>{const e=r().pathname,n=l(),c=(s=>{const e=[];return s.split("/").reduce(((s,a,n,c)=>{const i=`${s}/${a}`,t=((s,e)=>{const a=e.find((e=>e.path===s));return!!a&&a.name})(i,o);return t&&e.push({pathname:i,name:t,active:n+1===c.length}),i})),e})(e);return s.jsxs(u,{className:"my-0",children:[s.jsx(h,{onClick:()=>n("/dashboard"),children:"Home"}),c.map(((s,e)=>"/dashboard"!==s.pathname&&a.createElement(h,{...s.active?{active:!0}:{onClick:()=>n(s.pathname)},key:e,style:{cursor:s.active?"default":"pointer"}},s.name)))]})})),ws=e.memo((()=>s.jsx(f,{className:"px-4",lg:!0,children:s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"loading-overlay",children:s.jsx(v,{color:"primary",variant:"grow"})}),children:s.jsx(m,{children:o.map(((e,a)=>!e.external&&s.jsx(d,{path:e.path,exact:e.exact,name:e.name,element:s.jsx(e.element,{})},a)))})})}))),As=e.memo((()=>s.jsxs(N,{className:"px-4",children:[s.jsx("div",{children:"Axleshift Core 1 © 2024"}),s.jsx("div",{className:"ms-auto"})]}))),zs=()=>{const{notifs:e}=n();return s.jsxs(g,{variant:"nav-item",children:[s.jsx(b,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:s.jsx(K,{icon:ms})}),s.jsx(y,{className:"p-0",placement:"bottom-end",children:s.jsxs(k,{children:[s.jsxs(_,{active:!0,children:[s.jsx(K,{icon:ms})," Notifications"]}),e&&e.map((e=>s.jsxs(_,{children:[s.jsx("h6",{className:"mb-1",children:e.header}),s.jsx("p",{className:"mb-1",children:e.message}),s.jsx("small",{children:gs(e.id)})]},e.id))),0===e.length&&s.jsxs(_,{className:"py-3 my-3",disabled:!0,children:["You have no Notification yet. ",s.jsx("br",{})," Come back later."]})]})})]})},Es=()=>{const e=a.useRef(),{user:o}=c(),{colorMode:n,setColorMode:i}=S("theme"),t=V(),r=G((s=>s.sidebarShow)),m=l();return a.useEffect((()=>{document.addEventListener("scroll",(()=>{e.current&&e.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)}))}),[]),s.jsxs(C,{position:"sticky",className:"mb-4 p-0",ref:e,children:[s.jsxs(f,{className:"border-bottom px-4",fluid:!0,children:[s.jsx(w,{onClick:()=>t({type:"set",sidebarShow:!r}),style:{marginInlineStart:"-14px"},children:s.jsx(K,{icon:ds})}),s.jsxs(A,{children:[["user","super_admin"].includes(o.role)&&s.jsx(x,{children:s.jsx(z,{onClick:s=>m("/freight"),children:s.jsx(K,{icon:xs})})}),s.jsx(x,{children:s.jsx(z,{onClick:s=>m("/schedules"),children:s.jsx(K,{icon:js})})}),s.jsx(bs,{className:"mx-auto d-none d-md-flex ms-2"})]}),s.jsx(A,{className:"ms-auto px-2",children:s.jsx(zs,{})}),s.jsxs(A,{children:[s.jsxs(g,{variant:"nav-item",placement:"bottom-end",children:[s.jsx(b,{caret:!1,children:"dark"===n?s.jsx(K,{icon:ps}):"auto"===n?s.jsx(K,{icon:us}):s.jsx(K,{icon:hs})}),s.jsxs(y,{children:[s.jsxs(E,{active:"light"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("light"),children:[s.jsx(K,{className:"me-2",icon:hs})," Light"]}),s.jsxs(E,{active:"dark"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("dark"),children:[s.jsx(K,{className:"me-2",icon:ps,size:"lg"})," Dark"]}),s.jsxs(E,{active:"auto"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("auto"),children:[s.jsx(K,{className:"me-2",icon:us})," Auto"]})]})]}),s.jsx(Fs,{})]})]}),s.jsx(f,{className:"px-4",fluid:!0,children:s.jsx(Cs,{})})]})},Fs=()=>{const e=l(),{user:o}=c(),[n,t]=a.useState("/images/default-avatar.jpg");return a.useEffect((()=>{o&&o.ref&&t(`${i}/u/${o.ref}.png`)}),[]),s.jsxs(g,{variant:"nav-item",children:[s.jsx(b,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:s.jsx(F,{crossOrigin:"Anonymous",src:n,className:"rounded-5",fluid:!0,width:"40px",loading:"lazy"})}),s.jsxs(y,{className:"pt-0",placement:"bottom-end",children:[s.jsxs(T,{className:"bg-body-secondary fw-semibold mb-2 fs-6 px-5",children:[o.first_name," ",o.last_name]}),s.jsxs(E,{onClick:()=>e("/account"),children:[s.jsx(K,{icon:fs,className:"me-2"}),"Account"]}),s.jsxs(E,{onClick:()=>e("/account/security"),children:[s.jsx(K,{icon:vs,className:"me-2"}),"Security"]}),s.jsx(P,{}),s.jsxs(E,{onClick:()=>e("/logout"),children:[s.jsx(K,{icon:Ns,className:"me-2"}),"Logout"]})]})]})},Ts=({items:e})=>{const{user:a}=c(),o=(e,a,o,n=!1)=>s.jsxs(s.Fragment,{children:[a||n&&s.jsx("span",{className:"nav-icon",children:s.jsx("span",{className:"nav-icon-bullet"})}),e&&e,o&&s.jsx(H,{color:o.color,className:"ms-auto",children:o.text})]}),n=(e,a,n=!1)=>{const{component:c,name:i,badge:t,icon:r,...l}=e,m=c;return s.jsx(m,{as:"div",children:l.to||l.href?s.jsx(L,{...l.to&&{as:ys},...l,children:o(i,r,t,n)}):o(i,r,t,n)},a)},i=(e,a)=>{var c;const{component:t,name:r,icon:l,items:m,to:d,...x}=e,j=t;return s.jsx(j,{compact:!0,as:"div",toggler:o(r,l),...x,children:null==(c=e.items)?void 0:c.map(((s,e)=>s.items?i(s,e):n(s,e,!0)))},a)};return s.jsx(R,{as:_s,children:e&&e.filter((s=>Array.isArray(s.role_exclude)&&!s.role_exclude.includes(a.role))).map(((s,e)=>s.items?i(s,e):n(s,e)))})};Ts.propTypes={items:ks.arrayOf(ks.any).isRequired};const Ps=e.memo((()=>{const e=V(),a=G((s=>s.sidebarUnfoldable)),o=G((s=>s.sidebarShow));return s.jsxs(M,{colorScheme:"dark",className:"border-end",position:"fixed",unfoldable:a,visible:o,onVisibleChange:s=>{e({type:"set",sidebarShow:s})},children:[s.jsxs(W,{children:[s.jsxs($,{to:"/",children:[s.jsx(F,{fluid:!0,src:"/images/logo.png",className:"sidebar-brand-full",height:30,loading:"lazy"}),s.jsx(F,{src:"/images/favicon.png",className:"sidebar-brand-narrow",height:30,loading:"lazy"})]}),s.jsx(q,{className:"d-lg-none",dark:!0,onClick:()=>e({type:"set",sidebarShow:!1})})]}),s.jsx(Ts,{items:Ss}),s.jsx(D,{className:"d-none d-lg-flex",children:s.jsx(I,{onClick:()=>e({type:"set",sidebarUnfoldable:!a})})})]})})),Rs=()=>{const{toasts:e,addToast:o}=t(),{addNotif:c}=n();return a.useEffect((()=>{o("Welcome to core 1 axleshift","Hello World"),c("Welcome to core 1 axleshift")}),[]),s.jsxs("div",{children:[s.jsx(Ps,{}),s.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[s.jsx(Es,{}),s.jsx("div",{className:"body flex-grow-1",children:s.jsx(ws,{})}),s.jsx(As,{})]}),s.jsx(O,{className:"position-fixed top-0 end-0 p-3",children:e.map((e=>s.jsxs(U,{autohide:!0,visible:!0,children:[s.jsxs(B,{closeButton:!0,children:[s.jsx(F,{className:"rounded me-2",src:"/favicon.ico",width:"20",loading:"lazy"}),s.jsx("div",{className:"fw-bold me-auto",children:e.header}),s.jsx("small",{children:gs(e.id)})]}),s.jsx(J,{children:e.message})]},e.id)))})]})};export{Rs as default};
