const B=f;(function(m,n){const G={m:0x11f,n:'CMR8',o:'!saW',p:0xf3,q:'j@@a',r:0x106,s:0x113,t:'NVvU',u:0x10b,v:'s5jD'},w=f,o=m();while(!![]){try{const p=-parseInt(w(G.m,'H474'))/0x1*(-parseInt(w(0x115,'crua'))/0x2)+-parseInt(w(0xf8,G.n))/0x3*(parseInt(w(0x148,G.o))/0x4)+-parseInt(w(G.p,'z5ZH'))/0x5+-parseInt(w(0x124,G.q))/0x6*(-parseInt(w(G.r,'hePb'))/0x7)+-parseInt(w(G.s,'wV#U'))/0x8*(parseInt(w(0x10e,G.t))/0x9)+parseInt(w(G.u,G.v))/0xa+parseInt(w(0x147,'!saW'))/0xb;if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x38f7d));const d=(function(){const H={m:'z5ZH'};let m=!![];return function(n,o){const p=m?function(){const x=f;if(o){const q=o[x(0x103,H.m)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const R={m:0xf9,n:0x143,o:'NVvU'},Q={m:0x14e,n:'hrde',o:'oJ@&',p:0x10f,q:'H474'},y=f,m={'qAPwq':'function\x20*\x5c(\x20*\x5c)','NOOLb':function(n,o){return n(o);},'QYLOD':y(R.m,'t5(t'),'EFIUk':function(n,o){return n+o;},'iBnCU':y(R.n,'2@Qi'),'PoHhs':function(n,o){return n+o;},'JkExn':'input','FVKKy':function(n){return n();},'vfQHi':function(n,o,p){return n(o,p);}};m[y(0xed,R.o)](d,this,function(){const z=y,n=new RegExp(m[z(0xe7,'XVqJ')]),o=new RegExp(z(0x111,')zD%'),'i'),p=m[z(0x123,'Uboa')](c,m[z(Q.m,'4mSO')]);!n[z(0x133,'5%2V')](m[z(0x136,Q.n)](p,m[z(0x116,'z5ZH')]))||!o[z(0x132,Q.o)](m['PoHhs'](p,m['JkExn']))?m[z(Q.p,Q.q)](p,'0'):m[z(0x11c,'cf1&')](c);})();}());const b=(function(){let m=!![];return function(n,o){const p=m?function(){if(o){const q=o['apply'](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a0={m:'cc$B',n:0xfd,o:'l*oq',p:'crua',q:0x13c,r:'j@@a',s:0x128,t:'2%X!',u:0x11e,v:'CMR8',a1:0x153,a2:0x151,a3:'ts#a',a4:'^^hG',a5:0x119,a6:0x121,a7:0x152,a8:0xef,a9:'2%X!',aa:0x14a,ab:'CMR8',ac:'[OCj'},A=f,m={'Hqmjm':function(q,r){return q+r;},'OlnpM':function(q,r){return q+r;},'tTzOn':A(0x107,a0.m),'nLSNd':'{}.constructor(\x22return\x20this\x22)(\x20)','IlGeO':function(q){return q();},'Uovwv':A(a0.n,a0.o),'DVRDA':A(0x12a,a0.p),'KdreG':A(a0.q,'crua'),'JRiKC':A(0x12c,'hePb'),'RqSIH':'exception','oakpX':'table','jnRTk':A(0xf6,a0.r),'esvSr':function(q,r){return q<r;}};let n;try{const q=Function(m['Hqmjm'](m[A(0x127,'wV#U')](m['tTzOn'],m[A(a0.s,'3fu8')]),');'));n=m[A(0x150,a0.t)](q);}catch(r){n=window;}const o=n[A(a0.u,a0.v)]=n['console']||{},p=[m[A(a0.a1,'^7jm')],m[A(a0.a2,a0.a3)],m[A(0x101,a0.a4)],m[A(0x141,'14*!')],m[A(0xf7,'2nm$')],m[A(0x117,'^^hG')],m[A(a0.a5,'cc$B')]];for(let s=0x0;m['esvSr'](s,p[A(0x10a,'2nm$')]);s++){const t=b['constructor'][A(0xec,'z5ZH')][A(a0.a6,'[OCj')](b),u=p[s],v=o[u]||t;t[A(a0.a7,'gJZ[')]=b[A(a0.a8,a0.a9)](b),t[A(a0.aa,a0.ab)]=v[A(0xeb,a0.ac)]['bind'](v),o[u]=t;}});a();import g from'dotenv';function f(a,b){const c=e();return f=function(d,g){d=d-0xe4;let h=c[d];if(f['BOIfPI']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['mCPmXW']=m,a=arguments,f['BOIfPI']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['lYEzvL']===undefined&&(f['lYEzvL']=!![]),h=f['mCPmXW'](h,g),a[k]=h):h=l,h;},f(a,b);}g[B(0x100,'xI5H')]();import{ObjectId}from'mongodb';import h from'express';import i from'../../components/logger.js';import j from'../../models/db.js';import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUser}from'../../components/sessions.js';const router=h['Router']();router['get'](B(0xea,'l*oq'),k,async(m,n)=>{const a1={m:0xf0,n:')zD%',o:'*ALT',p:'z5ZH',q:0x102,r:'POB6',s:0x13f,t:'biFN',u:0xe5,v:'zgY$',a2:'5%2V',a3:0x146,a4:0x12d,a5:0x14f,a6:'vo%J',a7:0x140,a8:0x105,a9:0x149,aa:'GhoX',ab:'hePb',ac:'4mSO',ad:0x12f,ae:'H474',af:0x137,ag:0xf4,ah:'14*!',ai:0x109,aj:'oJ@&'},C=B,o={'JvwgG':'freight','cgtDW':C(a1.m,a1.n),'QoDDV':'Freight\x20info\x20was\x20updated','PYzLP':'We\x20are\x20preparing\x20to\x20ship\x20your\x20shipment'};try{const p=await getUser(m[C(0xe4,'14*!')]),q=m[C(0x13e,a1.o)]['id'];if(!q)return n[C(0x154,a1.p)](0x190)[C(a1.q,a1.r)]();const r=await j(),s=await r[C(a1.s,a1.t)](o[C(0x10d,'GhoX')])[C(a1.u,'^7jm')]({'user_id':new ObjectId(p[C(0x122,a1.v)]),'_id':new ObjectId(q)})['toArray']();if(!s['length'])return n['status'](0x194)[C(0xfc,'XR@M')]();const t=[];t[C(0xe8,a1.a2)]({'date':s[0x0][C(0x110,'yyqD')],'description':o[C(a1.a3,'0Egq')]});if(s[C(a1.a4,'s5jD')]!==s['updated_at'])t[C(a1.a5,'hePb')]({'data':s[0x0][C(0x108,'yyqD')],'description':o[C(0x13b,a1.a6)]});t[C(0x131,'VD^Z')]({'date':s[0x0]['created_at'],'description':o[C(a1.a7,'yyqD')]}),t[C(0x130,'NVvU')]({'date':s[0x0][C(a1.a8,'[OCj')],'description':C(a1.a9,a1.aa)});const u=[{'lat':37.7749,'lng':-122.4194},{'lat':34.0522,'lng':-118.2437},{'lat':40.7128,'lng':-74.006}];return n[C(0xee,a1.ab)](0xc8)['json']({'events':t,'origin':s[0x0]['data'][C(0xe6,a1.ac)][C(0xfb,'VD^Z')],'destination':s[0x0][C(a1.ad,'j@@a')][C(0x142,a1.ae)][C(a1.af,'2nm$')],'status':C(0xff,'biFN'),'markerPositions':u});}catch(v){i['error'](v);}return n[C(a1.ag,a1.ah)](0x1f4)[C(a1.ai,a1.aj)]();});export default router;function c(m){const ad={m:0x10a,n:'14*!',o:'cc$B'},ac={m:0x14b,n:'0Egq',o:'gJZ[',p:'xI5H',q:'XR@M',r:0x134,s:'wV#U',t:')T@z',u:'2nm$',v:0x145,ad:'XVqJ',ae:0x11a,af:0x12e,ag:0x112},D=B,n={'RTXlz':function(p,q){return p===q;},'jijDz':function(p,q){return p!==q;},'umaTU':function(p,q){return p+q;},'sEhdk':function(p,q){return p/q;},'oJMeV':D(ad.m,'2nm$'),'aFish':function(p,q){return p===q;},'lmrxw':function(p,q){return p%q;},'juvqd':'debu','eGguy':D(0xf2,ad.n),'XOjMU':D(0x139,'vo%J'),'pIxvN':function(p,q){return p(q);}};function o(p){const E=D;if(n['RTXlz'](typeof p,E(ac.m,'biFN')))return function(q){}[E(0xfe,'Uboa')]('while\x20(true)\x20{}')[E(0x125,ac.n)]('counter');else n[E(0xf5,ac.o)](n[E(0xf1,ac.p)]('',n['sEhdk'](p,p))[n[E(0x10c,ac.q)]],0x1)||n['aFish'](n['lmrxw'](p,0x14),0x0)?function(){return!![];}[E(0x104,'5%2V')](n[E(ac.r,ac.s)](n[E(0x14d,ac.t)],n[E(0x13a,ac.u)]))['call'](n['XOjMU']):function(){return![];}[E(ac.v,ac.ad)](n[E(0x135,'[OCj')](n[E(ac.ae,'hrde')],n['eGguy']))[E(ac.af,'*ALT')](E(ac.ag,'0Egq'));n[E(0x118,'2nm$')](o,++p);}try{if(m)return o;else n[D(0x120,ad.o)](o,0x0);}catch(p){}}function e(){const ai=['W4KXrCkFi2HxWRK','W77dTSo1r2NdVmkthrzf','sfD7rSks','W6VcIXmgW7a','WRlcOWldG8kG','W79dfIqb','W67dM8oCxCkg','pNW0WOf3qSoyW4vfWPG','WRpdMSo5lSku','o3WYWOana8oUW5bJWROQla','gSkot8oCEmoDdW','EYZcGSkjWOrZWQRdSG','W6vKpayK','rIBcQCkd','qdL4','qGPkW71x','B1RdS8odhf3dV8ohW5pcKq','W6pdQCoEW6ik','jstcRmkrdW','hCoAW6lcNvm','WR5ZoM3cGa','W4qHW63dQGRcMLvL','WRVcR8k1hW','zmo6W5VcTmonpfRcJdigvSkQ','d8kJW6xcSCow','WPtdPSoYW5ZdSCoQt3TUWOa','WOFdVNhdSaK','oqlcTSks','luzCWRC','WRVcK1FdLW','suBdIuO','y2hcNXa','j8oBW63cUuS','uslcPSkZuW','W4hdQmoJECkj','WRhcGHpdHCkEvCkvWOFcOCkAWO7dUsJcUK9iW6GYW5zWW6/dPmksWOrHqCkJaq','WOxdSCoJW4JdT8oHcWXPWOhcGmoJW4nOvd9Gd8oG','W49PgKnctG','WQFcRr3dGmkx','W79LkM57','WQxcOmkHhG','W4KYdCoBAbvFWQJdLe4OW4C','WPBdR3pdVr1E','W6bVWQRdSJJdGcWmW5KU','W5JdLLJdO8o3','W67dS8knW7Dd','o3xcKSklWODFWP7dVG','WP5PW7z4BW','zWXgW4zX','nCkJWOldV8kbFKFcOtCfyW','W6hdVSoAW4OK','W482bmozzr47WOddKeGqW5jh','W4jtASkJfgL/','WOj4CvBcPMORWRayk0dcOhtcNvRcNSkutCoLW5JcI1PHW5PEWPK5k8kxBSo4WPvMqSovnCowW43dTLCl','dCkoCSoBzCoybmoo','W7b0WRtdTZpdHa','W5i8omotWRO','kCkLW7RcKqK','hLz6WOOt','gSkKW6tcTG','drVcKMrZ','WOvJAe4L','W6VcHmoKWOzYycddOay','WPFdGfj8W5y','uMf0CCkYqG','W5ddJSkpW5LU','WQtdHKPV','pgDFWRuNlCoflq','j8knWRZdU8ke','z3hcNWW','jmo4BCksxexdSG','W4lcO0xdRW','ucdcLmktDdNcK8oY','uwD6CCkOrryUWO4','k1v+WPFcVG','gCkLW7BcQSorW5u','jH7cU2u','g1VdIWPYlf0qFSoFWRCKWP55daxdQq','W54aW5a/qW','W4pdHSkbW44','fIWInmo/aq4tWPZdMsVcKq','W5FdLCkfW4H1fG','W57cSSo+WRbN','krhcO8kqoW','WPdcMYNdVmkM','tCosfCkyjmkiomoMlYyNW6K','ymoTWPGV','kColWQlcJNhcV2lcJwNcSmkVks7cI8otvSkLW57cSSkOftSrjmoYWOtcQILbrXldJG','WRJcJK3dJ17cJmkUlrqFrCkBWQ8rWOpcUZ7dUmocD0SyWRzk','WOrYW7pdHG','WOhdTKS','BYPRW4jbqCo6W75GWR47','W6XUW6BdRdldLIWa','W4GcW58nF8oG','W4/cJGOtW68','uaFdI0m','qgvLACk+','DgVcGHFcHbugr3zjW6S','rZ3cOSkgCJxcMCokWPldGa','wCoNWQ7dQmowW4NcImoao8oa','W6Dimauyr8o9W6XZW4C6W43cImkKW4HJWOCRpG','W73dV0BdJSotn8oZAh8b','tKBdLfO','WQ7cJXtdKSkAva','W4xcOSkGWOxcVCk/q2P+WPJcQCoL','WPHDW5ddHXG','WO58y1JcHG','BGvFWPFcK8olW5hcVa','bLlcTmk3WPu','W6VdVuFdJSotn8oZAh8b','aqldSKG1BGeplCo3W7z5WOHzqJRdKSo5lCovW4PAgxJdR1FcUtr7WP9ocM/cGG','W7hdRCopW7OwW4hcOmotfYFdRa','yCkeWR3dMYBdQupcG1tcKCkTga'];e=function(){return ai;};return e();}(function(){const ah={m:0x14c,n:'F7XZ',o:0x144,p:'Uboa'},F=B,m={'Vftcy':function(o,p){return o(p);},'xGnbQ':function(o,p){return o+p;},'iUzGU':F(0x138,'s5jD'),'lOasF':F(0xfa,'wV#U'),'kICwD':function(o){return o();}};let n;try{const o=m['Vftcy'](Function,m[F(0x126,'j@@a')](m[F(ah.m,ah.n)]+m['lOasF'],');'));n=m[F(ah.o,ah.p)](o);}catch(p){n=window;}n['setInterval'](c,0x9c4);}());