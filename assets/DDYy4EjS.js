import{R as s,r as e,j as t}from"./Oq9P1Wj_.js";import{R as a}from"./eGqyD3ZN.js";import{b as r,e as i}from"./B_RdtEdU.js";import{p as o}from"./2aPQtUzY.js";import{A as n}from"./DYKAGY4E.js";import{d as l}from"./Ce_fjdqS.js";import{c,a as m,b as j,P as p,Q as d,a1 as h,ab as x,ac as u,ad as f,ae as g,af as v,ag as N}from"./GAhPWFs0.js";import"./deeEeel3.js";import"./NdsU5MZw.js";import"./BXWkExu4.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./CewSaW8v.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./fHQ1LRrH.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./ChytwAMd.js";import"./Dn-qDmp9.js";import"./IXMtX5d7.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";const y=()=>{const y=s.useRef(),b=l(),{addToast:S}=r(),[w,P]=e.useState(!0),[k,_]=e.useState([]),[C,R]=e.useState(1),[T,$]=e.useState(0);return e.useEffect((()=>{(async s=>{axios.post("/invoices",{page:s}).then((s=>{_(s.data.data),$(s.data.totalPages)})).catch((s=>{var e,t;const a=(null==(t=null==(e=s.response)?void 0:e.data)?void 0:t.error)||"Server is offline or restarting please wait";S(a)})).finally((()=>P(!1)))})(C)}),[C]),w?t.jsx("div",{className:"loading-overlay",children:t.jsx(c,{color:"primary",variant:"grow"})}):0===k.length?t.jsx(m,{className:"justify-content-center my-5",children:t.jsx(j,{md:6,children:t.jsxs("div",{className:"clearfix",children:[t.jsx("h1",{className:"float-start display-3 me-4",children:"OOPS"}),t.jsx("h4",{children:"There was no invoices yet."}),t.jsx("p",{children:"Check it out later"})]})})}):t.jsxs("div",{children:[t.jsx(a,{ref:y,size:"invisible",sitekey:i}),t.jsx(p,{className:"mb-4",children:t.jsxs(d,{children:[t.jsx(h,{children:"Transactions"}),t.jsxs(x,{hover:!0,responsive:!0,className:"table-even-width",children:[t.jsx(u,{children:t.jsxs(f,{children:[t.jsx(g,{className:"text-muted poppins-regular",children:"Shipment ID"}),t.jsx(g,{className:"text-muted poppins-regular",children:"Invoice ID"}),t.jsx(g,{className:"text-muted poppins-regular",children:"Amount"}),t.jsx(g,{className:"text-muted poppins-regular",children:"Status"}),t.jsx(g,{className:"text-muted poppins-regular",children:"Last Update"})]})}),t.jsx(v,{children:k.map(((s,e)=>t.jsxs(f,{children:[t.jsx(N,{onClick:e=>b(`/shipment/${s.freight_id}`),children:s.freight_id}),t.jsx(N,{onClick:e=>window.location.href=`https://checkout-staging.xendit.co/web/${s.invoice_id}`,children:s.invoice_id}),t.jsx(N,{children:`${s.amount} ${s.currency}`}),t.jsx(N,{children:s.status}),t.jsx(N,{children:o(s.updated_at)})]},e)))})]})]})}),T>1&&t.jsx(n,{currentPage:C,setCurrentPage:R,totalPages:T,setTotalPages:$,className:"mb-3"})]})};export{y as default};
