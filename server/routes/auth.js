const G=f;function e(){const az=['WQ3dOCo8ca','vZa3gSod','WR9kW7VdMKZdGa','cItdLWuG','ffbskCoNF8k9','efPoW50','bLXlW5X4','WRbXr8khWP8','fLTYW79z','W7RdLCkRW5OX','W5Gyi8k3vW','m29vcXm','eW/dIt4','BmozWRG6W4u','W4JdT8kEW4So','W7uHErW','W41sW40','WPnSw8kp','sSkaW6Pneq','W7/cPCkRv8k3WQX2WRyaimoC','bHGJwX/cKCkLWOu','WOxcPSobxr8','z8oMFND+','qmkXWQNcG8kIrdGw','WRXaW6hdLW','WRJcJCkYja','WQhdVmoMWPe','W6JdUCkPW4a1A8oU','AdJcQW3cJa','WP/cRIVdImkhW6XRomoLxsHiW7Dnv2xdTCkbrq','WOVcVrVdKSkB','WPOoWO4LrxVcL8oxWPVcVq','WQtdS8o/cG','iLmW','W7FdSNvPWQe','baO/xq','WPjGdmkLW4S','auDsW5b4Aq','ECk8W7vKpq','W5tdICk3W4e1C8oKca8','uSotrLPxWPbLWOBdG8orF1W','Emo1DwDIWRzj','W6iJtSkcW6W','a8kVyreQW6pdK8kUWQTmW4u','qvzKlCoyEmkbdCk5sCkp','W7NdRCkQW7/dRW','WP97WQu4WOS','sCo0W5BdTCkt','WQHJkSkuWPFcUW','bGH7WObM','fqr+ucpcHSk4WPlcNmoDvehdV8kfW5ZdPCkvwCoaWRRdOYKxWOFdR8ktoSksW4pcOKxcGa','WOBdM8oFWRVdKq','w8kwWRji','r8oqWOeqW4JdHCkx','wSkxWR1fAG','gHydrZ7cGCkLWOe','sCkqWQ9y','WQHGk8khWPa','WR/dVCoOWPZdOW','W67dMCk/l8kbWQ11W7i','s8oqWOib','W6tcKNTvDSkH','WQBcM8kUpG','xZ9defGnW5GdW6VcQtn+WOq','W67dUmkX','uHSItw0PC1NdUmolW4ubWOW','W7yMA1PcW4i','WR1gW6pdN0BdJue3W63cTW','W4/dMSkvW7ddOq','WO7dVCoen2a6','lKBdMsddPG','W7uYW5hdTIm','WR3dV8kFW4qrCSoc','W4TtW45ZzfNcSq','WRhcKCkZlmkfWO0','W5y3W6tdHYu','mra0','eSkZW6a+gv/dH8k8W50','WOpcNJBdVmkH','xCkWWORcGSkK','wJXnev0kWP8UW53cGsTR','pMVdKbe','WPdcJCovyby','W7tdQwLIWPWBEW','WRHHpmkAWPe','W5BdLJldUmk/WPNdKZBdTSo+W7ddMCo+pCoQ','WPiboSkEW7y','ASoFW63cUw8','DmoTWQaMW6C','WQpcJ8kqjmkO','W4XuW55qqa','l8kPWRpcTCouymkhWPq9oCkwcmkU','W6ZdSCkIW4e','W67dHCkEW6tdHG','W48rW7a','W6SHCYCZ','qvzMmSojACkab8kIsa','wa8IgmoZ','W4ZcLdddRG','W4GPaSoyW6BdPXeWyWlcUqVcVa','WQrinmowW7RdLCospYFcPa','WRr4W5BdSfi','bCoMW4NdGmoGgMbbhHNcLSolW5nJ','gmkbW5eCW7NdPCkfqeG','W6uKDSoeW5dcSSkeW6tcOIa6','W492qmoFWOGAW5iCpSowemkvW4G','WRZcGmoJyG','WODqW5r6F0NcTW','bSkPyqyrW7/dGW','x8ohWO8aW4ldG8kDD0m','W5NdVMFcHCoaWRq9wmorqZ98','zJFcPHxcIa','uCo5WP0/W4BcLSo0aa','W79wW4TBqW','WRPDtmkLWOu','rSoBWOKa','W6e4y8kXW7G','W6yHzbSyWPGH','W6VcMhTbDSk7WPdcPSkSkh4','CCkPW6jSga','WPFcPrddLmkb','fZuGEJG','W4JdJSkAW4JdO8kMpSkhDby','lMhdGb3dMCkudSo1eCk3wxZdIhldVrVdTsHo','rSoZWRbSwrZcMmoJW5ZcV1iwW6vP','WRpcTSkBlCkE','lCotW7dcHLqvW50','W5aVxmkaW7q','lgVdHXW','vCo6W4JdRSkO','xSkTWPxcMq','W5tdNeKziSoJW43dUSoIhg3dJmkHcmkVWQ9EW67cN8oRe187x8oDvComztD3W57dL0iH','WPeZpSkAW7e','ptRcQX7cHmkL','WRDhW7ZdLLhdMNOWW6C','W4LmW4TXAq','smo2WPGaW6G','iCkHjtfMWOPuWPBdR8oi','W5avW7RdGa','W4VcIsBdUmk/','WOfaWP4c','x8omW63dTmkZ','W6WBWRRcI3BdQweAW4/cIa','W63cHwDDCa','ifmG'];e=function(){return az;};return e();}(function(n,o){const P={n:'p0W*',o:0x1e4,p:0x1eb,q:'p1At',r:0x1e1,s:'gVGJ'},A=f,p=n();while(!![]){try{const q=-parseInt(A(0x1e0,P.n))/0x1+parseInt(A(0x20b,'ac^E'))/0x2*(-parseInt(A(P.o,'352v'))/0x3)+-parseInt(A(P.p,P.q))/0x4+-parseInt(A(0x1d8,']e6X'))/0x5*(-parseInt(A(0x1c5,'y@a)'))/0x6)+-parseInt(A(0x1be,'7C[R'))/0x7+-parseInt(A(P.r,'eR3r'))/0x8*(-parseInt(A(0x190,'jHWb'))/0x9)+parseInt(A(0x1e3,P.s))/0xa;if(q===o)break;else p['push'](p['shift']());}catch(r){p['push'](p['shift']());}}}(e,0xd21d4));const d=(function(){let n=!![];return function(o,p){const q=n?function(){const B=f;if(p){const r=p[B(0x1ae,'pcv#')](o,arguments);return p=null,r;}}:function(){};return n=![],q;};}());(function(){const Z={n:'352v',o:0x1d3,p:'Ewo$'},Y={n:0x1ef,o:'p0W*',p:0x1bb,q:'UTR[',r:'vmRS',s:0x1b3,t:'e^bI',u:0x18f,v:0x1f6,w:'19LT',x:'eR3r'},C=f,n={'JxCGi':'function\x20*\x5c(\x20*\x5c)','wZKfw':function(o,p){return o(p);},'CBxDS':C(0x1f0,Z.n),'EcPmq':function(o,p){return o+p;},'iDeyZ':function(o,p){return o+p;},'yLpIt':C(0x1cc,'gVGJ'),'eFCwO':function(o,p,q){return o(p,q);}};n[C(Z.o,Z.p)](d,this,function(){const D=C,o=new RegExp(n['JxCGi']),p=new RegExp(D(0x200,'k4Nq'),'i'),q=n['wZKfw'](c,n[D(Y.n,Y.o)]);!o[D(Y.p,Y.q)](n[D(0x1cf,Y.r)](q,D(Y.s,Y.t)))||!p['test'](n[D(Y.u,'7(HH')](q,n[D(Y.v,Y.w)]))?n[D(0x1a7,Y.x)](q,'0'):c();})();}());const b=(function(){let n=!![];return function(o,p){const q=n?function(){const E=f;if(p){const r=p[E(0x204,'@aP8')](o,arguments);return p=null,r;}}:function(){};return n=![],q;};}()),a=b(this,function(){const a7={n:0x1f8,o:'BtcR',p:0x207,q:0x1ca,r:0x1b7,s:'$#c[',t:0x1f1,u:'eR3r',v:0x19b,w:'p1At',x:0x219,y:'7C[R',z:0x1f2,a8:'vmRS',a9:'&K8D',aa:0x1d1,ab:0x193,ac:0x21c,ad:'y@a)',ae:0x1cb,af:0x1ba,ag:0x1ea,ah:'352v',ai:0x1b1,aj:'e^bI',ak:0x1a4,al:0x213,am:0x1b4,an:'19LT',ao:'gVGJ',ap:'ac^E'},F=f,n={'EyaMQ':function(r,s){return r(s);},'tAfUc':function(r,s){return r+s;},'fvDon':F(a7.n,a7.o),'YENpO':F(0x1af,'19LT'),'PHDPx':F(a7.p,'RT2X'),'tHTTn':F(0x1e7,'vmRS'),'kQEYH':F(a7.q,'QwC*'),'wvjty':F(0x1ec,'HYv9'),'CaYxT':F(a7.r,a7.s),'nUiAT':function(r,s){return r<s;}};let o;try{const r=n[F(0x1da,'IAD2')](Function,n['tAfUc'](n[F(a7.t,a7.u)](n[F(a7.v,a7.w)],n[F(a7.x,a7.y)]),');'));o=r();}catch(s){o=window;}const p=o[F(0x198,'y@a)')]=o[F(a7.z,'$M*J')]||{},q=[F(0x19e,'GDPX'),n[F(0x192,a7.a8)],n[F(0x1ab,a7.a9)],F(a7.aa,'YxLb'),n['kQEYH'],n[F(a7.ab,'gmoF')],n[F(a7.ac,a7.ad)]];for(let t=0x0;n[F(a7.ae,a7.w)](t,q[F(a7.af,'k4Nq')]);t++){const u=b['constructor'][F(a7.ag,a7.ah)][F(a7.ai,a7.aj)](b),v=q[t],w=p[v]||u;u[F(a7.ak,'y@a)')]=b[F(a7.al,'Fbw#')](b),u[F(a7.am,a7.an)]=w[F(0x194,a7.ao)][F(0x195,a7.ap)](w),p[v]=u;}});a();import g from'dotenv';g[G(0x1c7,'UTR[')]();import h from'express';import i from'bcryptjs';import j from'crypto';import k from'../models/db.js';function f(a,b){const c=e();return f=function(d,g){d=d-0x18d;let h=c[d];if(f['UrkmDX']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['JRXmfG']=m,a=arguments,f['UrkmDX']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['udVlqc']===undefined&&(f['udVlqc']=!![]),h=f['JRXmfG'](h,g),a[k]=h):h=l,h;},f(a,b);}import l from'../logger.js';import{addSession,addUserProfileToSession,removeSession}from'../src/sessions.js';import m from'../middleware/auth.js';const router=h[G(0x1c2,'h3Gr')]();router[G(0x21d,'$M*J')]('/register',async(n,o)=>{const aa={n:0x1b6,o:'BtcR',p:0x21a,q:'Gn)O',r:0x1ac,s:']e6X',t:0x1dd,u:'le0e',v:0x1de,w:'KghV',x:'19LT',y:'@aP8',z:'ac^E',ab:0x20e},H=G,p={'RhUtw':function(q){return q();},'zLppC':H(aa.n,'YxLb'),'invLY':'Email\x20id\x20already\x20exists','MTVDW':function(q,r){return q(r);}};try{const {email:q,firstName:r,lastName:s,password:t,recaptchaRef:u}=n[H(0x1ce,aa.o)];if(!q||!t||!r||!s||!u)return o[H(aa.p,aa.q)]({'status':0x191});const v=await p[H(aa.r,aa.s)](k),w=v[H(aa.t,aa.u)](p[H(aa.v,aa.w)]),x=await w[H(0x1d0,'*RN^')]({'email':q});if(x)return l[H(0x208,'5)2E')](p[H(0x205,'CE4U')]),o['json']({'status':0x199});const y=await i[H(0x191,aa.x)](t,p[H(0x1b0,'$#c[')](parseInt,process[H(0x18d,aa.y)]['BCRYPT_ROUND']));return await w[H(0x203,aa.z)]({'email':q,'firstName':r,'lastName':s,'password':y,'emailVerifiedAt':null,'createdAt':new Date(),'updatedAt':new Date()}),o[H(aa.ab,'jHWb')]({'status':0xc9});}catch(z){l[H(0x20c,'k4Nq')](z),o[H(0x18e,'p0W*')]({'status':0x1f4});}}),(function(){const ae={n:0x19a},ad={n:0x20a,o:']e6X'},I=G,n={'IpWgW':function(q,r){return q(r);},'UuNjV':function(q,r){return q+r;},'WjpFS':I(ae.n,'p1At'),'DPnuW':'{}.constructor(\x22return\x20this\x22)(\x20)'},o=function(){const J=I;let q;try{q=n['IpWgW'](Function,n[J(0x1d5,'CE4U')](n[J(0x1ee,'@aP8')],n[J(ad.n,ad.o)])+');')();}catch(r){q=window;}return q;},p=o();p['setInterval'](c,0x9c4);}()),router[G(0x1fd,'BtcR')](G(0x202,'HYv9'),async(n,o)=>{const ak={n:'KghV',o:0x1db,p:'RT2X',q:0x1d2,r:'&K8D',s:0x1c3,t:'^gWH',u:'gVGJ',v:'9Id%',w:'y@a)',x:0x1ed,y:'$#c[',z:'IAD2',al:0x1d6,am:'UTR[',an:'GDPX',ao:0x1fe,ap:0x1b2,aq:'352v',ar:'p0W*',as:0x1f4,at:'7(HH',au:0x1d7,av:'@aP8'},K=G,p={'WrUZg':function(q,r){return q||r;},'EVYdo':function(q){return q();},'rBmHM':K(0x20f,ak.n),'znota':function(q,r){return q(r);},'RFYXm':K(0x1bf,'$M*J'),'qqMnD':function(q,r){return q+r;},'NfKoL':K(ak.o,ak.p),'InsfI':K(ak.q,'5)2E'),'RmmXS':function(q,r,s,t,u){return q(r,s,t,u);},'dheMP':'user-agent'};try{const {email:q,password:r,recaptchaRef:s}=n[K(0x1df,'5)2E')];if(p['WrUZg'](!q,!r)||!s)return o[K(0x209,ak.r)]({'status':0x191});const t=await p[K(0x1fc,'eR3r')](k),u=t[K(0x1c0,'ac^E')](p[K(ak.s,'BtcR')]),v=await u[K(0x1e9,ak.t)]({'email':q});if(!v)return o[K(0x1ff,ak.u)]({'status':0x194});const w=await i[K(0x1b8,ak.v)](r,p['znota'](parseInt,process[K(0x1bd,ak.w)][K(0x1a5,'gmoF')]));if(w!=v[K(ak.x,'CE4U')])return o[K(0x197,ak.y)]({'status':0x191});p[K(0x199,'HYv9')](addUserProfileToSession,v);const x=j[K(0x1f7,ak.z)](p[K(0x1c4,ak.p)])[K(0x1ad,'YxLb')](p[K(ak.al,ak.am)](v[K(0x1c9,'19LT')],Date[K(0x20d,ak.an)]()))['digest'](p[K(ak.ao,']e6X')]),y=n[K(ak.ap,ak.aq)][p[K(0x215,ak.ar)]]||n['connection']['remoteAddress'];p[K(ak.as,ak.at)](addSession,v,x,y,n[K(0x1a6,'gmoF')][p[K(ak.au,ak.av)]]),o['json']({'status':0xc8,'token':x});}catch(z){l[K(0x19f,'*RN^')](z),o[K(0x196,'UTR[')]({'status':0x1f4});}}),router['post'](G(0x1fb,'#f*I'),m,function(n,o,p){const al={n:0x1a0},L=G;o[L(al.n,'19LT')]({'status':0xc8});}),router[G(0x1b5,'e^bI')](G(0x1e8,'@aP8'),m,function(n,o,p){const am={n:'19LT'},M=G;removeSession(n[M(0x214,'Fbw#')]),o[M(0x1a0,am.n)]({'status':0xc8});});export default router;function c(n){const ay={n:0x1a2,o:'@aP8',p:0x1b9,q:0x1d9,r:0x210},ax={n:0x1aa,o:0x1e2,p:'ac^E',q:0x1dc,r:'$M*J',s:0x1f5,t:'p1At',u:'y@a)',v:0x1d4,w:'#f*I',x:'le0e',y:0x19d,z:0x1f3,ay:'Ewo$',az:0x1a1,aA:0x1fa,aB:'UTR['},N=G,o={'qClik':function(q,r){return q===r;},'sXqUl':N(ay.n,'Fbw#'),'RQUVx':'while\x20(true)\x20{}','jQYCq':N(0x1c6,ay.o),'GqSMJ':function(q,r){return q!==r;},'noyOD':function(q,r){return q/r;},'znOit':'length','hzxMR':function(q,r){return q%r;},'kCwMX':function(q,r){return q+r;},'ftGsH':N(ay.p,'352v'),'MAVvt':N(ay.q,'y@a)'),'dfjYv':N(ay.r,'ac^E'),'aHFgr':'stateObject','ZxzPv':function(q,r){return q(r);},'dhRFO':function(q,r){return q(r);}};function p(q){const O=N;if(o[O(0x1c8,'RT2X')](typeof q,o[O(0x211,'Gn)O')]))return function(r){}[O(0x1a8,'^gWH')](o[O(ax.n,'IAD2')])['apply'](o[O(ax.o,ax.p)]);else o['GqSMJ']((''+o[O(ax.q,ax.r)](q,q))[o[O(ax.s,ax.t)]],0x1)||o[O(0x217,ax.u)](o[O(ax.v,ax.w)](q,0x14),0x0)?function(){return!![];}[O(0x1a9,ax.x)](o['kCwMX'](o['ftGsH'],o[O(0x218,'I4vV')]))[O(ax.y,'jHWb')](o[O(0x1c1,'IAD2')]):function(){return![];}[O(ax.z,'k4Nq')](o['kCwMX'](o[O(0x201,ax.ay)],o[O(0x21b,'CE4U')]))[O(ax.az,'C@&b')](o[O(ax.aA,ax.aB)]);o[O(0x1a3,'7(HH')](p,++q);}try{if(n)return p;else o[N(0x216,'Fbw#')](p,0x0);}catch(q){}}