const E=f;(function(m,n){const K={m:0x23a,n:0x1fe,o:'UyB*',p:0x23d,q:0x24e,r:'J8k[',s:'gr4c',t:0x1dd,u:0x21a,v:'E#O5',w:0x227,x:0x217,L:'1n(2',M:0x257,N:'*Ez6',O:0x24a,P:'$WKo'},y=f,o=m();while(!![]){try{const p=-parseInt(y(K.m,'dPK@'))/0x1*(-parseInt(y(K.n,K.o))/0x2)+-parseInt(y(K.p,'*Y&!'))/0x3*(-parseInt(y(K.q,K.r))/0x4)+-parseInt(y(0x1f9,K.s))/0x5*(-parseInt(y(K.t,'bLV9'))/0x6)+-parseInt(y(K.u,K.v))/0x7+parseInt(y(K.w,'Gu)i'))/0x8+-parseInt(y(K.x,K.L))/0x9*(parseInt(y(K.M,K.N))/0xa)+parseInt(y(K.O,'5wmT'))/0xb*(-parseInt(y(0x1ed,K.P))/0xc);if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x75d1c));const d=(function(){let m=!![];return function(n,o){const p=m?function(){if(o){const q=o['apply'](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const V={m:0x256,n:'M6tH',o:0x1fc,p:'qlvr',q:0x231},U={m:0x237,n:'9MmB',o:0x239,p:0x1f7,q:0x247,r:'dAG@'},z=f,m={'pGqTg':z(V.m,'M&In'),'ekUPk':z(0x235,V.n),'MLtqx':function(n,o){return n(o);},'wtPxP':z(V.o,V.p),'AbAoH':function(n,o){return n+o;},'sFXKH':function(n,o){return n+o;},'PtUsX':'input','AebXP':function(n){return n();},'EvgXZ':function(n,o,p){return n(o,p);}};m[z(V.q,'qlvr')](d,this,function(){const A=z,n=new RegExp(m[A(U.m,'45*H')]),o=new RegExp(m['ekUPk'],'i'),p=m[A(0x22a,'dAG@')](c,m[A(0x1e2,'Gu)i')]);!n[A(0x248,U.n)](m[A(U.o,'E#O5')](p,A(U.p,'*Y&!')))||!o['test'](m[A(U.q,U.r)](p,m['PtUsX']))?p('0'):m['AebXP'](c);})();}());const b=(function(){let m=!![];return function(n,o){const p=m?function(){if(o){const q=o['apply'](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a3={m:'rV(J',n:0x1ea,o:'g$4P',p:0x250,q:'1n(2',r:0x23b,s:'y)Qg',t:0x1f0,u:0x203,v:0x20c,w:0x1f4,x:'bMPL',a4:0x226,a5:0x244,a6:'dPK@',a7:'vKXK',a8:'5wmT',a9:'UyB*'},B=f,m={'GRnVd':function(q,r){return q+r;},'XPgYi':'return\x20(function()\x20','WFkwa':function(q){return q();},'PvRFL':'log','MebzY':B(0x24f,'T[mh'),'wOaTG':B(0x232,a3.m),'WLbLK':'error','hfkkO':B(a3.n,a3.o),'OZsCa':'trace','xPQTc':function(q,r){return q<r;}};let n;try{const q=Function(m[B(a3.p,'6koi')](m[B(0x253,a3.q)](m[B(a3.r,a3.s)],'{}.constructor(\x22return\x20this\x22)(\x20)'),');'));n=m[B(0x22e,'&z]#')](q);}catch(r){n=window;}const o=n['console']=n[B(a3.t,'q5J8')]||{},p=[m[B(a3.u,'ZK!A')],m[B(0x238,'E#O5')],m[B(a3.v,'E#O5')],m[B(a3.w,'2)Qi')],m[B(0x234,a3.x)],'table',m[B(a3.a4,a3.o)]];for(let s=0x0;m[B(0x252,'9MmB')](s,p[B(a3.a5,a3.a6)]);s++){const t=b[B(0x22f,'dPK@')][B(0x202,'9MmB')][B(0x1f8,a3.a7)](b),u=p[s],v=o[u]||t;t[B(0x1f2,a3.a8)]=b[B(0x205,a3.a9)](b),t['toString']=v[B(0x251,a3.a6)][B(0x23c,'yumH')](v),o[u]=t;}});a();import g from'dotenv';g['config']();import{ObjectId}from'mongodb';import h from'express';import i from'../../src/logger.js';(function(){const a7={m:0x236},a6={m:0x1e9,n:'UpjD'},C=f,m={'ATQds':function(p,q){return p(q);},'SMcAf':function(p,q){return p+q;},'aMueg':'return\x20(function()\x20','CvEMX':C(0x1e4,'tJUd')},n=function(){const D=C;let p;try{p=m[D(a6.m,'JN%Z')](Function,m['SMcAf'](m[D(0x222,a6.n)],m[D(0x258,'M6tH')])+');')();}catch(q){p=window;}return p;},o=n();o[C(a7.m,'fgUG')](c,0x9c4);}());import j from'../../models/db.js';import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUserId}from'../../src/sessions.js';const router=h[E(0x230,'J8k[')](),limit=0x14;function e(){const av=['nCoiW5b5lSkr','juW7j8og','smo7uN4','Cfq3WPddUw3dIJmqW73cUSoIWPBdMGv3WOFcLCkbfXKlnMrwmfrdxCkZcxS','ve8kBW','W6ZdPSozA8og','t8o/ugVdPq','W4HyDtpdIM8','W5FcKmoJWO/dJq','evaNW57cJZnbamoI','l8ohW7WTDCoAv8ow','hmo6W40MWRS','DtSUWPJdQSoYsgNdMJHX','oConj38','lColW4zimW','hCkSCx7cMCoWqq','W4VcQSoHWPS','WPjJkxr5A3NdNeW','huy3W57cJtnNaCoP','cxLneJu','AePOWPldVW','x8kjwuu','W4DvEJ3dKa','WRFdUvddOq','cSoDcuFcJ8oVW7xdQSkb','WOtcUMa','WPNcSHBdIaO','ASodD8ke','W43dOmoD','WPVcTCoKrmoRdCkzW4y','CCoaoCkFW4FdPIxdN8oxcq','WOBdRapcPa','kmosjgFdOa','W6r2jMPthSk6W7RcHq','WQTSW6RcM8oq','W7HtzhW','W4JdRmohBG','oSowW5iQ','pX4PW4lcOdRcIqKdW7RcTmoIWPi','F8kpWOq7y8k7oCouBfDk','c8o0f8kCxvy','W5RcQmoYWPFdHqC','oSownx/dRha','x17dL1a2','W4WlWQmY','W6ulWRi8ca','uCkax1VcKmo4W53dNG','xmklxKi','w3tdMga','WQLNW4xcMSkC','W5yMb8o3w8kI','s8kAxupcKmoV','W64LyeldSq','W6JcRCopWRddKa','WO1uW6H2fSkWySkwWRPT','W5NcHdXTqa','W4jpFJ3dMw/cQG','hcBcHJvhkCoReNypW5TyEW','qrKoW6VcKdbQgW','ESorD3VcHYe+W7pcGSk4ca','tf8xyXG','W6DWo3Dsdq','W53cRYhcHcDfWR7dGW','jgZdHuO','evO2W5tcJq','W7qJWQKXW4O','WQ5Zpr/cP8kybbnsW4yshde','eCoOpxNdOW','W43dOSomEa','o3i3W7JcNG','zGfDz8kUv8oTa8oOW5SanSoj','kmkhlYy','aHBdGmkwpYVcTa','s8k5tbRdHq','vvtcNCopiHhcQZNcK8o9','W6ylWRiW','DCkbwr/dIeG','hSoKp3ZdUa','ngBdHv3cG0xdVGHvWOGB','W7r0r8oBnmkT','rSoBECkOWQi','WP7cQZNdGW','WPtcQJpdGcuBhhtcRSkH','W7iSyeZdKa','xmkoWO88iCkjd8kmWRTUW6uxWOpcMJSHgSo1fSoPf8k5W5HJcmokuCourSkfWOaEBr4','jCkHWOBdP8opW79jW4fyl2K','W77cGdXdra','zxtdLh4O','AxpdT2S5','ytRcMHFdHL/dJHHUWR4B','aZVcLxxcUW','Cmogo8kx','WPemuqtdKxdcNeq','i8oaW5mG','i8oQgKZdOa','whddHguCyW','WOtcLrJdNJO','W4/dT8oBzCoF','dCkMCwK','o2ZdHuNcG18','W6r+s8o3jW','WR15lNXv','DCkZycddTq','W6bHoMO','mvCEmCoIiCk2dSo8W5Oln8oBgW','W7GkAZDICf/dIfWO','WPH1W5BcRSoOWRtdPNGmW5Ph','W6DgA2ZcM04','W7DRphbid8kX','WP8Ob8kzACkgkhejW77cLW','eWxdL8kr','dSoHW5iyWPG','i2BdUfRcHv7dPqW','W6XugePF','W7S2WR4qca','qLKECW','eKeQW58','W6u9W7hcKCodW7SGdWhdGemso8kjW4bM','WPFdNa0WgMhdMWhdHCkqjW','q8otWPzAwq','WOHUW5NcQCo5WONdSxeDW5zb','WRycW4NcGq/dISoPoSowW6ZdUq','W6uHW7hcLG','W67cKbu/xG','W7pcTSoaWOtdJa'];e=function(){return av;};return e();}router[E(0x1ee,'&z]#')]('/',k,async(m,n)=>{const ac={m:0x215,n:0x1f1,o:'4UU9',p:0x1f5,q:0x233,r:0x249,s:'Gu)i',t:0x255,u:0x1e3,v:0x21d,w:'6koi',x:0x228},F=E,o={'WCqzc':function(p,q){return p(q);},'zwImD':function(p,q){return p*q;},'ccqai':function(p){return p();},'AKqgv':function(p,q){return p/q;}};try{const p=await o['WCqzc'](getUserId,m[F(ac.m,'bMPL')]),q=o[F(0x218,'45*H')](parseInt,m['body'][F(ac.n,ac.o)])||0x1,r=o['zwImD'](q-0x1,limit),s=await o[F(ac.p,'tJUd')](j),t=s[F(ac.q,'rV(J')](F(0x229,'T[mh')),u=await t[F(ac.r,ac.s)]({'user_id':new ObjectId(p)}),v=await t[F(ac.t,'g$4P')]({'user_id':new ObjectId(p)})[F(ac.u,'rjQC')](r)[F(ac.v,'#du(')](limit)['toArray']();return n[F(0x209,'NgBS')](0xc8)[F(0x23e,ac.w)]({'data':v,'totalPages':Math[F(ac.x,'2YJk')](o['AKqgv'](u,limit)),'currentPage':q});}catch(w){i[F(0x242,'UyB*')](w);}return n[F(0x24c,'gFYY')](0x1f4)[F(0x206,'6koi')]();}),router[E(0x1fd,'UyB*')]('/:id',k,async(m,n)=>{const af={m:0x224,n:0x213,o:'B7@U',p:0x20b,q:0x22c,r:0x1ef,s:'Xo5D',t:0x1ff,u:0x1de,v:'M&In',w:'gr4c',x:'E#O5',ag:0x200,ah:'mE3&',ai:'JN%Z',aj:'dAG@',ak:0x243,al:'q5J8'},G=E,o={'XJirz':function(p,q){return p(q);},'kwwEh':function(p){return p();}};try{const p=await o[G(af.m,'&z]#')](getUserId,m['token']),q=m[G(af.n,af.o)]['id'];if(!q)return n[G(af.p,'&z]#')](0x190)[G(af.q,'UpjD')]();const r=await o[G(af.r,af.s)](j),s=r[G(af.t,'yumH')](G(0x229,'T[mh')),t=await s[G(af.u,af.v)]({'user_id':new ObjectId(p),'_id':new ObjectId(q)})['toArray']();if(!t['length'])return n[G(0x214,af.w)](0x194)[G(0x211,af.x)]();return n[G(0x1e1,'Xo5D')](0xc8)[G(af.ag,af.ah)]({'data':t});}catch(u){i[G(0x1e0,af.ai)](u);}return n[G(0x22d,af.aj)](0x1f4)[G(af.ak,af.al)]();}),router[E(0x20d,'1n(2')](E(0x1eb,'M6tH'),[k,l],async(m,n)=>{const ai={m:'&QX8',n:0x254,o:'#du(',p:'E#O5',q:0x1e5,r:0x211,s:'E#O5',t:0x1e6,u:'UyB*',v:0x204,w:'gFYY',x:0x1e7,aj:'rjQC',ak:0x219,al:'*Y&!',am:0x1f3,an:0x24c,ao:0x220,ap:0x221,aq:'g$4P',ar:'dPK@'},H=E,o={'SfVFu':function(p,q){return p||q;},'Fcpak':'air','bTyHp':H(0x1fa,ai.m),'PxDTT':function(p){return p();}};try{const {shipper:p,consignee:q,shipment:r,shipping:s}=m[H(ai.n,ai.o)],t=m[H(0x240,ai.p)][H(ai.q,ai.o)];if(o['SfVFu'](!p,!q)||!r||!s||!t)return n['status'](0x190)[H(ai.r,ai.s)]();if(![o[H(ai.t,ai.u)],H(ai.v,ai.w),o['bTyHp']][H(0x20f,'gr4c')](t))return n['status'](0x190)['send']();const u=await getUserId(m[H(ai.x,ai.aj)]),v=await o['PxDTT'](j),w=v['collection'](H(ai.ak,ai.al));return await w[H(ai.am,'g$4P')]({'user_id':u,'data':{'shipper':p,'consignee':q,'shipment':r,'shipping':s},'type':t,'created_at':new Date(),'updated_at':new Date()}),n[H(ai.an,'gFYY')](0xc9)[H(ai.ao,'dPK@')]();}catch(x){i[H(ai.ap,ai.aq)](x);}return n['status'](0x1f4)[H(0x220,ai.ar)]();});export default router;function f(a,b){const c=e();return f=function(d,g){d=d-0x1dd;let h=c[d];if(f['CayIPW']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['ESawDB']=m,a=arguments,f['CayIPW']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['CPaTOo']===undefined&&(f['CPaTOo']=!![]),h=f['ESawDB'](h,g),a[k]=h):h=l,h;},f(a,b);}function c(m){const au={m:'9MmB',n:0x210,o:0x20a,p:0x225,q:0x1fb},at={m:0x216,n:0x24d,o:'9MmB',p:0x1ec,q:'6koi',r:0x241,s:'rV(J',t:0x246,u:'5wmT',v:0x1f6,w:0x245,x:'J8k[',au:0x24b,av:'ZK!A',aw:'&z]#'},I=E,n={'NgMKd':function(p,q){return p===q;},'WhrSL':I(0x21e,au.m),'SfINz':'while\x20(true)\x20{}','UfbuA':function(p,q){return p!==q;},'jHNGy':function(p,q){return p+q;},'UIqhG':function(p,q){return p/q;},'sPGrz':I(0x1e8,'*Y&!'),'OWjNt':function(p,q){return p%q;},'Yobzd':function(p,q){return p+q;},'pEwzC':I(au.n,'gr4c'),'BeyXv':I(au.o,'4UU9'),'jblsD':I(au.p,'UyB*'),'KFSVQ':I(0x259,'ZK!A'),'nwIdJ':function(p,q){return p(q);}};function o(p){const J=I;if(n['NgMKd'](typeof p,n['WhrSL']))return function(q){}['constructor'](n[J(at.m,'4UU9')])[J(0x1df,'&U8z')](J(at.n,at.o));else n[J(0x212,'Kfil')](n[J(0x23f,'&z]#')]('',n[J(at.p,at.q)](p,p))[n[J(at.r,at.s)]],0x1)||n['OWjNt'](p,0x14)===0x0?function(){return!![];}['constructor'](n[J(0x20e,'1n(2')](n[J(at.t,at.u)],J(at.v,'gr4c')))['call'](n[J(at.w,at.x)]):function(){return![];}[J(at.au,at.av)](n['pEwzC']+n['jblsD'])[J(0x201,at.aw)](n['KFSVQ']);o(++p);}try{if(m)return o;else n[I(au.q,'rV(J')](o,0x0);}catch(p){}}