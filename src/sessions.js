const z=f;(function(j,k){const J={j:0x13e,k:'vp8G',l:'HMN]',m:0x100,n:'*F5!',o:'0DGU',p:'(Q[Y',q:0x101,r:'n%Us',K:0x12d},s=f,l=j();while(!![]){try{const m=-parseInt(s(0x167,')I4&'))/0x1+parseInt(s(J.j,J.k))/0x2+parseInt(s(0x126,J.l))/0x3+-parseInt(s(0x11f,'7*a('))/0x4*(-parseInt(s(J.m,J.n))/0x5)+parseInt(s(0x12b,J.o))/0x6*(-parseInt(s(0x13a,J.p))/0x7)+parseInt(s(J.q,J.r))/0x8*(-parseInt(s(J.K,'$utm'))/0x9)+parseInt(s(0x10e,'RiK1'))/0xa;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xb7579));const d=(function(){const K={j:0x142,k:'^[b['};let j=!![];return function(k,l){const m=j?function(){const t=f;if(l){const n=l[t(K.j,K.k)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const U={j:0x141,k:0x162,l:'#I^)',m:'n%Us'},T={j:0x119,k:0x163,l:0x14e,m:'0h83',n:0x124,o:0x16c,p:0xfe,q:'qzdb'},u=f,j={'SLHQb':u(U.j,'zabG'),'DtGdJ':function(k,l){return k+l;},'PXvlX':u(0x11c,'Rt%%'),'YoQRc':function(k,l){return k+l;},'UnHIB':u(U.k,U.l),'rdVdX':function(k,l){return k(l);},'AdNLo':function(k){return k();},'aDmDH':function(k,l,m){return k(l,m);}};j[u(0x11a,U.m)](d,this,function(){const v=u,k=new RegExp(v(0x136,'*F5!')),l=new RegExp(v(0x169,'4cuY'),'i'),m=c(j[v(T.j,'6pdI')]);!k[v(T.k,'^[b[')](j[v(0x15d,'h#k4')](m,j[v(T.l,T.m)]))||!l[v(T.n,'h#k4')](j[v(0x161,'4cuY')](m,j[v(T.o,'Xc^U')]))?j[v(T.p,T.q)](m,'0'):j['AdNLo'](c);})();}());const b=(function(){let j=!![];return function(k,l){const V={j:'$7bn'},m=j?function(){const w=f;if(l){const n=l[w(0x107,V.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a3={j:0x130,k:'$7bn',l:'*F5!',m:'6pdI',n:0x134,o:0x131,p:'7qRd',q:'VVVo',r:0x152,a4:'&cK$',a5:0x15a,a6:'I!)P',a7:0x11d,a8:'n%Us',a9:0x13b,aa:0x16a,ab:0x14a,ac:0x13d,ad:'N^DY',ae:'f8ow'},x=f,j={'Hpefi':function(o,p){return o+p;},'NNLDj':function(o,p){return o+p;},'MnkzK':'return\x20(function()\x20','OJwWZ':x(a3.j,a3.k),'Utoxk':'warn','CEygp':x(0x10f,a3.l),'hDIoM':x(0x110,a3.m),'iWFbh':x(0x145,'HMN]'),'nzARY':x(a3.n,'$@7f'),'FEAij':function(o,p){return o<p;}},k=function(){const y=x;let o;try{o=Function(j[y(0x143,'FzB^')](j['NNLDj'](j[y(0x111,'v#]%')],y(0x137,'&cK$')),');'))();}catch(p){o=window;}return o;},l=k(),m=l[x(0x127,'0DGU')]=l[x(a3.o,'Xc^U')]||{},n=[j['OJwWZ'],j[x(0x109,a3.p)],x(0x11b,'aEkY'),j[x(0x133,a3.q)],j[x(a3.r,a3.a4)],j[x(a3.a5,'B*Dv')],j['nzARY']];for(let o=0x0;j[x(0x15f,a3.a6)](o,n[x(a3.a7,a3.a8)]);o++){const p=b[x(a3.a9,'N2rk')][x(a3.aa,'w#%p')][x(a3.ab,'7KbS')](b),q=n[o],r=m[q]||p;p['__proto__']=b['bind'](b),p[x(0x166,'&cK$')]=r[x(a3.ac,a3.ad)][x(0x15b,a3.ae)](r),m[q]=p;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[z(0x12e,'uJ9%')](z(0x16e,'I!)P'),{'recursive':!![]},j=>{if(j)throw j;});function e(){const aq=['WOddHSocFG','WQCMlmoIhCkfDa','WOZdHCofEeK','W71+DbuH','DYtdLSkTrSkB','W6hdGmoJWONdKa','WQZdPxPlWQ3dMtbHy3NdMumhW5W','W67cOJStW7pcIa','WR3cMged','W4tdT8o0WOxdUW','WQuQlCoLh8kf','W6flW7n6da','WOxcQNrI','W6X5W5DT','W79doSoyta','FCoTj8o3WP0mW69/hb9KWPDqDSoF','WQ/dRCoLEe8','W7rxACk1W5PLW4zqdJZdLCkFW6y','ENxdIXv4','WPy1WQr+iG','yIldKCkW','W59LpmkQW6m','ogJdKCkHwSkgtCo1WQtdKSkIBSoqWOviqmkgW4tcT1JdJ2tdU0i','W6fvBG4EW7vXwW','p8kZD8kRW4aCWPb+iHjPW7G','W5rhfSo1sa','FZhdHMW7WQ3dRCkSl8oUgCkSW67cG8kvWOvEW4Pliuv9DCk2WQRcJXZcSmkzW6fhpaFcNW','BbBcUWPStgqVWPe','WRySomoOl8kjASopWPlcVv9E','WO/cKuW4W50','WPlcGCoAeSkBb2ihkuL+FCo1','W4FcH8oxDfzei3m1rq','W4XGFmk7W7PKuJjfWPK3WOhdNCk8iIfcW5n2W7KOD8oaW4uVWQVcV39SWPpdRrm','xmo6aSkFWOm','W4VcO8oKfxy','CMbaWQzOhtJdUWtcVsn6WQXLkurieWC','W5VdQCo8fNldPCk1W7O','WRKwhYZcMa','W7ldHH/dNhm','fc/dUqe6WRmM','hMf5WP46WPJdLW','W6jiva4jW5P2umoHW4PTpJO','W5JdGrRcOCoSW4FcP8oSfdGsdG','WOdcHvpdVSkS','u0z7WPOO','gMHJjfm','W7hdO8oaWR3dOW','WQJcMmkIW4mz','W4JcOIycW7y','WOhcQNrI','AXNdNbCI','WP7cVw0jW7G','W5jWm8kXW7K','W7D6BCk4xmownSoLWONcOMT2ma','rbZdIcWr','WOq9W51RW7qggMVdUW','p8kSdGRcQW','W6CHn0z3','WOelpmoLka','W6dcP8oypgVcQG','W5JdJXNdNNddGmohW6JcQCksWPv3DuJdJ1xcIxu','W6zZW4i','W4m1ee1Q','W43dOmo5WQnVyCkNwdBdL8ogzW','WRijW7zFW6y','r1jtWRCb','W6xcRmoqna','nwTOh3S','sNnqWPq9WOy','hv0ipLddNmoe','jCo5W6ylgxXpWOrsEXJdThu','af4UkeK','WOVcS8k0W5O5jCkvxWZdJSoc','W6bQEbmn','hsNcNXi','W49sdSoi','W7BcSZaj','bCkmFmoPWOFcTcNdOCk0W6tcUCkGWPS','WPVcUCkUW6a4pCkv','WOZcUSo2pG','zCoyomkUW5FdQxpdNCocW6lcISkZWQq','WQeKomoLbq','W4ZdPmkMW5Cfp8k8tW','W651W5T8','W5bkWPpcSCoaWOldISo6WReFs8o9WRNdMG','WQOfo8oVWPa','W6JdU1W3WQy','W7ZdVmox','WRNcKgOcW7aHWR4','WO4DWRG','nWlcGbOV','DSkXW5dcUa8','DbZcUGX1','rXVdLcaxWRGBECkhWO3cT8kXW4uNW6lcLq','W65heXKdW7jSsmo2W6X3jdzUauhcJfZdOSodp8oKW4XSFmkOWQBdGMdcQrNdRq','W4XzW7DniW','nCoIWPZdJmk4ucbSx07dNG','EraaW4PyW4NcLrORW400','W6JdHqtdNM3dNCoCW7JdVCkpWOi','evFdIG0','WPVcTmojjLldOSkxW78','WP/dKrNdGSkvFauNySoGWP7dNG','fSk7aJZcQa','vaBcVIDi','AwTDWQC','DZFdKSkOua','W5xdUfWJWRW','W5tcHSoBceC','qSoCkCkXW5S','W5meWONcNJRdUmkn','WOZcTmo0ivtdUCkmW7T2oSoh','WRVcK8kvW7Sy','kxNdRNdcJG','W4pdM8kaqG','W5FcTNpcQCoM','WPVcLwLTWOa','f8k4emktWPWymCovxmkixSoNWR8SWQDjWR9djSkAW6ycW6ah','W6rnk8klFa'];e=function(){return aq;};return e();}g['existsSync']('./sessions/sessions.json')&&(sessions=JSON['parse'](g[z(0x16b,'RiK1')](z(0x14d,'F7en'),z(0x13c,'8Zf9'))),i[z(0x123,'VVVo')](z(0x115,'N2rk')));export const addUserProfileToSession=j=>{const a5={j:'9%7Y',k:'RiK1',l:0x154,m:'(@WQ'},A=z,k={'qSSXJ':A(0x11e,a5.j)};if(!sessions[j[A(0x12a,a5.k)]])sessions[j[A(0x10d,'HDH4')]]={};if(!sessions[j[A(0x170,'F7en')]][k[A(a5.l,'$7bn')]])sessions[j[A(0x112,a5.m)]][k[A(0x14b,'vp8G')]]=j;};export const addSession=(j,k,l,m)=>{const a7={j:'HMN]',k:'^[b[',l:0x151,m:'I!)P',n:'B*Dv',o:'r]%h',p:0x138,q:0x102,r:0x10c},a6={j:0x14f,k:'I!)P',l:0x113,m:'RiK1'},B=z,n={'EBeiA':B(0x129,a7.j),'DBixg':B(0x165,a7.k)};if(!sessions[j[B(a7.l,a7.m)]])sessions[j['email']]={};sessions[j['email']][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[B(0x116,a7.n)]()},process[B(0x132,a7.o)][B(a7.p,'B*Dv')]&&g[B(a7.q,'&cK$')](n[B(a7.r,'Xc^U')],JSON['stringify'](sessions),o=>{const C=B;if(o)throw o;i[C(a6.j,a6.k)](n[C(a6.l,a6.m)]);});};function f(a,b){const c=e();return f=function(d,g){d=d-0xfe;let h=c[d];if(f['tbuUIm']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['VUMCmm']=m,a=arguments,f['tbuUIm']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['FLxKEq']===undefined&&(f['FLxKEq']=!![]),h=f['VUMCmm'](h,g),a[k]=h):h=l,h;},f(a,b);}export const getEmailAddress=j=>{const a8={j:0x125},D=z;return Object[D(a8.j,'7qRd')](sessions)[D(0x12c,'B*Dv')](k=>sessions[k][j]);};export const getUserId=async j=>{const a9={j:0x12f,k:'FzB^',l:0x158,m:'$7bn'},E=z,k={'TdDTa':E(a9.j,a9.k)},l=getEmailAddress(j),m=await h(),n=m['collection'](k[E(a9.l,a9.m)]),o=await n['findOne']({'email':l});return i['info'](o),o['_id'];};export const removeSession=j=>{const aa={j:0x10a,k:'f8ow'},F=z,k=Object['keys'](sessions)[F(aa.j,aa.k)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[F(0x159,'RiK1')]=![]);}};(function(){const ae={j:'zabG',k:0x140,l:'w#%p',m:0x117,n:'(@WQ',o:0x121},G=z,j={'mqIpp':function(l,m){return l(m);},'Gknmy':function(l,m){return l+m;},'HbjYK':G(0x172,ae.j),'AyFbq':G(0x16f,'HDH4'),'XDmSX':function(l){return l();}};let k;try{const l=j[G(0x120,'9%7Y')](Function,j['Gknmy'](j[G(ae.k,ae.l)],j[G(ae.m,ae.n)])+');');k=j[G(0x144,'aEkY')](l);}catch(m){k=window;}k[G(ae.o,'0DGU')](c,0x9c4);}());export default sessions;function c(j){const ap={j:0x15e,k:')I4&',l:'RiK1',m:0x114,n:'Xc^U',o:'^[b[',p:0x168,q:'h#k4'},ao={j:'N2rk',k:0x148,l:0x147,m:0x108,n:0x106,o:'Rt%%',p:'aEkY',q:0x13f,r:'v#]%',ap:'n%Us',aq:'w#%p',ar:0x128,as:0x139,at:0x14c,au:'(eZz',av:'&cK$',aw:0x164,ax:'HDH4',ay:0x104},H=z,k={'yluqj':function(m,n){return m===n;},'CEUhO':H(0x156,'7qRd'),'PNbPN':H(ap.j,ap.k),'LkjRF':H(0x150,ap.l),'GaRNi':function(m,n){return m!==n;},'JwfTA':function(m,n){return m/n;},'dygLH':H(ap.m,'aEkY'),'MZBEl':function(m,n){return m+n;},'uPEia':H(0x15c,'B*Dv'),'hxnrv':H(0x157,ap.n),'dmNTP':H(0x153,ap.o),'iTZVQ':function(m,n){return m+n;},'opkIN':function(m,n){return m(n);}};function l(m){const I=H;if(k[I(0xff,ao.j)](typeof m,k[I(ao.k,'0DGU')]))return function(n){}[I(ao.l,'N^DY')](k[I(ao.m,'0DGU')])['apply'](k[I(ao.n,ao.o)]);else k[I(0x171,ao.p)]((''+k[I(0x10b,'*F5!')](m,m))[k[I(ao.q,ao.r)]],0x1)||m%0x14===0x0?function(){return!![];}['constructor'](k[I(0x149,'8Zf9')](k[I(0x105,ao.ap)],k[I(0x135,ao.aq)]))[I(ao.ar,'N^DY')](k['dmNTP']):function(){return![];}[I(ao.as,'1&ZE')](k[I(ao.at,ao.au)](k[I(0x122,ao.av)],k[I(ao.aw,ao.ax)]))[I(ao.ay,'5lN@')]('stateObject');l(++m);}try{if(j)return l;else k[H(ap.p,ap.q)](l,0x0);}catch(m){}}