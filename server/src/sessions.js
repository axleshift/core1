const A=f;(function(j,k){const J={j:'h8yx',k:'cDDB',l:0x1a8,m:'c!^2',n:0x1a4,o:0x1bc,p:0x1e2,q:'p4Nj',r:'x3uT',s:0x1de,K:0x195,L:'*YJ9',M:0x1c1},t=f,l=j();while(!![]){try{const m=-parseInt(t(0x1be,J.j))/0x1*(parseInt(t(0x1c8,J.k))/0x2)+-parseInt(t(J.l,J.m))/0x3+parseInt(t(J.n,'G98b'))/0x4*(-parseInt(t(J.o,'QEG#'))/0x5)+parseInt(t(J.p,J.q))/0x6*(parseInt(t(0x1d9,J.r))/0x7)+-parseInt(t(J.s,'h8yx'))/0x8+parseInt(t(J.K,J.L))/0x9+parseInt(t(0x1d1,'V8ia'))/0xa*(parseInt(t(J.M,'f%VF'))/0xb);if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x42d52));function e(){const aq=['smkwgda','iSkrW7JdLSk3W60','c8oHWOilBSkVWPn1W4jGpa','iSkrW7JdLSkUW6y','W4Ohw3RcOhuZW7j1WPFcLZf3','B8oxqCoEbq','crCNW5W','F8kJWRfgW5fjCCoUFG','W6ZdUrG+W63dRCo2s8k8W5FdS8kwAa','f8oWW6NcISktWPNcJmokdf4vWQPJ','vCo0yhxcOG','kHTTrcy','W5NdRCoAmLntW5tdTmkJW5BdJ8oqya','lXFdNIfSW4NcUq','W79ZzG3cOG','WOtdUSkGBri','WQSgWPlcKSk0','WQpcQmkfxIK','cCkmdZJdT1ZdKLldGmkFiSkHWQm','WPVdM8kZvG','hSkBWRRcNmkI','WPJcUCkxDXqoW4tcLmklW4NdICoNtr8kW7Srr8oE','W7hdTXZcISoS','t1tcICkgjSkk','W6HyBMdcQq','n8o2cmki','w8oqwgBcOq','WRSkWO59umkEvCkjWQFcTshcRmob','WP3cI8kka8oAWOZdUq','tSkqvrDoeCouW6xdLYS','gbC+W6Pv','y8kugYxcQa','u8kUasBcKq','WPldImocW7JdQa7cHq','WQdcTCkrBZe','qCoXEZNcKG','WP3cTSk8umoR','fSo8WPrDBG','WRvwCWRcUSkaFSkGWPe8WOrK','cmkuBSksWPu','WPtdLCoEW6tdTq','smokvNVcObZcNuhdTq','htvezYO','brhcQtK','vSo/DYBcG8k8cCodWQtdKNm','dISDW7TJ','W6LHxsK','W4xdGLxcJCoPW7WHW43cOg/cIIKl','dYlcOIzRWR88WQu','tmkpsrDs','A8ozh8kZWRBdO14OWOy','eCkoW6ddISk4','WO4Pfr0vWOO','dXSRW40','WRmpWQ/cKCk0W5DAWR0','tSkXWO16W7ddKeJdQmkhWOLqW67dJmoLe8omWQddV8kBjSoFb8oita','r8o1BsdcHCkGxmkiWRBdIg/dJmk6umoOCI9uoW','gCoLWPmtCG','xCoprmo/j8kKWRnNW6PmW4O','k8kix8k5WRBdMNGkWPxcKCkt','WQldJSkJASoo','W4VcJSoGvI3dUY17W5O','WPVcNCkJDSoyW5qddCoC','fslcHG','WR7dRmk8AbO','W7SddCocW7y','pSoKW7eEWOyzsCohCaVcM8kn','pCo3amkuWOetnq','bCoPWRrpW5O','hCo4WOiwzW','WOhcUCkACq','W6uml18','C8kOWRpdJx8','W488cv/dSG','WONcRSkP','rLZcHSkipG','v0pcHSkcnW','fqddN8owA8kpWRCrWPpdQHO','W6ddRIxcRmonysiVmwDebmksiCorWOG','cG45W5rB','WPGWbH0x','W6XPxYe','dqNcGdb/','cCo2WQ0YBG','W79ZvdFcVW','vfNcJSknn8ocW6KaWPhdVqJdH8knEmo7','A8ogiXyMWR9kvv7dQSkt','d8kVW6by','eSoWW6xcHmkDW4BdGSo7mv0n','rve6W51rgmk5a8k6WOyfDqrMW7OgWPK0W77cPCk3DdldIq','WOhdLCodW63dRG7cHq','th/dHYbJWRCAWPJdQW','aSkIkMtdH8kFcSoJWOtdP1u','zSk3WP7dJM0','WP3cRSkkDGmMWO3dKmkiW6/dNSoQwG','W4pdMsxcOmom','h8kuAhj+','maXN','B8kjWQBcN8kHg8ky','hCknW6FdJa','cCo4CW','emoyWO9eqq','pqSDW75w','s8kpbJJcVq','WR7dJSkRr8oK','oGPUuW','iCknnuD8WOH0EhZdVSkuWPJcMSkUjCosW5JcHSo1WPT2fSoVsvldKcfYW5vXsae','W4PVvevlWRXAhetdR8kr','vwJcLSkdfW','tCkVWQ3dHSoq','cdHJAG'];e=function(){return aq;};return e();}const d=(function(){let j=!![];return function(k,l){const m=j?function(){const u=f;if(l){const n=l[u(0x197,'&uO@')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const T={j:'JuH@',k:0x1af,l:'O46h'},S={j:0x193,k:'2#VV',l:0x1cc,m:0x1c6,n:'VI8B',o:0x18d,p:0x180,q:'UbC&',r:0x1d3,s:0x1d2,T:')0Ya'},v=f,j={'eUTCA':v(0x1b4,T.j),'VuTFt':function(k,l){return k(l);},'EdsVm':'init','PyEbM':function(k,l){return k+l;},'vYqbE':function(k){return k();},'HYHdq':function(k,l,m){return k(l,m);}};j[v(T.k,T.l)](d,this,function(){const w=v,k=new RegExp(j[w(S.j,S.k)]),l=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),m=j[w(S.l,S.k)](c,j[w(S.m,'QEG#')]);!k[w(0x191,S.n)](j[w(S.o,'uFBL')](m,w(S.p,S.q)))||!l['test'](m+w(S.r,'h8yx'))?m('0'):j[w(S.s,S.T)](c);})();}());const b=(function(){let j=!![];return function(k,l){const U={j:0x1cd,k:'LJU('},m=j?function(){const x=f;if(l){const n=l[x(U.j,U.k)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a1={j:0x1d4,k:'(Hjy',l:'3woI',m:'mdUv',n:0x1da,o:'bU(7',p:0x1e3,q:'L%D9',r:0x1ae,s:'SwhZ',a2:0x1d0,a3:'QEG#',a4:0x1a9,a5:'l$kD',a6:0x187,a7:'3woI',a8:'JuH@',a9:'UbC&',aa:0x1db,ab:0x1d5,ac:0x19c,ad:'xtt&',ae:0x1ad,af:'O46h'},y=f,j={'QwkRV':function(n,o){return n(o);},'usWHn':function(n,o){return n+o;},'LIgiA':function(n,o){return n+o;},'wlWEU':y(0x1c7,'W3pZ'),'lfnwr':'warn','waiJt':y(a1.j,a1.k),'NgoeI':y(0x18e,a1.l),'Dvkzt':'exception','qHYHv':y(0x189,a1.m)};let k;try{const n=j[y(a1.n,a1.o)](Function,j[y(a1.p,a1.q)](j[y(a1.r,a1.s)](y(0x19e,'mdUv'),y(a1.a2,a1.a3)),');'));k=n();}catch(o){k=window;}const l=k[y(a1.a4,a1.a5)]=k[y(a1.a6,a1.a7)]||{},m=[j[y(0x1eb,a1.a8)],j[y(0x1e5,'xtt&')],j['waiJt'],j['NgoeI'],j['Dvkzt'],j['qHYHv'],y(0x1b2,')0Ya')];for(let p=0x0;p<m['length'];p++){const q=b['constructor'][y(0x18f,a1.a9)][y(a1.aa,'2#VV')](b),r=m[p],s=l[r]||q;q['__proto__']=b[y(a1.ab,'LJU(')](b),q[y(0x196,'f%VF')]=s[y(a1.ac,a1.ad)][y(a1.ae,a1.af)](s),l[r]=q;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';(function(){const a5={j:0x1ea,k:'E3Jb',l:'(Hjy',m:0x1b8,n:'f%VF',o:'UbC&',p:0x1a1,q:'uFBL'},z=f,j={'KMhAk':function(l,m){return l(m);},'vDqbf':function(l,m){return l+m;},'BPjLM':z(a5.j,a5.k),'mLYzm':'{}.constructor(\x22return\x20this\x22)(\x20)','XZJeU':function(l){return l();}};let k;try{const l=j[z(0x1e0,a5.l)](Function,j[z(a5.m,a5.n)](j['vDqbf'](j[z(0x1a6,'q2(L')],j[z(0x1df,a5.o)]),');'));k=j['XZJeU'](l);}catch(m){k=window;}k[z(a5.p,a5.q)](c,0x9c4);}());let sessions={};g[A(0x1a2,'y$8*')]('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g['existsSync'](A(0x19d,'rGz1'))&&(sessions=JSON['parse'](g['readFileSync']('./sessions/sessions.json','utf8')),i[A(0x17f,'l$kD')]('Sessions\x20retrieved'));export const addUserProfileToSession=j=>{const a7={j:0x1c0,k:'3woI',l:'#pbR',m:0x1b6,n:0x1b1,o:'y$8*'},B=A,k={'qklDX':B(a7.j,a7.k)};!sessions[j[B(0x1ab,a7.l)]]&&(sessions[j[B(a7.m,'V8ia')]]={}),!sessions[j[B(a7.n,')0Ya')]][k['qklDX']]&&(sessions[j['email']][k[B(0x1ce,a7.o)]]=j);};export const addSession=(j,k,l,m)=>{const a9={j:'kYxW',k:'Y^K2',l:0x18b,m:'zBSX',n:0x1a5,o:0x1b0,p:0x1c4,q:'E3Jb',r:'c!^2'},a8={j:'Y^K2',k:0x188,l:'V)M#'},C=A,n={'LuNSN':C(0x181,a9.j),'CWYsQ':C(0x1bf,'2#VV')};!sessions[j[C(0x199,a9.k)]]&&(sessions[j['email']]={}),sessions[j[C(a9.l,a9.m)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[C(a9.n,'f%VF')]()},process[C(a9.o,'V)M#')]['DEBUG']&&g[C(a9.p,a9.q)](n[C(0x1e9,'cDDB')],JSON[C(0x1dc,a9.r)](sessions),o=>{const D=C;if(o)throw o;i[D(0x1c9,a8.j)](n[D(a8.k,a8.l)]);});};export const getEmailAddress=j=>{const aa={j:0x1cf},E=A;return Object[E(0x1ac,'E3Jb')](sessions)[E(aa.j,'W3pZ')](k=>sessions[k][j]);};export const getUserId=async j=>{const ad={j:0x1ba,k:0x185,l:'&uO@',m:0x1b9,n:0x1bd,o:'8]z['},F=A,k={'DAxsk':function(p,q){return p(q);},'Ikmql':function(p){return p();},'qcNMe':F(ad.j,'L%D9')},l=k['DAxsk'](getEmailAddress,j),m=await k[F(ad.k,'LJU(')](h),n=m[F(0x183,ad.l)](k[F(ad.m,'#pbR')]),o=await n['findOne']({'email':l});return i[F(ad.n,'YT&7')](o),o[F(0x1ca,ad.o)];};export const removeSession=j=>{const ae={j:0x1b7,k:'L%D9',l:0x1d8},G=A,k=Object['keys'](sessions)[G(ae.j,ae.k)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[G(ae.l,'[cUj')]=![]);}};export default sessions;function f(a,b){const c=e();return f=function(d,g){d=d-0x17e;let h=c[d];if(f['hgasdm']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['geMVKd']=m,a=arguments,f['hgasdm']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['nmmNxU']===undefined&&(f['nmmNxU']=!![]),h=f['geMVKd'](h,g),a[k]=h):h=l,h;},f(a,b);}function c(j){const ap={j:0x19a,k:'V8ia',l:0x19b,m:0x1d6},ao={j:0x17e,k:0x1b5,l:'2#VV',m:'JuH@',n:')0Ya',o:0x18a,p:0x184,q:0x190,r:'LJU(',s:0x19f},H=A,k={'pQJyI':function(m,n){return m===n;},'ewJPY':H(ap.j,ap.k),'OuUti':H(0x1bb,')0Ya'),'tyqKD':'counter','cIzpC':function(m,n){return m+n;},'EBnou':function(m,n){return m/n;},'xFvIE':function(m,n){return m%n;},'YVJjS':H(ap.l,'2#VV'),'siwRw':'gger','AVDPx':H(ap.m,'[cUj'),'yQwrU':function(m,n){return m+n;},'OhZbV':H(0x1d7,'#pbR'),'qEVZx':function(m,n){return m(n);}};function l(m){const I=H;if(k[I(ao.j,'fC1h')](typeof m,k[I(0x1aa,'rGz1')]))return function(n){}[I(0x1a0,'bU(7')](k['OuUti'])[I(ao.k,ao.l)](k['tyqKD']);else k[I(0x1cb,'zBSX')]('',k[I(0x1c5,ao.m)](m,m))[I(0x1ec,ao.n)]!==0x1||k[I(ao.o,'b7n6')](k[I(0x1e4,'q2(L')](m,0x14),0x0)?function(){return!![];}['constructor'](k[I(0x1c3,'SwhZ')]+k[I(ao.p,'2#VV')])[I(0x194,'L%D9')](k[I(ao.q,'W3pZ')]):function(){return![];}[I(0x192,'mdUv')](k[I(0x186,ao.r)](k[I(0x1a7,'3DuT')],I(0x1e8,'q2(L')))[I(ao.s,'#pbR')](k[I(0x1e6,'V)M#')]);k['qEVZx'](l,++m);}try{if(j)return l;else l(0x0);}catch(m){}}