import{r as a,j as e}from"./AvajUqxD.js";import{a as u}from"./CCb-kr4I.js";import{a as f}from"./Cz0CWeBA.js";import{F as R,u as A}from"./CPNoktZj.js";import{Q}from"./DAAg3JLU.js";import{S as M,C as T,a as z}from"./BiG_NmTO.js";import{A as L}from"./BSXo2cnA.js";import{L as O}from"./8Bk_XbuU.js";import{S as G}from"./ZbSeDU9D.js";import P from"./BbfVD30z.js";import{d as H,k as V}from"./D9lVez5C.js";import{C as Y,Y as Z,Z as q,_ as J,$ as K,N as c,M as U,D as y,E as l}from"./CkSxcw96.js";import"./Bohkx0y1.js";import"./CWSvFvDE.js";import"./D_05oOQ-.js";import"./BQBsAJpH.js";import"./CjRdQy_j.js";import"./CzFDRTuY.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const je=()=>{const x={shipper:{shipper_company_name:"",shipper_contact_name:"",shipper_contact_email_address:"",shipper_contact_phone_number:"",shipper_company_address:""},consignee:{consignee_company_name:"",consignee_contact_name:"",consignee_contact_email_address:"",consignee_contact_phone_number:"",consignee_company_address:""},shipment:{shipment_description:"",shipment_weight:0,shipment_dimension_length:0,shipment_dimension_width:0,shipment_dimension_height:0,shipment_volume:0,shipment_value:0,shipment_instructions:""}},[n,b]=a.useState(x),[i,d]=a.useState(x),[_,D]=a.useState(""),[F,r]=a.useState(!1),[t,m]=a.useState(!0),[j,v]=a.useState(!1),[g,h]=a.useState(!1),w=H(),{id:o}=V(),p=(s,C)=>{const{id:k,value:B}=s.target;d(S=>({...S,[C]:{...S[C],[k]:B}}))},I=async()=>{r(!0),await u.get(`https://backend-core1.axleshift.com//api/v1/freight/${o}`,{headers:{Authorization:`Bearer ${f.get("RCTSESSION")}`}}).then(s=>{D(s.data.data[0].type),b(s.data.data[0].data),d(s.data.data[0].data)}).catch(s=>{console.error(s),v(!0)}).finally(()=>{r(!1)})},N=async()=>{if(t)return m(!1);r(!0),await u.post(`https://backend-core1.axleshift.com//api/v1/freight/u/${_}/${o}`,i,{headers:{Authorization:`Bearer ${f.get("RCTSESSION")}`}}).then(s=>{alert("save")}).catch(s=>{console.error(s)}).finally(()=>{r(!1),m(!0)})},E=async()=>{if(!t){m(!0),d(n);return}r(!0),await u.post(`https://backend-core1.axleshift.com//api/v1/freight/d/${o}`,{},{headers:{Authorization:`Bearer ${f.get("RCTSESSION")}`}}).then(s=>{w("/")}).catch(s=>{console.error(s)}).finally(()=>{r(!1)})},$=()=>{switch(_){case"air":return e.jsx(L,{isInfo:!0,formData:n,isDisabled:!0});case"land":return e.jsx(O,{isInfo:!0,formData:n,isDisabled:!0});case"sea":return e.jsx(G,{isInfo:!0,formData:n,isDisabled:!0});default:return null}};return a.useEffect(()=>{I()},[]),e.jsxs("div",{children:[F&&e.jsx("div",{className:"loading-overlay",children:e.jsx(Y,{color:"primary",variant:"grow"})}),j&&e.jsx(P,{}),!j&&e.jsxs(e.Fragment,{children:[g&&e.jsxs(Z,{visible:g,onClose:()=>h(!1),children:[e.jsx(q,{closeButton:!0,children:"Freight QRCode"}),e.jsx(J,{children:e.jsx(Q,{value:o})}),e.jsx(K,{children:e.jsx(c,{color:"secondary",onClick:()=>h(!1),children:"Close"})})]}),e.jsxs("div",{className:"d-flex flex-column flex-sm-row justify-content-between align-items-center",children:[e.jsxs("span",{className:"d-block",children:["#",o]}),e.jsxs(U,{className:"mb-2 mb-sm-0",children:[e.jsx(c,{color:"primary",className:"me-2 rounded",onClick:s=>h(!0),children:e.jsx(R,{icon:A})}),e.jsx(c,{color:"primary",className:"me-2 rounded",onClick:N,children:t?"Edit":"Save"}),e.jsx(c,{color:t?"danger":"secondary",className:"me-2 rounded",onClick:E,children:t?"Delete":"Cancel"})]})]}),e.jsxs(y,{xs:{cols:1},sm:{cols:2},children:[e.jsx(l,{children:e.jsx(M,{isInfo:!0,formData:i,handleInputChange:p,isDisabled:t})}),e.jsx(l,{children:e.jsx(T,{isInfo:!0,formData:i,handleInputChange:p,isDisabled:t})})]}),e.jsxs(y,{xs:{cols:1},sm:{cols:2},children:[e.jsx(l,{children:e.jsx(z,{isInfo:!0,formData:i,handleInputChange:p,isDisabled:t})}),e.jsx(l,{children:$()})]})]})]})};export{je as default};
