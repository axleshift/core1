import{R as N,r,j as e}from"./BfF3Wqld.js";import{F as i,y as E,x as b,n as A}from"./CvRhtR9Y.js";import{R}from"./D-NbB0As.js";import{E as I}from"./De0mFXYB.js";import{d as P}from"./DVKfn1E0.js";import{c as F,C as L,I as _,J as T,P as K,Q as q,R as B,K as D,L as h,N as x,M as f,S as G,O as l}from"./DUVR4xq_.js";import"./DnfDba0r.js";import"./BGpjnhzs.js";import"./DvvY1obw.js";import"./6ijCBLRz.js";import"./8JwjhRSi.js";import"./D3kAHpSt.js";import"./BQBsAJpH.js";import"./DLZ1bwg6.js";import"./CzFDRTuY.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const oe=()=>{const g="6LcbAQopAAAAAPqiUSbgE4FWJrHdKfpFIK_s6rU-",n=P(),c=N.useRef(),[d,j]=r.useState(""),[m,C]=r.useState(""),[v,p]=r.useState(!1),[u,y]=r.useState({error:!1,message:""});r.useEffect(()=>{if(cookies.get("RCTSESSION")!==void 0)return n("/")},[]);const k=async s=>{s.preventDefault(),p(!0);const S=await c.current.executeAsync(),a=new FormData;a.append("email",d),a.append("password",m),a.append("recaptcha_ref",S),await axios.post("http://142.93.121.73:5051/api/v1/auth/login",a,{headers:{}}).then(o=>{cookies.set("RCTSESSION",o.data.token,{expires:30});const t=new URLSearchParams(window.location.search),w=t.get("n")?t.get("n"):"/";window.location.href=w}).catch(o=>{console.error(o);const t=I[o.status]||"An unexpected error occurred";y({error:!0,message:t})}).finally(()=>{p(!1)})};return e.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:[e.jsx("div",{className:"auth-bg"}),e.jsxs(F,{children:[v&&e.jsx("div",{className:"loading-overlay",children:e.jsx(L,{color:"primary",variant:"grow"})}),e.jsx(_,{className:"justify-content-center",children:e.jsx(T,{md:8,lg:6,xl:5,children:e.jsxs(K,{className:"p-1 p-md-4",children:[u.error&&e.jsxs(q,{color:"danger",className:"d-flex align-items-center",children:[e.jsx(i,{className:"flex-shrink-0 me-2",icon:E,size:"xl"}),e.jsx("div",{children:u.message})]}),e.jsx(B,{children:e.jsxs(D,{onSubmit:k,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsx(R,{ref:c,size:"invisible",sitekey:g}),e.jsxs(h,{className:"mb-3",children:[e.jsx(x,{children:e.jsx(i,{icon:b})}),e.jsx(f,{type:"email",placeholder:"Email",autoComplete:"email",value:d,onChange:s=>j(s.target.value),required:!0})]}),e.jsxs(h,{className:"mb-4",children:[e.jsx(x,{children:e.jsx(i,{icon:A})}),e.jsx(f,{type:"password",placeholder:"Password",autoComplete:"current-password",value:m,onChange:s=>C(s.target.value),required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(G,{children:[e.jsx(l,{type:"submit",color:"primary",className:"me-2 rounded",children:"Login"}),e.jsx(l,{color:"success",className:"me-2 rounded",onClick:()=>n("/register"),children:"Signup"})]})}),e.jsx(l,{color:"link",className:"px-0 link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",onClick:()=>n("/forgot-password"),children:"Forgot password?"})]})}),e.jsx("div",{className:"ms-auto",children:e.jsx("a",{href:"https://stats.uptimerobot.com/5l58Mua0Wi",target:"_blank",rel:"noopener noreferrer",className:"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",children:"System Status"})})]})})})]})]})};export{oe as default};
