import{r as s,j as a}from"./Oq9P1Wj_.js";import{M as e}from"./Bg0HqDUA.js";import{F as r,O as t,P as i,Q as n,R as l,S as o,T as d,m as c}from"./Bi-OQx1y.js";import{P as m}from"./NdsU5MZw.js";import{a1 as p,a as u,b as h,a2 as x,g as j,h as g,a3 as y,a4 as b,a5 as f,c as C,P as N,a6 as k,Q as P,a7 as v,a8 as R}from"./C7J1C3Pw.js";import{a as w,V as M,b as S}from"./BeOarM6Q.js";import{p as F}from"./B51y9YVM.js";import{E as J}from"./URk2IvX2.js";import{d as T}from"./Ce_fjdqS.js";import"./deeEeel3.js";import"./DoV6T4jL.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./BKB6Vojr.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./BYNIthp4.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";const A=e=>{const n=s.useRef(null),l=s.useRef(null);return s.useEffect((()=>{document.documentElement.addEventListener("ColorSchemeChange",(()=>{n.current&&setTimeout((()=>{n.current.data.datasets[0].pointBackgroundColor=p("--cui-primary"),n.current.update()})),l.current&&setTimeout((()=>{l.current.data.datasets[0].pointBackgroundColor=p("--cui-info"),l.current.update()}))}))}),[n,l]),a.jsxs(u,{className:e.className,xs:{gutter:4},children:[a.jsx(h,{sm:6,xl:4,xxl:3,children:a.jsx(x,{color:"primary",value:a.jsxs(a.Fragment,{children:["26Hrs"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(-12.4% ",a.jsx(r,{icon:t}),")"]})]}),title:"Route Optimization",action:a.jsx(j,{alignment:"end",children:a.jsx(g,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(y,{ref:n,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Hours",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:p("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(h,{sm:6,xl:4,xxl:3,children:a.jsx(x,{color:"info",value:a.jsxs(a.Fragment,{children:["$6.200"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(40.9% ",a.jsx(r,{icon:i}),")"]})]}),title:"Freight Cost",action:a.jsx(j,{alignment:"end",children:a.jsx(g,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(y,{ref:l,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Costs",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:p("--cui-info"),data:[1334,18545,9454,1447,34444,2442,1441]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(h,{sm:6,xl:4,xxl:3,children:a.jsx(x,{color:"warning",value:a.jsxs(a.Fragment,{children:["92%"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",a.jsx(r,{icon:i}),")"]})]}),title:"Performance",action:a.jsx(j,{alignment:"end",children:a.jsx(g,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(y,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Score",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})})]})};A.propTypes={className:m.string,withCharts:m.bool};const B=({currentPage:s,setCurrentPage:e,totalPages:t,setTotalPages:i})=>a.jsxs(b,{align:"center","aria-label":"Page navigation example",children:[a.jsx(f,{onClick:()=>e((s=>Math.max(s-1,1))),disabled:1===s,"aria-label":"Previous",children:a.jsx(r,{"aria-hidden":"true",icon:n})}),(()=>{const r=[],i=Math.max(1,s-2),n=Math.min(t,i+5-1);i>1&&(r.push(a.jsx(f,{onClick:()=>e(1),children:"1"},1)),i>2&&r.push(a.jsx(f,{disabled:!0,children:"…"},"ellipsis-start")));for(let t=i;t<=n;t++)r.push(a.jsx(f,{onClick:()=>e(t),active:s===t,children:t},t));return n<t&&(n<t-1&&r.push(a.jsx(f,{disabled:!0,children:"…"},"ellipsis-end")),r.push(a.jsx(f,{onClick:()=>e(t),children:t},t))),r})(),a.jsx(f,{onClick:()=>e((s=>Math.min(s+1,t))),disabled:s===t,"aria-label":"Next",children:a.jsx(r,{"aria-hidden":"true",icon:l})})]});B.propTypes={currentPage:m.number.isRequired,setCurrentPage:m.func.isRequired,totalPages:m.number.isRequired,setTotalPages:m.func.isRequired};const q=()=>{const[t,i]=s.useState([]),[n,l]=s.useState(1),[m,p]=s.useState(0),[x,j]=s.useState(!0),{addToast:g}=w(),y=T();return s.useEffect((()=>{(async s=>{await axios.post(`${M}/api/v1/freight`,{page:s},{headers:{Authorization:`Bearer ${cookies.get(S)}`}}).then((s=>{i(s.data.data),p(s.data.totalPages)})).catch((s=>{const a=J[s.status]||"Server is offline or restarting please wait";g(a,"Submit failed!")})).finally((()=>j(!1)))})(n)}),[n]),a.jsxs(a.Fragment,{children:[x&&a.jsx("div",{className:"loading-overlay",children:a.jsx(C,{color:"primary",variant:"grow"})}),a.jsx(A,{className:"mb-4"}),!x&&0==t.length&&a.jsx(u,{className:"justify-content-center my-5",children:a.jsx(h,{md:6,children:a.jsxs("div",{className:"clearfix",children:[a.jsx("h1",{className:"float-start display-3 me-4",children:"OOPS"}),a.jsx("h4",{children:"You don't have any shipment yet."}),a.jsx("p",{className:"text-body-secondary float-start text-decoration-underline",onClick:s=>y("/freight"),children:"Wanna add one? Click here."})]})})}),0!==t.length&&a.jsxs(a.Fragment,{children:[a.jsx(e,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((s=>a.jsxs(N,{className:"mb-3",onClick:()=>y(`/v/${s._id}`),style:{cursor:"pointer"},children:[a.jsxs(k,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:["air"==s.type&&a.jsx(r,{icon:o}),"land"==s.type&&a.jsx(r,{icon:d}),"sea"==s.type&&a.jsx(r,{icon:c})]}),a.jsx("div",{children:F(s.created_at)})]}),a.jsx(P,{children:a.jsx(v,{children:s.data.shipment.shipment_description})}),a.jsx(R,{className:"bg-dark text-white border-0 small",children:"Status: on route"})]},s._id)))}),a.jsx(B,{currentPage:n,setCurrentPage:l,totalPages:m,setTotalPages:p,className:"mb-3"})]})]})};export{q as default};
