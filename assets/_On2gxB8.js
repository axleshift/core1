import{r as e,j as t}from"./B29SdWEC.js";import{c as n,o as r,l as o,a as i}from"./BgKg063h.js";import{R as s}from"./BjhGVRpM.js";import{d as u}from"./DoBxDInM.js";import{p as a,h as c,a as l,b as f,e as d,o as p,f as b,d as m,g}from"./C_n0TLp5.js";import{w as E}from"./CrRThSud.js";function v(t){const n=function(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t}),[t]),n}(t);return e.useCallback((function(...e){return n.current&&n.current(...e)}),[n])}function y(){return e.useState(null)}function w(){const t=e.useRef(!0),n=e.useRef((()=>t.current));return e.useEffect((()=>(t.current=!0,()=>{t.current=!1})),[]),n.current}function O(t){const n=w();return[t[0],e.useCallback((e=>{if(n())return t[1](e)}),[n,t[1]])]}function h(t){const n=function(t){const n=e.useRef(t);return n.current=t,n}(t);e.useEffect((()=>()=>n.current()),[])}const j=e=>e&&"function"!=typeof e?t=>{e.current=t}:e;function x(t,n){return e.useMemo((()=>function(e,t){const n=j(e),r=j(t);return e=>{n&&n(e),r&&r(e)}}(t,n)),[t,n])}function k(t){if(!t||"function"==typeof t)return null;const{major:n}=function(){const t=e.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}();return n>=19?t.props.ref:t.ref}function C(){return e.useState(null)}function R(t){const n=function(t){const n=e.useRef(t);return e.useEffect((()=>{n.current=t}),[t]),n}(t);return e.useCallback((function(...e){return n.current&&n.current(...e)}),[n])}const T="undefined"!=typeof global&&global.navigator&&"ReactNative"===global.navigator.product,A="undefined"!=typeof document||T?e.useLayoutEffect:e.useEffect,P=["as","disabled"];function S({tagName:e,disabled:t,href:n,target:r,rel:o,role:i,onClick:s,tabIndex:u=0,type:a}){e||(e=null!=n||null!=r||null!=o?"a":"button");const c={tagName:e};if("button"===e)return[{type:a||"button",disabled:t},c];const l=r=>{(t||"a"===e&&function(e){return!e||"#"===e.trim()}(n))&&r.preventDefault(),t?r.stopPropagation():null==s||s(r)};return"a"===e&&(n||(n="#"),t&&(n=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:t?void 0:u,href:n,target:"a"===e?r:void 0,"aria-disabled":t||void 0,rel:"a"===e?o:void 0,onClick:l,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),l(e))}},c]}e.forwardRef(((e,n)=>{let{as:r,disabled:o}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,P);const[s,{tagName:u}]=S(Object.assign({tagName:r,disabled:o},i));return t.jsx(u,Object.assign({},i,s,{ref:n}))})).displayName="Button";const D=2**31-1;function L(e,t,n){const r=n-Date.now();e.current=r<=D?setTimeout(t,r):setTimeout((()=>L(e,t,n)),D)}function M(){const t=w(),n=e.useRef();return h((()=>clearTimeout(n.current))),e.useMemo((()=>{const e=()=>clearTimeout(n.current);return{set:function(r,o=0){t()&&(e(),o<=D?n.current=setTimeout(r,o):L(n,r,Date.now()+o))},clear:e,handleRef:n}}),[])}function N(t){const n=function(){const t=e.useRef(!0),n=e.useRef((()=>t.current));return e.useEffect((()=>(t.current=!0,()=>{t.current=!1})),[]),n.current}();return[t[0],e.useCallback((e=>{if(n())return t[1](e)}),[n,t[1]])]}const K=a({defaultModifiers:[c,l,f,d,p,b,m,g]}),B=["enabled","placement","strategy","modifiers"];const U={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},I={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const e=(t.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));e.length?t.setAttribute("aria-describedby",e.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:r}=e.elements,o=null==(t=n.getAttribute("role"))?void 0:t.toLowerCase();if(n.id&&"tooltip"===o&&"setAttribute"in r){const e=r.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(n.id))return;r.setAttribute("aria-describedby",e?`${e},${n.id}`:n.id)}}},V=[];const W=()=>{};const $=e=>e&&("current"in e?e.current:e),q={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function H(e={}){return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function z({enabled:e,enableEvents:t,placement:n,flip:r,offset:o,fixed:i,containerPadding:s,arrowElement:u,popperConfig:a={}}){var c,l,f,d;const p=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(a.modifiers);return Object.assign({},a,{placement:n,enabled:e,strategy:i?"fixed":a.strategy,modifiers:H(Object.assign({},p,{eventListeners:{enabled:t,options:null==(c=p.eventListeners)?void 0:c.options},preventOverflow:Object.assign({},p.preventOverflow,{options:Object.assign({padding:s},null==(l=p.preventOverflow)?void 0:l.options)}),offset:{options:Object.assign({offset:o},null==(f=p.offset)?void 0:f.options)},arrow:Object.assign({},p.arrow,{enabled:!!u,options:Object.assign({},null==(d=p.arrow)?void 0:d.options,{element:u})}),flip:Object.assign({enabled:!!r},p.flip)}))})}const F=e.createContext(i?window:void 0);F.Provider;const G="undefined"!=typeof global&&global.navigator&&"ReactNative"===global.navigator.product,J="undefined"!=typeof document||G?e.useLayoutEffect:e.useEffect,Q=e=>e&&"function"!=typeof e?t=>{e.current=t}:e;function X(t,n){return e.useMemo((()=>function(e,t){const n=Q(e),r=Q(t);return e=>{n&&n(e),r&&r(e)}}(t,n)),[t,n])}const Y=(e,t)=>i?null==e?(t||r()).body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Z(t,n){const r=e.useContext(F),[o,i]=e.useState((()=>Y(t,null==r?void 0:r.document)));if(!o){const e=Y(t);e&&i(e)}return e.useEffect((()=>{}),[n,o]),e.useEffect((()=>{const e=Y(t);e!==o&&i(e)}),[t,o]),o}function _({children:t,in:n,onExited:r,mountOnEnter:o,unmountOnExit:i}){const s=e.useRef(null),u=e.useRef(n),a=R(r);e.useEffect((()=>{n?u.current=!0:a(s.current)}),[n,a]);const c=X(s,k(t)),l=e.cloneElement(t,{ref:c});return n?l:i||!u.current&&o?null:l}const ee=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const te=["component"];const ne=e.forwardRef(((n,r)=>{let{component:o}=n;const i=function(t){let{onEnter:n,onEntering:r,onEntered:o,onExit:i,onExiting:s,onExited:u,addEndListener:a,children:c}=t,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,ee);const f=e.useRef(null),d=X(f,k(c)),p=e=>t=>{e&&f.current&&e(f.current,t)},b=e.useCallback(p(n),[n]),m=e.useCallback(p(r),[r]),g=e.useCallback(p(o),[o]),E=e.useCallback(p(i),[i]),v=e.useCallback(p(s),[s]),y=e.useCallback(p(u),[u]),w=e.useCallback(p(a),[a]);return Object.assign({},l,{nodeRef:f},n&&{onEnter:b},r&&{onEntering:m},o&&{onEntered:g},i&&{onExit:E},s&&{onExiting:v},u&&{onExited:y},a&&{addEndListener:w},{children:"function"==typeof c?(e,t)=>c(e,Object.assign({},t,{ref:d})):e.cloneElement(c,{ref:d})})}(function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(n,te));return t.jsx(o,Object.assign({ref:r},i))}));function re({children:t,in:n,onExited:r,onEntered:o,transition:i}){const[s,u]=e.useState(!n);n&&s&&u(!1);const a=function({in:t,onTransition:n}){const r=e.useRef(null),o=e.useRef(!0),i=R(n);return A((()=>{if(!r.current)return;let e=!1;return i({in:t,element:r.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[t,i]),A((()=>(o.current=!1,()=>{o.current=!0})),[]),r}({in:!!n,onTransition:e=>{Promise.resolve(i(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(u(!0),null==r||r(e.element)))}),(t=>{throw e.in||u(!0),t}))}}),c=X(a,k(t));return s&&!n?null:e.cloneElement(t,{ref:c})}const oe=()=>{};function ie(t,i,{disabled:s,clickTrigger:u}={}){const a=i||oe;!function(t,i=W,{disabled:s,clickTrigger:u="click"}={}){const a=e.useRef(!1),c=e.useRef(!1),l=e.useCallback((e=>{const r=$(t);var o;E(!!r,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!r||!!((o=e).metaKey||o.altKey||o.ctrlKey||o.shiftKey)||!function(e){return 0===e.button}(e)||!!n(r,e.target)||c.current,c.current=!1}),[t]),f=R((e=>{const r=$(t);r&&n(r,e.target)?c.current=!0:c.current=!1})),d=R((e=>{a.current||i(e)}));e.useEffect((()=>{var e,n;if(s||null==t)return;const i=r($(t)),a=i.defaultView||window;let c=null!=(e=a.event)?e:null==(n=a.parent)?void 0:n.event,p=null;q[u]&&(p=o(i,q[u],f,!0));const b=o(i,u,l,!0),m=o(i,u,(e=>{e!==c?d(e):c=void 0}));let g=[];return"ontouchstart"in i.documentElement&&(g=[].slice.call(i.body.children).map((e=>o(e,"mousemove",W)))),()=>{null==p||p(),b(),m(),g.forEach((e=>e()))}}),[t,s,u,l,f,d])}(t,a,{disabled:s,clickTrigger:u});const c=R((e=>{(function(e){return"Escape"===e.code||27===e.keyCode})(e)&&a(e)}));e.useEffect((()=>{if(s||null==t)return;const e=r($(t));let n=(e.defaultView||window).event;const i=o(e,"keyup",(e=>{e!==n?c(e):n=void 0}));return()=>{i()}}),[t,s,c])}const se=e.forwardRef(((n,r)=>{const{flip:o,offset:i,placement:a,containerPadding:c,popperConfig:l={},transition:f,runTransition:d}=n,[p,b]=C(),[m,g]=C(),E=X(b,r),v=Z(n.container),y=Z(n.target),[w,O]=e.useState(!n.show),h=function(t,n,r={}){let{enabled:o=!0,placement:i="bottom",strategy:s="absolute",modifiers:a=V}=r,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(r,B);const l=e.useRef(a),f=e.useRef(),d=e.useCallback((()=>{var e;null==(e=f.current)||e.update()}),[]),p=e.useCallback((()=>{var e;null==(e=f.current)||e.forceUpdate()}),[]),[b,m]=N(e.useState({placement:i,update:d,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),g=e.useMemo((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:e})=>{const t={},n={};Object.keys(e.elements).forEach((r=>{t[r]=e.styles[r],n[r]=e.attributes[r]})),m({state:e,styles:t,attributes:n,update:d,forceUpdate:p,placement:e.placement})}})),[d,p,m]),E=e.useMemo((()=>(u(l.current,a)||(l.current=a),l.current)),[a]);return e.useEffect((()=>{f.current&&o&&f.current.setOptions({placement:i,strategy:s,modifiers:[...E,g,U]})}),[s,i,g,o,E]),e.useEffect((()=>{if(o&&null!=t&&null!=n)return f.current=K(t,n,Object.assign({},c,{placement:i,strategy:s,modifiers:[...E,I,g]})),()=>{null!=f.current&&(f.current.destroy(),f.current=void 0,m((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[o,t,n]),b}(y,p,z({placement:a,enableEvents:!!n.show,containerPadding:c||5,flip:o,offset:i,arrowElement:m,popperConfig:l}));n.show&&w&&O(!1);const j=n.show||!w;if(ie(p,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!j)return null;const{onExit:x,onExiting:k,onEnter:R,onEntering:T,onEntered:A}=n;let P=n.children(Object.assign({},h.attributes.popper,{style:h.styles.popper,ref:E}),{popper:h,placement:a,show:!!n.show,arrowProps:Object.assign({},h.attributes.arrow,{style:h.styles.arrow,ref:g})});return P=function(e,n,r){return e?t.jsx(ne,Object.assign({},r,{component:e})):n?t.jsx(re,Object.assign({},r,{transition:n})):t.jsx(_,Object.assign({},r))}(f,d,{in:!!n.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:P,onExit:x,onExiting:k,onExited:(...e)=>{O(!0),n.onExited&&n.onExited(...e)},onEnter:R,onEntering:T,onEntered:A}),v?s.createPortal(P,v):null}));se.displayName="Overlay";export{se as O,S as a,v as b,J as c,M as d,O as e,y as f,k as g,x as u};
