import{r as t,j as s}from"./BfF3Wqld.js";import{L as x,G as h,M as j}from"./ghI65nws.js";import"./CvRhtR9Y.js";import f from"./Q72we0g8.js";import{k as g}from"./DVKfn1E0.js";import{C as u,I as v,J as c,P as C,a7 as S}from"./DUVR4xq_.js";import"./DnfDba0r.js";import"./DLZ1bwg6.js";import"./CzFDRTuY.js";import"./BGpjnhzs.js";import"./D3kAHpSt.js";import"./BQBsAJpH.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const L=()=>{const[m,i]=t.useState(!1),[o,l]=t.useState(!1),[a,d]=t.useState({events:[],origin:"",destination:"",status:"",markerPositions:[]}),{id:n}=g(),p=async()=>{i(!0),await axios.get(`https://backend-core1.axleshift.com//api/v1/track/${n}`,{headers:{Authorization:`Bearer ${cookies.get("RCTSESSION")}`}}).then(e=>{d(e.data)}).catch(e=>{console.error(e),l(!0)}).finally(()=>{i(!1)})};return t.useEffect(()=>{p()},[]),s.jsxs("div",{children:[m&&s.jsx("div",{className:"loading-overlay",children:s.jsx(u,{color:"primary",variant:"grow"})}),o&&s.jsx(f,{}),!o&&s.jsx(s.Fragment,{children:s.jsxs(v,{xs:{cols:1},sm:{cols:2},children:[s.jsx(c,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs(C,{className:"mb-3 bg-dark text-white p-3",children:[s.jsxs(S,{children:[" #",n]}),"Origin: ",a.origin," | Destination:"," ",a.destination," | Status: ",a.status]}),s.jsx(x,{googleMapsApiKey:"AIzaSyDO6b960d3VaEfHhIa7Mvq7_80b7ZxUmTA",children:s.jsx(h,{mapContainerStyle:{height:"400px",width:"100%"},center:a.markerPositions[0],zoom:10,children:a.markerPositions.map((e,r)=>s.jsx(j,{position:e},r))})})]})}),s.jsx(c,{children:s.jsx("div",{className:"timeline",children:a.events.map((e,r)=>s.jsxs("div",{className:"timeline-event",children:[s.jsx("div",{className:"timeline-date",children:e.date}),s.jsx("div",{className:"timeline-content",children:s.jsx("p",{children:e.description})})]},r))})})]})})]})};export{L as default};
