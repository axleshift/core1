const B=f;(function(k,l){const F={k:'NBnd',l:'9$MN',m:'NBnd',n:0x132,o:0x118,p:0x140,q:'jsz0',r:']L!^',s:'%kH8',t:0x114,G:'vQWK'},u=f,m=k();while(!![]){try{const n=-parseInt(u(0x116,F.k))/0x1*(-parseInt(u(0x14d,F.l))/0x2)+-parseInt(u(0x11c,F.m))/0x3+parseInt(u(F.n,'0]eR'))/0x4*(parseInt(u(F.o,'JI^J'))/0x5)+-parseInt(u(F.p,F.q))/0x6+-parseInt(u(0x139,F.r))/0x7+parseInt(u(0x158,F.s))/0x8+parseInt(u(F.t,F.G))/0x9;if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0x50c96));const d=(function(){let k=!![];return function(l,m){const n=k?function(){const v=f;if(m){const o=m[v(0x103,'%2A3')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const P={k:0x105,l:'zXUZ',m:'&6kD'},O={k:']L!^',l:0x109,m:0x12a,n:'q#GL',o:'&Iiq',p:0xf6,q:'MxaE'},w=f,k={'XAuIf':function(l,m){return l(m);},'Pvnau':w(P.k,P.l),'wUvDl':function(l,m){return l+m;},'HRZkT':w(0x125,P.m),'cCKmq':w(0xf5,'A5%q'),'AlQsO':function(l,m){return l(m);},'EqIrL':function(l,m,n){return l(m,n);}};k['EqIrL'](d,this,function(){const x=w,l=new RegExp(x(0x147,O.k)),m=new RegExp(x(0xfd,'x[fL'),'i'),n=k[x(O.l,'q#GL')](c,k[x(O.m,'MxaE')]);!l[x(0x159,O.n)](k[x(0x14e,O.o)](n,k[x(O.p,'y[nm')]))||!m[x(0xeb,'MxaE')](k[x(0x11b,'W!1G')](n,k['cCKmq']))?k[x(0x10b,O.q)](n,'0'):c();})();}());const b=(function(){let k=!![];return function(l,m){const Q={k:0x113,l:'&Iiq'},n=k?function(){const y=f;if(m){const o=m[y(Q.k,Q.l)](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),a=b(this,function(){const X={k:0x13d,l:0xf4,m:'0]eR',n:0x155,o:'DI(t',p:'%kH8',q:0x120,r:0x10e,s:0x110,t:0x153,Y:0x10f,Z:0x117,a0:0x115,a1:'Om@P',a2:'x[fL',a3:0x12f,a4:'yVJi',a5:0x10d,a6:0x107,a7:0x145,a8:0x131,a9:'JI^J',aa:0x11f},z=f,k={'WCZoJ':function(o,p){return o+p;},'akKVS':z(X.k,'zXUZ'),'gfeTC':function(o){return o();},'OgkVo':'log','PvfgZ':z(0x130,']Q(p'),'VWZJJ':z(X.l,'PD)3'),'nwOeN':z(0x104,X.m),'ddnWA':function(o,p){return o<p;}};let l;try{const o=Function(k['WCZoJ'](k[z(X.n,X.o)](z(0xff,'36IQ'),k[z(0x13c,X.p)]),');'));l=k['gfeTC'](o);}catch(p){l=window;}const m=l['console']=l[z(X.q,'r3at')]||{},n=[k[z(X.r,'0x((')],k[z(0x11e,'wcr#')],z(X.s,'pK4w'),k[z(X.t,'jxO1')],z(X.Y,'(NO['),k[z(X.Z,']L!^')],z(X.a0,X.a1)];for(let q=0x0;k[z(0x150,X.a2)](q,n[z(X.a3,X.a4)]);q++){const r=b[z(X.a5,'zXUZ')][z(X.a6,'q#GL')][z(X.a7,'sSe%')](b),s=n[q],t=m[s]||r;r[z(0x124,'Om@P')]=b[z(0x11f,'wcr#')](b),r[z(X.a8,X.a9)]=t['toString'][z(X.aa,'wcr#')](t),m[s]=r;}});a(),(function(){const a1={k:'PD)3',l:'gy^Q',m:0x151,n:'caq4',o:0x156,p:'x[fL'},A=f,k={'NgsGf':function(m,n){return m(n);},'rdCeM':function(m,n){return m+n;},'BbcMr':A(0xfe,a1.k),'wVXhY':A(0x142,a1.l),'QEpeE':function(m){return m();}};let l;try{const m=k[A(a1.m,'Gk^&')](Function,k[A(0x137,a1.n)](k[A(a1.o,a1.p)]+k['wVXhY'],');'));l=k['QEpeE'](m);}catch(n){l=window;}l[A(0x127,'[qXj')](c,0x9c4);}());import g from'dotenv';g[B(0x12e,'MxaE')]();import h from'fs';function e(){const ae=['dComi8oAxmozW6e','ieK8WPjTW5qgW4y','WRpdVCoAWOK','DgnWWPy','WQFcKdJdTW','W50qWPWLpa','W4WgWROHbwvFW5xcS8o9w2bhW6aSma','W6TdE8kQlCkJBgNcQmk1d3JdSa','WRpcMsZdTq0/','E8o7iJu','WOC5rCkTWPO','WR/dI8oYFYpcUSklW6mfaspcSSoCW65iW4bzW7pcJmodW7FdOCkeWOxdI8kDW5pcTmkAjSoNW7m','W4CjWQlcM8o5bmkL','iuldUmkojCodxWBdI8ozWPdcKmkQW57cGb7cHcNdMSon','W40JW7JdGvXexduMu8o0WOSE','W5yiWPu','kffHWOjRW5uBW4eacctdOLFcUwn3mWpcRgCEWOrAW7anW7Ddf8kMqGlcRa','W7ZcOsxdNCoRjSkO','WRJdVCoPx8ks','WQFcLmoLoW','jvtdOCk/p8okWPn+WPBcOmopD8kG','WRWbj8o4BmoZn1BdH8o4pGdcUCkJtuO','W4hcPmkZfSosoGf/WQqyiv/cQa','WRNdVmojWOJdHhxdUq','B8o/mJmo','W6ldPCoTW5xcJW','WOFcNJRdTCoId8kyqmoyWQxdIK/cK8o/qhWjzLdcQrNdQNVdVdNcR1GDzmotW75T','W7pdNmkqW5r+F3BdKW','W4qZWPxcRCoN','WOvvWPpdMd3cRLiLw8kj','bvhdRgFcTW','i8olsZxdGa','WO7dSSkVEbO','WOtcTCkiW5bK','gga1','t8owWPXbqa','i1FdOx3cHa','WPTfW6HYrtaLW5ZcVmoexwjg','W5DLn8opW7/dG8kahmkSW7dcR8k0eq','CLvwoW','W4tcPCk0eSknDxfzWQKV','WQ05FW','oLSlBSoEWRxdTSk5','vSknoN8','W4tcPmkXfmoEnLTHWPmgix4','W5mTa0m','WRSJAcX7z8kFWQnRWRlcNW','cvZdU8khlG','WQZcHmk/W7TUEeNdOW','CCo7WRvlEf3cIwlcLsyGDc4','s8kgkMFcNmovbCk+','W5H8nCkTfq','W6hdNSoVW67cIG','W5j6a8k/na','W7G6j8oiDG','fvRdG0lcHgRdPW','W5ddRCo4W4xcOG','WPNdVCoIs8ksz1bD','W6iskmoVtW','FN9ZWPJcGtrJo2pcGSkWWO9jnNeU','CCobcve','pr7dNHVdLIhcTGpcJIJdOutcTwVdQIixWRXdWQnWW6GvW6JdMSoHorFcMWeVW4ekBW','W7BdICoPW7tcISoWcCkJvsFdVSoEWPvrx1pcVhdcSq','WQmspSoWW6hcMmkHd8kqW7RdVmkLWPRdVSkfW4zbeSk4','zujalMmPW5RcRSoYWPG1WRHZWOHAW6q','W5/dPSoYqSkvCbTeWPGqiG','W5G8aufh','WQxcGstdT8o+','qCo9mmoWvq','WQ3dMmk1Aa','FmokceHOiCkGoG','DKjko3G4W6dcSCo7','hgGlWQDC','xNfqbNe','mf4QWObWW54RW5OEesldTuZcOIq7','y8keghJcPG','WOT6WR7cKWWagq','WQFdMCkYBZJcPSknW7qdgZi','FgBdQ8kPaG','WPxdQ8oIqSkxD1XbWOu','CIO8iq','WPZcHmoimLG','WPCjpglcN3JcVsukWPNdUCkJW6O','W5iwWPpcHCoY','ACkAh3ddRHXvW4RcMMWka2e','WOCSg8oiaW','WRCbtIhcJthcO8oGW4ZdSq','WRqdbSo+vG','k8kPChnsemovASkrkf3cVa','ECoFc8o7wW','xLNdGSkEpq','yw1arXy','WReptItdLxdcKmoMW6tdPdH7','W4VcJCo+WRtdSG','W77cT8oqWQxdNG','W4ZcQmoyWQy','l8k8ENJdKZW3','WQfpWRpdQa','WQ3cMspdTJ8+FmoXW5bWWQT5','WQhcVrZdRCoX','WQWbcSozcCk0A25v','fmoCWPrewG','lCokwZhcRumEW4G','BMHIWRdcMYvfjNNcJ8k5','vCoDWO1pqa','u8oUn8o1v8o7W5e','CSkEj2RcNa','W5CpWPhcH8oQcmk5','E8oNWQnpFKZcR2NcUIuWEs7dM1j1','WRubn1FcGItcVCou','qCkhj23cGmow','rCo3aCkadNm','WQnAWQFcVG','A8oXeZqztmovqG'];e=function(){return ae;};return e();}import{MongoClient}from'mongodb';import i from'../components/logger.js';import j from'../components/password.js';const data=JSON[B(0x14a,'JI^J')](h[B(0x122,'Diy@')](import.meta[B(0x12b,'&Iiq')]+B(0x101,'(NO['),B(0x121,']Q(p')))['docs'];let dbInstance=null;const db=async()=>{const a3={k:0x14c,l:0x129,m:'0]eR',n:0x133,o:'gy^Q',p:0x154,q:0x15b,r:0x135,s:0x141,t:0x15c,a4:'I2wH',a5:0xf0,a6:'9$MN',a7:'sSe%',a8:0xf2,a9:0x128,aa:0x138,ab:0x106,ac:'wq86',ad:0x100,ae:'q#GL',af:0xf9,ag:'wcr#',ah:0x123,ai:0x102,aj:'CPZp',ak:'DI(t',al:0x13a,am:'Diy@',an:0x126,ao:0x144,ap:'(NO[',aq:'o)0]',ar:'19hr',as:0xf1},C=B,k={'fIpTw':C(a3.k,'%2A3'),'YyCmf':'users','MHKaJ':C(a3.l,a3.m),'SSufa':C(a3.n,a3.o),'eLHvv':C(0x10c,'jsz0'),'lvgpC':C(a3.p,'I2wH'),'Hnhxu':function(s,t){return s(t);}};if(dbInstance)return dbInstance;const l=new MongoClient(process[C(a3.q,'hmmN')]['MONGO_URL']);await l['connect'](),i[C(a3.r,'[qXj')](k[C(0x14b,'PD)3')]),dbInstance=l['db'](process[C(a3.s,'&Iiq')][C(a3.t,a3.a4)]);const m=await dbInstance['listCollections']()[C(0x13e,'&Iiq')](),n=m['map'](s=>s['name']);if(!n[C(a3.a5,a3.a6)](k['YyCmf']))await dbInstance[C(0xfb,'[qXj')](k[C(0x111,a3.a7)]);if(!n[C(a3.a8,'MxaE')](k[C(a3.a9,'DI(t')]))await dbInstance[C(a3.aa,'caq4')]('freight');if(!n[C(a3.ab,a3.ac)](k['SSufa']))await dbInstance[C(a3.ad,a3.ae)](k['SSufa']);if(!n[C(a3.af,'(NO[')](k[C(0x11d,a3.ag)]))await dbInstance[C(0x10a,'gy^Q')](k[C(a3.ah,'%2A3')]);if(!n['includes'](k[C(a3.ai,a3.aj)]))await dbInstance[C(0x12c,a3.ak)]('otp');const o=dbInstance['collection'](k['YyCmf']);let p=await o['find']({}),q=await p[C(0xf7,'x[fL')]();if(q[C(a3.al,a3.am)]!=0x0)return dbInstance;for(const s of data){s[C(a3.an,'vQWK')]=k[C(a3.ao,a3.ap)](j,s['password']);}const r=await o[C(0x14f,'%OME')](data);return i[C(0x134,a3.aq)](C(0x13f,a3.ar)+r[C(a3.as,'DI(t')]),dbInstance;};function f(a,b){const c=e();return f=function(d,g){d=d-0xeb;let h=c[d];if(f['dNMCza']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['urSWTv']=m,a=arguments,f['dNMCza']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['yWpvoa']===undefined&&(f['yWpvoa']=!![]),h=f['urSWTv'](h,g),a[k]=h):h=l,h;},f(a,b);}export default db;function c(k){const ad={k:0x149,l:'JI^J'},ac={k:'19hr',l:0x11a,m:'0x((',n:'gy^Q',o:'%2A3',p:'wq86',q:0xf3},D=B,l={'JDsdV':D(ad.k,'o)0]'),'uVzra':function(n,o){return n!==o;},'FVWGS':function(n,o){return n+o;},'mXBaP':function(n,o){return n/o;},'PkoTl':'length','TAeDZ':function(n,o){return n%o;},'LCYgk':D(0x13b,ad.l),'ODDFX':'gger','chFgU':D(0xee,'hmmN'),'RzULm':function(n,o){return n(o);}};function m(n){const E=D;if(typeof n==='string')return function(o){}['constructor']('while\x20(true)\x20{}')[E(0xef,ac.k)](l[E(0x152,'zXUZ')]);else l['uVzra'](l['FVWGS']('',l[E(ac.l,ac.m)](n,n))[l['PkoTl']],0x1)||l[E(0xf8,'PD)3')](n,0x14)===0x0?function(){return!![];}['constructor'](l[E(0x119,'0]eR')]+l[E(0x108,ac.n)])[E(0x136,ac.o)]('action'):function(){return![];}['constructor'](E(0xfc,ac.p)+E(0xed,'CPZp'))['apply'](l[E(ac.q,'A5%q')]);l[E(0xfa,'y[nm')](m,++n);}try{if(k)return m;else m(0x0);}catch(n){}}