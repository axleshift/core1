const z=f;function e(){const au=['mMddQCoK','g8oxW79x','W6/cUCokWQG0wN58','as1CW7tdU8kmWRurWRrgW5tcN0C','E35sWQlcMZGqxZS','F2jjWQFcKh9rttapoGVdO8ojsW','W77cG8kyCcG+','W7i5aLNcMa','W5FdQxjSWRm','q3CBW6OCsSkebmovWPNdTW','WPHgW5VdUq','i3v4fCk5','W77cKmkCDsC','W6VcJ8k+Cbi','WQ7dLCkLuty+EtC','c8kLW7G2WQq','kwpcSCkLCSkoua','whyfW7Ke','WRRdRmonCmo0','ihVdQmoMW64aFW','z0f5EJxcSqFcKHunW7GytCkij1ZcPLi','aI1qW7VdVmkbW6uGWP90W5ZcSW','csTyWPvcbSorj8oTWPtdJJRcVa','W7NdRrzaBW','W7z4FHK','W7JcUCoSWRiYvMi','W7PMoYFdKq','W6WXdG','agX2ra','W4fCWPWK','oLRdRSoyW74','W73cICkcFq','afPRW6RdUxz1WQWUiW','hhjtBa','wSoDWP/cJSkMWOexyubreW','ACogWQhcSSk7','W7BdHaLoAq','ovuOW6CM','gZNdOmkHdW','rSkmWPGVWO4','WQPftq','WOJcOmoxjG','WQBcNCo6kCkt','EdZdQSo2d8ovbmkOWPSRtd5K','WOFcOSoDk8k5','WQFcJgBdNg3cICkgW5GNW6VdMuFcMbGxW5xcMx7dQW','W7ZcImknCda','W74Lgui','FfHzWQdcOG','W6THWP0tW48','WQ/dTSoSCmoTq8oEsfSZWRu','W7OQy8o+W7TGW4S+WQntBSk6','DK8KWRBcRexdHq','W4hdV11PWPD8m3VcRSkZvCk7','WO/dGSkWcCoOxSkt','W6zXWOKeW5y','hK4OW7C2','qgaaW5CDsSkybSog','sMe+W40Q','k1iQW6OZ','WPpdSCkOf8oo','tCkpWR0UWPa6kG','WRmVoLWNDZu7b8oFvG','WRLKa1pcMqm7W5hdHgO','v0TMztNcVr3cIfOr','W7v7WO9hW7BcSSo3W7u6xgrgDYhdOSkUhmkEWPmUW6X4WPpcUa','evmXWRdcThRdQ8ogaW','WPZdKCkZaW','W6CUpuxcSa','W7WUcuu','iLrinSki','W4ddG8ozCCkAWQO9','WQBcNCkZz3/cUG','DJXXW7FdRd7cTCoUfSkhuCoWWOS','xXXYtSkx','WPrfW5ZdVWW','fKfQW6O','tbbctSkw','WRddI8o4WP9r','W4/cU8knamoUW7WXWOZcU2yqkW','WRbjW7VdKqu','W6uUbepcMb5YWPBdJgXvWOpcNbDsWOG1i1e','W4VcG8oNwSk2a8ootchdS39Tga','hhz2eW','iCo9W4HMWOpdTYfT','W6lcTSoXzSoQqSocreeVW6GfWPyqqCoflSo7tNlcSSo3b8o4','WRpcQbuAW4a','WRdcHhpdGhm','W6HSW6NcL8o1WRZcPHzcCG','nLPNW6CSD0/cTh5SyvtcPZKcW4aAu8kgEZ/cNwpdISkKW4ddUmkLAbTcWQ4','WOvjW5/dUGu','W57dUSkbD8o8bmkEW4BcMvjHBSo0','W7KGiexcHa','W7zYxHLGzZC4','WQpcJbm5','WOVdP8kzcmoM','WRTzW6hcPSonWQVcUW','W6tdNshcN0NcICoNWP45W4y','fJxdICkcnW','W47dPtO','EvPmWQlcGa','t8kqWQmXWOy','zKddJgDX','ub5x','WQ/dOmkGW6rZc3fHm8kwD8ou','FmkmWRJdJCoAWPpcJ1/dGmoN','bcFdTSkHoG','WPxdTmoTwSoq','W73cQ8k1mSkSsmoht0m/WQ4','fN5tB8k0ma','fuvLW6FdOa','b0L2W6a','WRKoWRldUYm','l3WXWQ7cOG','kmovW6RcKSoG','WOVdMvL5WQzEhG'];e=function(){return au;};return e();}(function(j,k){const J={j:0x103,k:'Pmom',l:'))18',m:'5!pN',n:0xc5,o:'WWow',p:'a)$&',q:'a58k',r:0xe6,K:'l$P*',L:0xa5,M:'fknP'},s=f,l=j();while(!![]){try{const m=-parseInt(s(J.j,J.k))/0x1+parseInt(s(0xc4,J.l))/0x2*(parseInt(s(0xde,J.m))/0x3)+-parseInt(s(J.n,'2FRx'))/0x4*(parseInt(s(0xc8,'wIPR'))/0x5)+-parseInt(s(0xbc,J.o))/0x6*(-parseInt(s(0xd3,'sTC2'))/0x7)+-parseInt(s(0xcf,J.p))/0x8*(-parseInt(s(0xb7,J.q))/0x9)+-parseInt(s(J.r,J.K))/0xa+parseInt(s(J.L,J.M))/0xb;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x96ce8));const d=(function(){let j=!![];return function(k,l){const K={j:'5!pN'},m=j?function(){const t=f;if(l){const n=l[t(0xdc,K.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const V={j:0xff,k:0xfe,l:'5!pN',m:'V6v@'},U={j:0xaa,k:'mIOO',l:0xea,m:'vNN]',n:0xe8,o:'a58k',p:0x94},u=f,j={'CSgXd':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','EDtCd':function(k,l){return k(l);},'RQDXv':u(V.j,'ZSbl'),'RRkRK':function(k,l){return k+l;},'toRiL':u(V.k,V.l),'LTCkX':function(k,l){return k+l;},'tDOTT':u(0xdf,'*MP#'),'Siasu':function(k,l){return k(l);},'dsNab':function(k){return k();},'cmBsd':function(k,l,m){return k(l,m);}};j[u(0xa6,V.m)](d,this,function(){const v=u,k=new RegExp('function\x20*\x5c(\x20*\x5c)'),l=new RegExp(j[v(0x101,'o@Ig')],'i'),m=j['EDtCd'](c,j[v(U.j,'w99S')]);!k[v(0xd1,U.k)](j[v(U.l,U.m)](m,j[v(0xdd,'5!pN')]))||!l[v(U.n,'iZQU')](j[v(0xfa,U.o)](m,j['tDOTT']))?j[v(U.p,'P3Vj')](m,'0'):j[v(0xd8,'a)$&')](c);})();}());const b=(function(){let j=!![];return function(k,l){const W={j:'fknP'},m=j?function(){const w=f;if(l){const n=l[w(0xcd,W.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a5={j:0xad,k:'ZSbl',l:0xc3,m:0xcb,n:0xaf,o:'UlSZ',p:0xd7,q:0xf3,r:0x99,a6:'I6uM',a7:0xc6,a8:'EbCC',a9:'wIPR',aa:'P3Vj',ab:'l$P*',ac:'!^Xo',ad:0xf2,ae:'pgs5',af:'fknP',ag:'a58k',ah:0xb9,ai:0xd0},a4={j:0xe7,k:'wIPR'},x=f,j={'okLoS':function(o,p){return o(p);},'haHJT':function(o,p){return o+p;},'vuOsm':x(a5.j,a5.k),'WuKlH':'{}.constructor(\x22return\x20this\x22)(\x20)','PtPOi':function(o){return o();},'HpACh':x(a5.l,'V6v@'),'zswiY':x(a5.m,'OvxW'),'hsUAz':x(a5.n,a5.o),'YmoYI':x(a5.p,a5.k),'vWiWo':x(0xb6,'wfNF'),'hdjZv':function(o,p){return o<p;}},k=function(){const y=x;let o;try{o=j['okLoS'](Function,j[y(0xbe,'EbCC')](j[y(a4.j,'CJYX')](j[y(0xe2,a4.k)],j['WuKlH']),');'))();}catch(p){o=window;}return o;},l=j[x(a5.q,'pgs5')](k),m=l['console']=l[x(a5.r,a5.a6)]||{},n=[j['HpACh'],j[x(a5.a7,a5.a8)],j['hsUAz'],j[x(0xc7,a5.a9)],'exception',j['vWiWo'],x(0xf5,a5.aa)];for(let o=0x0;j[x(0xe1,a5.ab)](o,n[x(0xc9,a5.ac)]);o++){const p=b[x(a5.ad,a5.ae)][x(0x95,'l$P*')][x(0xef,'5!pN')](b),q=n[o],r=m[q]||p;p[x(0x9e,a5.af)]=b[x(0xf9,a5.ag)](b),p[x(a5.ah,'iZQU')]=r[x(0xd2,'))18')][x(a5.ai,'T#G3')](r),m[q]=p;}});function f(a,b){const c=e();return f=function(d,g){d=d-0x91;let h=c[d];if(f['CroWsb']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['KNDVtO']=m,a=arguments,f['CroWsb']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['LbBddz']===undefined&&(f['LbBddz']=!![]),h=f['KNDVtO'](h,g),a[k]=h):h=l,h;},f(a,b);}a();import g from'fs';import h from'../models/db.js';import i from'../src/logger.js';let sessions={};g[z(0xfc,'a58k')](z(0x9b,'ZSbl'),{'recursive':!![]},j=>{if(j)throw j;});if(g[z(0xb4,'WWow')]('./sessions/sessions.json')){const sessionFile=g[z(0x91,'a)$&')](z(0xb1,'wIPR'),z(0xec,'UlSZ'));sessionFile&&(sessions=JSON[z(0xa9,'V6v@')](sessionFile),i[z(0xda,'wfNF')](z(0xe4,'zTq2')));}export const addUserProfileToSession=j=>{const a7={j:'OvxW',k:0xf6,l:0xb3,m:'hNXa',n:0x92,o:'[*1('},A=z;if(!sessions[j[A(0xca,a7.j)]])sessions[j['email']]={};if(!sessions[j[A(a7.k,'EbCC')]][A(0xe3,'T#G3')])sessions[j[A(a7.l,a7.m)]][A(a7.n,a7.o)]=j;};export const addSession=(j,k,l,m)=>{const aa={j:0xf0,k:'OvxW',l:0x9d,m:'nnGu',n:0xa7,o:0xce,p:0xc0,q:'FTeP',r:'ii$l',ab:0xb8,ac:'ZSbl'},a9={j:0xed},B=z,n={'gHWDR':'Sessions\x20save','qPliu':function(o,p){return o!==p;},'eAgUk':B(aa.j,aa.k),'nkPsn':B(aa.l,aa.m)};if(!sessions[j[B(0xca,aa.k)]])sessions[j[B(aa.n,'wfNF')]]={};sessions[j[B(aa.o,'2FRx')]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[B(0xeb,'7m#z')]()},n[B(aa.p,aa.q)](process[B(0xf8,aa.r)][B(0xb0,'mIOO')],n['eAgUk'])&&g['writeFileSync'](n[B(aa.ab,aa.ac)],JSON[B(0xd4,'FTeP')](sessions),o=>{const C=B;if(o)throw o;i[C(a9.j,'o@Ig')](n[C(0xf4,'CJYX')]);});};export const getEmailAddress=j=>{const ab={j:0xa1,k:'ZSbl'},D=z;return Object[D(ab.j,ab.k)](sessions)[D(0xa8,'OvxW')](k=>sessions[k][j]);};export const getUserId=async j=>{const ae={j:'I6uM',k:0x98,l:'[*1(',m:0x9c,n:0xe0,o:0xbf,p:'CJYX'},E=z,k={'hlKrq':function(p,q){return p(q);},'lAwxO':function(p){return p();}},l=k[E(0xf7,ae.j)](getEmailAddress,j),m=await k[E(ae.k,ae.l)](h),n=m[E(ae.m,'zTq2')]('users'),o=await n[E(ae.n,'Yl&x')]({'email':l});return o[E(ae.o,ae.p)];};export const removeSession=j=>{const af={j:'!^Xo',k:0xd6},F=z,k=Object['keys'](sessions)[F(0xf1,af.j)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[F(af.k,'5!pN')]=![]);}};export default sessions;(function(){const aj={j:0x97,k:'P3Vj',l:0xfd,m:'[*1(',n:0xd9},G=z,j={'EPGxx':function(l,m){return l+m;},'fucnp':function(l,m){return l+m;},'tWFgg':G(0xb5,'P3Vj'),'YYzzx':function(l){return l();}};let k;try{const l=Function(j[G(0x93,'rmBm')](j[G(aj.j,aj.k)](G(aj.l,'hNXa'),j[G(0xbb,aj.m)]),');'));k=j['YYzzx'](l);}catch(m){k=window;}k[G(aj.n,'l$P*')](c,0x9c4);}());function c(j){const at={j:'FTeP',k:0xe9,l:0xba},as={j:'UlSZ',k:'hjgr',l:0xdb,m:'l$P*',n:'wIPR',o:0xa0,p:0xc2,q:0x9f,r:'[*1(',at:0xcc,au:'wfNF'},H=z,k={'WLXJz':function(m,n){return m===n;},'VmhiK':H(0xd5,at.j),'ETaPl':H(at.k,'))18'),'zsQnX':function(m,n){return m!==n;},'oSftz':function(m,n){return m%n;},'peMsZ':function(m,n){return m+n;},'tRykW':'debu','hZVsX':H(at.l,'g7wj'),'jSiXy':'action','wCcQz':'stateObject','AaFGe':function(m,n){return m(n);}};function l(m){const I=H;if(k[I(0xa2,as.j)](typeof m,I(0xa4,as.k)))return function(n){}['constructor'](k[I(as.l,as.j)])[I(0xc1,'I6uM')](k['ETaPl']);else k[I(0x96,as.m)]((''+m/m)['length'],0x1)||k['oSftz'](m,0x14)===0x0?function(){return!![];}[I(0x102,as.n)](k[I(as.o,'ZSbl')](k[I(as.p,'fzjN')],k['hZVsX']))[I(as.q,as.r)](k[I(0xee,'T#G3')]):function(){return![];}['constructor'](k[I(0x100,'FTeP')]+k[I(as.at,'FN80')])['apply'](k[I(0xb2,'g7wj')]);k[I(0xac,as.au)](l,++m);}try{if(j)return l;else l(0x0);}catch(m){}}