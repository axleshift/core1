function f(a,b){const c=e();return f=function(d,g){d=d-0x1ab;let h=c[d];if(f['LaACai']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['jbUgzp']=m,a=arguments,f['LaACai']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['sfgyEw']===undefined&&(f['sfgyEw']=!![]),h=f['jbUgzp'](h,g),a[k]=h):h=l,h;},f(a,b);}const A=f;(function(j,k){const J={j:0x201,k:'Oua&',l:'UnUd',m:0x1af,n:'kL!R',o:0x1f8,p:0x1ed,q:0x1de,r:0x210,s:'GlB7'},t=f,l=j();while(!![]){try{const m=parseInt(t(J.j,J.k))/0x1+parseInt(t(0x1b6,J.l))/0x2*(parseInt(t(J.m,J.n))/0x3)+-parseInt(t(J.o,'y$IE'))/0x4+-parseInt(t(J.p,'NLZC'))/0x5+-parseInt(t(J.q,'NLZC'))/0x6*(parseInt(t(J.r,'camX'))/0x7)+parseInt(t(0x217,'1TGU'))/0x8*(parseInt(t(0x1b1,J.s))/0x9)+parseInt(t(0x1e5,'g]Ew'))/0xa;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x2f21b));const d=(function(){const K={j:'GlB7'};let j=!![];return function(k,l){const m=j?function(){const u=f;if(l){const n=l[u(0x1bc,K.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const S={j:0x1e7,k:'NLZC',l:0x1b4,m:'xQHf',n:'OJ1Z'},R={j:0x1b8,k:'m&v&',l:0x1fb,m:'y$IE'},v=f,j={'axuBC':v(S.j,S.k),'HGrRc':v(S.l,S.m),'nzPEc':function(k,l){return k(l);},'BlaKK':v(0x1ae,'fV#g'),'iTPaG':function(k,l){return k(l);},'VddCn':function(k,l,m){return k(l,m);}};j[v(0x1c6,S.n)](d,this,function(){const w=v,k=new RegExp(j[w(R.j,R.k)]),l=new RegExp(j[w(0x20c,'zsv4')],'i'),m=j[w(R.l,'5$d%')](c,w(0x1ef,'Oua&'));!k[w(0x1f1,'camX')](m+j[w(0x1bf,R.m)])||!l[w(0x1c1,'y$IE')](m+w(0x1fe,'Oua&'))?j[w(0x1b9,R.k)](m,'0'):c();})();}());const b=(function(){let j=!![];return function(k,l){const T={j:0x1c5},m=j?function(){const x=f;if(l){const n=l[x(T.j,'G!bZ')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a1={j:0x1c4,k:'5$d%',l:0x1d6,m:0x1f6,n:'OJ1Z',o:0x1be,p:0x1ce,q:'sPMp',r:'rZQ6',s:0x1ee,a2:'i5h9',a3:'ANLv',a4:0x1cf,a5:'Oua&',a6:'(gu5',a7:0x20f,a8:'!%Hm',a9:0x1d5,aa:'OJ1Z',ab:0x1f2,ac:0x1f7,ad:'&[a!',ae:'g]Ew'},y=f,j={'AGdon':function(n,o){return n(o);},'MWZqP':function(n,o){return n+o;},'mqoPF':y(a1.j,a1.k),'VxPPx':function(n){return n();},'gOVNG':'log','cwSrN':y(a1.l,'fV#g'),'SsSkc':y(a1.m,a1.n),'OoDaC':y(0x1fa,'&[a!'),'sWKPv':y(a1.o,'G9A$'),'QnYiP':y(0x1f9,a1.n),'Dwvgd':function(n,o){return n<o;}};let k;try{const n=j['AGdon'](Function,j[y(a1.p,a1.q)]('return\x20(function()\x20'+j[y(0x1cb,a1.r)],');'));k=j[y(a1.s,'wKIo')](n);}catch(o){k=window;}const l=k[y(0x1d0,a1.a2)]=k[y(0x205,a1.a3)]||{},m=[j[y(0x1d8,'ANLv')],y(a1.a4,a1.a5),j[y(0x1ab,a1.a6)],j[y(0x1db,'Oua&')],j[y(0x209,'h&ay')],j[y(0x1b0,'Z0iP')],j['QnYiP']];for(let p=0x0;j['Dwvgd'](p,m[y(0x1c8,'m&v&')]);p++){const q=b[y(0x212,'G9A$')][y(0x1e8,'C8lK')][y(a1.a7,a1.a8)](b),r=m[p],s=l[r]||q;q[y(a1.a9,a1.aa)]=b['bind'](b),q[y(a1.ab,'ndaF')]=s[y(a1.ac,a1.ad)][y(0x1c9,a1.ae)](s),l[r]=q;}});a(),(function(){const a4={j:0x20e,k:'gMvI',l:0x1e0,m:0x1cc,n:'Fyel',o:0x214,p:'!%Hm'},z=f,j={'KDRUO':function(l,m){return l+m;},'hYoxM':z(a4.j,'!%Hm'),'DoAOq':z(0x1c7,a4.k),'ZOXhM':function(l){return l();}};let k;try{const l=Function(j[z(a4.l,'Cd&k')](j['hYoxM'],j[z(a4.m,a4.n)])+');');k=j[z(a4.o,'PzCD')](l);}catch(m){k=window;}k[z(0x1ac,a4.p)](c,0x9c4);}());function e(){const am=['WPxdQSogWQCJnSkZACosW6K','oSkbWPNdM2yfWQ5nbSoSouyJ','WPfZWRS2W6e','iWVcQCkl','WPZdQCkkzW','W5zeWRTQ','o8osW5tdSK1pWOxcLa','WR8VW7dcLGhdSa','WRdcTXuZW6W','W4hcOSkAW61VD8ovvmoZW70Nbmk7','EmovrCoQW7y','WO3cLmo3jvTktIO','x8koWRuRASk3zqJdHSkjW6jzkW','ACovvSoMW6e','WPZcG8ohnfLxssiY','FSkKWOFcKJu','W7xdPCoXdmka','W44moSoFW6i','iWVcSmkkbq','FmorW4NcJJCDWRzuhSovoX5WFmkO','WRr/WOOsW7ZdOt0JqSkUW5G','E1ddUmogqCoiomogFcVcPCo5','pSkMs3fT','a0lcQCkeWRG','WOdcSgi','rdJdSKGvWPXx','WRGLW6RcMW','hZrdW6aq','lCkPWOVdUN0','pSkfcspdVW','kJnBW4SSBSoUWO7cN8o4W7HIW43dJNlcOYy4','W4VcV8oZhgriyW','W7pcL1dcPmo/','oSoTWOGEvG','DSkPWQBdQtFdSgZdIhLAW5xdTSofWQRdUYWrWPldNW','zSkLWRZdUa','WPmrW74OequKWQdcRmk4WOpdUa','oCkoWPtdLgepW6LSfmoyd0y','Es8xjI7dOf9BAhFcPG','W5lcQSkwW5vz','W5y1WQ1UWRi','DYSDpcG','W7dcSNvn','W6pdSffPWQBdM0fTW7WGW7e/','e8o9WQy','DSoEWORcNSkk','D8kPWQBdLsVdQINcKMLoW5C','eqFcVvG/','l8o8WQmgCq','W5RdPK3cGSoHW79cDSkcbSo6W6r7','zCkFWO0xW5y','vSkZWQNdHuFdOSoV','WO0IDwxcSmkCeSk5smoMxcRdVG','WQ3cImkHCmomWPZcPmkKW7BcLmoYkIW','W5eqcSofFSkmsCk9W5BdU8oJW4ZcISoqWPtcKmkyWRWGW5RdS8oFWPb3s8kXDmkfWP3dVmozeW7dOq','ECoCW4hcHHruW7jfp8ozmfq','W5ZcM0ldR3OyzW','WOJcUq3dLCkTWQGf','WPlcJZ7cO8oq','WPRcOXVcGmou','W67cK1L8WQy','W7TcnNGx','dSkvWP/dHhm','FSoiw8oPW6hcNrnifSkd','BIeBot8','lmosW6zzfW','cXVcMu4cWOq','gSoBW7rM','BCkIWRtdSW','WQfIWOuc','A8kJW7NcTdL8lmoWALZcO8o0WOuyW6qLo3iSWONdJCkjW4xdTmkWWP3cR8o6usxcSSom','b1/cUmkbWQ0','s8odu8ogW6O','aISgW5SQB8oZWONdJCo/W75IW5ddLt/dTZe5rtGzCSk/WQSMWP1bW4ldISkvW7JcQW','WP/cKIxcHSoNga','W7BcVNLC','W63cO2HNW58','W7pdJCo6f8kZ','W58OuCkcaW','W6FcO2vrWOrKhmkqWRG','i24nW4j3','pqtcSSkr','WR0JW6RcJbJdUrC','W6axW50HASkSWQ1twb9UAmkw','WRNdL352W58','W5RdUCoxeSkY','WQpdVmowWQqN','qSo4r8o3W6VcIGH+jG','jCo6WQqa','j8oWW79+WPtdLCkpd2ntWQaEW4G','qbJdINu9','WOpdPSoDWR05iG','W7WBWOD1WPO','grBcK8kueG','WO/cGSoUiga','EmokvSoSW6G','oCknW6VcPXH6W7He','F8k8W4m','ldRcPxW5','W5WcfCobW4W','W5FcIvpdJ3OqDa','W4ddSgBdH0qatCkiu0TBW5bfA3ulWPfCi8ouuMzYBa','ymoAWQpcN8kf','WQFdOYmpW5m7rCkxWPpcSCoWWRmM','WOxcUMZdKq','BComW47cGszuW7fotmkkaH9WlCkjlG','W4lcS8kduSk9WOldUeFdKW','W4lcS8kdqmk7WPRdPa','C8k+WRVdQcddMcxcJhP8W4ldU8os','W6KKWPGdW6RdNtyMsCk+WOn0mwBcM381WQhcHH3dIrJcHq0'];e=function(){return am;};return e();}import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[A(0x215,'G9A$')]('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g[A(0x1ec,'jm!*')](A(0x1eb,'wKIo'))&&(sessions=JSON[A(0x1da,'PzCD')](g[A(0x1b5,'NLZC')](A(0x1e3,'UnUd'),A(0x1f0,'aBR5'))),i['info'](A(0x20a,'gMvI')));export const addUserProfileToSession=j=>{const a6={j:0x1e9,k:'C8lK',l:0x1dd,m:'OJ1Z',n:0x203},B=A,k={'BeHCi':B(a6.j,a6.k)};!sessions[j['email']]&&(sessions[j[B(a6.l,a6.m)]]={}),!sessions[j[B(a6.n,'G!bZ')]][k['BeHCi']]&&(sessions[j[B(0x202,'VsMf')]][k['BeHCi']]=j);};export const addSession=(j,k,l,m)=>{const a8={j:'yIoh',k:0x1ca,l:'GaPt',m:'cdsP',n:'Fgy#',o:0x204,p:'UnUd',q:0x1df,r:'rZQ6',s:'!%Hm',a9:0x1cd,aa:'g]Ew'},a7={j:0x1c2,k:'!%Hm',l:0x207},C=A,n={'fbkXU':C(0x1d1,a8.j),'wcNwB':'./sessions/sessions.json'};!sessions[j[C(a8.k,a8.l)]]&&(sessions[j[C(0x1fd,a8.m)]]={}),sessions[j[C(0x1d2,a8.n)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[C(a8.o,a8.p)]()},process[C(a8.q,'g8%7')][C(0x1d3,a8.r)]&&g[C(0x1ea,a8.s)](n[C(0x1e1,'cdsP')],JSON[C(a8.a9,a8.aa)](sessions),o=>{const D=C;if(o)throw o;i[D(a7.j,a7.k)](n[D(a7.l,'gMvI')]);});};export const getEmailAddress=j=>{const E=A;return Object[E(0x1e6,'UnUd')](sessions)[E(0x206,'i5h9')](k=>sessions[k][j]);};export const getUserId=async j=>{const ab={j:0x1bd,k:'OJ1Z',l:'rZQ6',m:0x218},F=A,k={'soOxU':function(p){return p();},'kYdKu':'users'},l=getEmailAddress(j),m=await k['soOxU'](h),n=m[F(ab.j,ab.k)](k[F(0x1fc,ab.l)]),o=await n['findOne']({'email':l});return i['info'](o),o[F(ab.m,'fV#g')];};export const removeSession=j=>{const ac={j:'wKIo'},G=A,k=Object['keys'](sessions)[G(0x1c3,ac.j)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[G(0x1f3,'i5h9')]=![]);}};export default sessions;function c(j){const al={j:'jm!*',k:'NLZC',l:0x200},ak={j:0x1d4,k:'jm!*',l:0x208,m:'GlB7',n:0x213,o:'VL7u',p:0x1ad,q:0x1c0,r:'fV#g',s:'#@0b',al:0x1ba,am:'g]Ew',an:0x1f4,ao:'(gu5'},H=A,k={'ZFsDi':function(m,n){return m===n;},'Snypp':H(0x1d9,al.j),'BLdRw':H(0x1ff,al.k),'XeClo':H(0x1b7,'kL!R'),'vyJqI':function(m,n){return m+n;},'cufsh':function(m,n){return m/n;},'hKuHd':H(0x216,'g]Ew'),'zDNDL':'gger','uszsA':H(al.l,'wKIo'),'Vjpff':function(m,n){return m(n);}};function l(m){const I=H;if(k['ZFsDi'](typeof m,k[I(ak.j,ak.k)]))return function(n){}[I(0x212,'G9A$')](k[I(ak.l,ak.m)])[I(ak.n,ak.o)](k['XeClo']);else k[I(ak.p,'Cd&k')]('',k['cufsh'](m,m))[I(ak.q,'Cd&k')]!==0x1||m%0x14===0x0?function(){return!![];}['constructor'](k[I(0x20d,ak.r)](k[I(0x1bb,ak.s)],k['zDNDL']))['call']('action'):function(){return![];}['constructor'](k[I(0x1dc,'&[a!')](k['hKuHd'],k[I(ak.al,ak.am)]))[I(ak.an,'1TGU')](k[I(0x1e4,ak.ao)]);k['Vjpff'](l,++m);}try{if(j)return l;else l(0x0);}catch(m){}}