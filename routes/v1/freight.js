const F=f;(function(m,n){const L={m:'6fiO',n:0xe2,o:'faRc',p:0x14b,q:'j@r!',r:'j@r!',s:0x15f,t:'u%w8'},y=f,o=m();while(!![]){try{const p=parseInt(y(0x10a,'7Oeh'))/0x1+-parseInt(y(0x101,L.m))/0x2*(parseInt(y(0xec,'l]32'))/0x3)+-parseInt(y(0xfc,'5viB'))/0x4*(-parseInt(y(L.n,L.o))/0x5)+parseInt(y(L.p,L.q))/0x6+-parseInt(y(0xe1,L.r))/0x7+-parseInt(y(0x149,'s5DI'))/0x8*(parseInt(y(0x15c,'ibcM'))/0x9)+-parseInt(y(L.s,L.t))/0xa;if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x72fda));const d=(function(){let m=!![];return function(n,o){const p=m?function(){if(o){const q=o['apply'](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const V={m:'$bU#',n:')6$J'},U={m:'lCFG',n:0xea,o:'ibcM',p:'YSIp',q:')6$J',r:'fq$J',s:0x132,t:'jeBt'},z=f,m={'qULSW':'function\x20*\x5c(\x20*\x5c)','WvVkt':function(n,o){return n(o);},'sXwfP':z(0x109,V.m),'OSaMJ':function(n,o){return n+o;},'PKbTb':z(0xf9,V.n),'rpZuN':function(n,o){return n(o);},'Xlkdk':function(n){return n();}};d(this,function(){const A=z,n=new RegExp(m['qULSW']),o=new RegExp(A(0x10e,U.m),'i'),p=m[A(U.n,U.o)](c,m['sXwfP']);!n['test'](m[A(0x13d,U.p)](p,m['PKbTb']))||!o[A(0xeb,U.q)](m['OSaMJ'](p,A(0x105,U.r)))?m[A(U.s,'u%w8')](p,'0'):m[A(0x148,U.t)](c);})();}());const b=(function(){let m=!![];return function(n,o){const W={m:0xf3,n:'X)hR'},p=m?function(){const B=f;if(o){const q=o[B(W.m,W.n)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const a4={m:0x115,n:'pY*R',o:0x142,p:'RU%Y'},a3={m:'HzlA',n:0xf6,o:'A%sU',p:0xfd,q:'pkB7',r:0x12d},C=f,m={'sdEUB':function(p,q){return p(q);},'tZNyY':function(p,q){return p+q;},'hmnJd':C(a4.m,a4.n),'FKWeS':'{}.constructor(\x22return\x20this\x22)(\x20)','QwLuW':function(p){return p();}},n=function(){const D=C;let p;try{p=m[D(0x121,a3.m)](Function,m[D(a3.n,a3.o)](m[D(a3.p,a3.q)](m[D(a3.r,'A%sU')],m[D(0x146,'68e6')]),');'))();}catch(q){p=window;}return p;},o=m['QwLuW'](n);o[C(a4.o,a4.p)](c,0x9c4);}());const a=b(this,function(){const a9={m:'lCFG',n:'P]J*',o:'6fiO',p:0xef,q:'ibcM',r:'Np%[',s:0x102,t:'TCAT',u:'yNdp',v:0x133,w:'967G',x:'W!^U',aa:0x12a,ab:0xe5,ac:'[TTX',ad:0xf4,ae:'68e6',af:0xe4,ag:'P[Q#',ah:'fq$J'},E=f,m={'BEDYw':function(q,r){return q+r;},'gmzEI':function(q,r){return q+r;},'oBJic':'return\x20(function()\x20','Oqixx':function(q){return q();},'HIwNB':E(0x14a,a9.m),'Obzjq':'info','xUMvq':E(0x118,'j@r!'),'UBTxv':E(0x106,a9.n),'Hgofr':E(0x11d,a9.o),'QnzKX':function(q,r){return q<r;}};let n;try{const q=Function(m['BEDYw'](m['gmzEI'](m['oBJic'],E(a9.p,a9.q)),');'));n=m[E(0x119,'Ou98')](q);}catch(r){n=window;}const o=n[E(0x151,a9.r)]=n['console']||{},p=[m[E(a9.s,a9.t)],'warn',m[E(0x136,'6%!L')],m[E(0xed,a9.u)],E(a9.v,a9.w),m[E(0xfa,a9.x)],m[E(a9.aa,'@^v(')]];for(let s=0x0;m[E(0x13f,'P]J*')](s,p[E(a9.ab,a9.ac)]);s++){const t=b['constructor']['prototype'][E(0x11c,'lCFG')](b),u=p[s],v=o[u]||t;t[E(a9.ad,a9.ae)]=b[E(0x157,'ibcM')](b),t[E(a9.af,a9.ag)]=v[E(0x125,'u%w8')][E(0x11a,a9.ah)](v),o[u]=t;}});a();function e(){const av=['zCkNWQ5fWOtdRCoph1CRW4m','W7S2WRmuW7C3W4juW5ldM2u0','W6bXySoiW4i','W5KVWOHe','FCkiW5JdVH/cPwG','yJlcLSk6','WRq6W405ASof','W4bJwmoAW68','W5JdG25IW6a','i8kzWO0AW5j7WQpdLW','h8k0CMe','W6tdHCk8FG','C8oiWQ8+W7TL','BSkgW4tdRb3cUG','EmoyWRq5','rmkkAN9mt8oc','C8oBWQS7W60','BCowW7OYiq','nmo+W7aoW4tcQCkkf1eGW78DW64','W7hdICk8FG','F8onCctcQaJdLa','WO4wettdGG','W5xdS1ugogT9W68GWQKcWOtdGW','WQq4mmohWQFcNbLI','x8o7W7mm','aabxWPNdN0/cGby','c2ZdSSktW7z4','WR1QW7HgWPW','W6JdKSknx8oCW5/dMq5lWPzGjui','wmo7x8o7fq','WPtcRxTDWRFdJa','kSkRsM5C','W5fZxCox','zmkuWO3cUMCByXj3WRJcQW','AqZcSSk8iW','W6epWObdiG','bSkGmMzhDCoWW5JdMCo5WOjneL4AiCoYdmknW4jSjgJdOSkoWRHyW48kbmklaa','mbtcUmouW6f2','W6iAWO/dLCkPFG','eWPW','ASosqtRcOW','ir7dKmo9a0FcVfm1','WQNdTXlcPJO','WQpdJdxcL8kG','W7VdIZK+','W63dGqmHW4i','W4z+t8okW4m','W4qSWRRdMCkQ','e2BdT8krW6W','xSoIk0S7FX9oaCkAWP9n','wmkcWOqNWPW','EmkcWQmzWQq','EmkvW5pdPbFcOxK','yCooWRuZ','EftcH8kzqWhcQCoz','WP/dJYJcLJy','WR7cGNZcOwS','W5K+WODup8kj','W6xdNxrvW7y','W6/cOraEW7e','WPpcOWW','WPtcSfOX','WQfHW6nq','W6FdOGFdQaS9BSkQvrrmEq','omkbWQVcQ2BcJfzTxmkQAsLb','WRNcHJWzWRm4W7zoDtBdPJ/dOG','FCkiW5RdOrxcQNL0ldW','WOr0W791pSkheSohomkdwhdcLe8oWOtdMu7dT8kfWRVdUmozvCkRamodW7VdOmovW5VdQxuu','q1GZW53cLe7cLHTAkGm','WP/cJaJdVLnsW5a','dCk0DX1Q','evhcSIS8cvO','smoQW7aneWO','WRWhWRNcLZpdHSkK','W5GVWPjvomkuW7SDWRZcPHBcLwFcJtVcL8kFW4pcTa','mmomW5tdUsObBHTZWQlcRW','ASkPWQ5s','WOxcTb9qEW','oflcVJOJ','W67dMMPe','CJBcK8kMn0GNWRbhka','WRO2W406','prtcSmk3ya','j8kist5Q','oatdK8o3dq','smo7W78D','WQS6pYRdHW','umkYnJ5zWOGLgZr2w8ksWRPcCG','WRXGW6fbWQa','WR7cGtuuWROXWOjKCZtdMbK','CSkNWPncWOldTSougW','dstdJSoR','rSo1W4ldLci','WRddOtRcQG','WR7cQfhcTG','kuaQW4dcGW','pCkrWRiZ','W6tdLmkZBG93','WR/dUXxcPmkD','WPBcJNXeWQu','rSkZlq','W6ddMMLjW7y','bNNdRmkyW7S','Dmk4WPPdWR4','W7ldMmkXFWPWnmkmW54','d8k/BXf3kIa','WR0TW5eXBa','xCojWQe9W6u','W5pdLHpdPK9jW5NdOq','BCktW5FdUqxcUG','W7hdGdm+W586WOdcMq','WRJdGSo9ia59lCkg','WOy8eLH9WQq','oqNcOSkG','WQJcINTKWOG','bab3WPK','W4RcRGG5W4W','WPJcHIFdQa','W4KLWOHtpSkiWQ5wWQ7cVaO','vmk/kXTsW5XOhtbIuG','WPaVbvb3WR/dLa','fh3dVCkaW6DFWRmZWQ19WPi','WPpcSGXlFce','oaRdT8oQpW','DZdcKCkU','htaCW7pcSG','WObfWPFdPCkBqaSQc8o2g8kzFW','WRqWW4q','W5pdSfSjogzWW48YWOK6WPVdTa','nx0SW6hcKa'];e=function(){return av;};return e();}function f(a,b){const c=e();return f=function(d,g){d=d-0xdf;let h=c[d];if(f['EpurZQ']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['huDHKo']=m,a=arguments,f['EpurZQ']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['MGiYUh']===undefined&&(f['MGiYUh']=!![]),h=f['huDHKo'](h,g),a[k]=h):h=l,h;},f(a,b);}import g from'dotenv';g['config']();import{ObjectId}from'mongodb';import h from'express';import i from'../../src/logger.js';import j from'../../models/db.js';import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUserId}from'../../src/sessions.js';const router=h['Router'](),limit=0x14;router[F(0x13e,'P[Q#')]('/',k,async(m,n)=>{const af={m:0x112,n:'Ou98',o:0x14f,p:')6$J',q:0x11f,r:'68e6',s:0x11b,t:'yNdp',u:0x147,v:0x130,w:0xdf,x:'X)hR',ag:'6%!L'},G=F,o={'xPbll':function(p,q){return p(q);},'KXSAi':function(p,q){return p*q;},'EgLko':function(p,q){return p-q;},'FEsxa':function(p){return p();},'dnxtT':G(af.m,af.n),'umJoG':function(p,q){return p/q;}};try{const p=await o[G(0xe8,'bxTS')](getUserId,m['token']),q=o['xPbll'](parseInt,m['body']['page'])||0x1,r=o[G(0x11e,'5viB')](o[G(af.o,af.p)](q,0x1),limit),s=await o[G(af.q,af.r)](j),t=s[G(af.s,af.t)](o['dnxtT']),u=await t['countDocuments']({'user_id':new ObjectId(p)}),v=await t[G(af.u,'yNdp')]({'user_id':new ObjectId(p)})[G(0x152,af.t)](r)[G(af.v,'fq$J')](limit)[G(af.w,af.x)]();return n[G(0x104,'pY*R')](0xc8)[G(0x15b,'6%!L')]({'data':v,'totalPages':Math[G(0xf7,'vzhP')](o['umJoG'](u,limit)),'currentPage':q});}catch(w){i['error'](w);}return n[G(0x138,'Np%[')](0x1f4)[G(0x100,af.ag)]();}),router[F(0xf2,'P[Q#')](F(0x12b,'6%!L'),k,async(m,n)=>{const ag={m:'$bU#',n:0x12c,o:0x126,p:'68e6',q:'Np%[',r:0x110,s:0xe9,t:0xf1,u:'W!^U',v:0x129,w:'Q7GC'},H=F;try{const o=await getUserId(m[H(0x123,ag.m)]),p=m[H(0x15a,'Np%[')]['id'];if(!p)return n[H(ag.n,'967G')](0x190)[H(ag.o,ag.p)]();const q=await j(),r=q['collection'](H(0xff,ag.q)),s=await r[H(0x160,'967G')]({'user_id':new ObjectId(o),'_id':new ObjectId(p)})[H(ag.r,'YS)l')]();if(!s[H(0x153,'lCFG')])return n[H(ag.s,'YSIp')](0x194)[H(0x150,'pY*R')]();return n[H(ag.t,ag.u)](0xc8)[H(ag.v,'7Oeh')]({'data':s});}catch(t){i[H(0x135,'lCFG')](t);}return n['status'](0x1f4)[H(0x120,ag.w)]();}),router[F(0x13c,'6fiO')](F(0x13a,'967G'),[k,l],async(m,n)=>{const aj={m:0x117,n:'u%w8',o:0x107,p:'j@r!',q:0x143,r:0x13b,s:'TSRl',t:0x108,u:0x111,v:'5viB',w:'Q7GC',x:0x12f,ak:'RU%Y',al:0xee,am:0x139,an:0x140,ao:'YS)l',ap:'ugcg',aq:'[TTX',ar:'Np%[',as:0x158,at:'967G',au:0x120,av:'Q7GC'},I=F,o={'admbi':function(p,q){return p||q;},'KEfch':I(aj.m,aj.n),'TpjBb':I(aj.o,aj.p),'LBYGp':function(p,q){return p(q);},'GLzrN':I(aj.q,'TSRl')};try{const {shipper:p,consignee:q,shipment:r,shipping:s}=m['body'],t=m[I(aj.r,aj.s)][I(aj.t,'GCvl')];if(o[I(aj.u,aj.v)](!p,!q)||!r||!s||!t)return n[I(0x113,aj.w)](0x190)['send']();if(![I(aj.x,aj.ak),o[I(aj.al,'pY*R')],o[I(0x155,'fq$J')]][I(aj.am,'vzhP')](t))return n[I(0x145,aj.p)](0x190)[I(aj.an,aj.ao)]();const u=await o[I(0x127,aj.ap)](getUserId,m[I(0xfb,aj.aq)]),v=await j(),w=v[I(0x10d,aj.ar)](o['GLzrN']);return await w['insertOne']({'user_id':u,'data':{'shipper':p,'consignee':q,'shipment':r,'shipping':s},'type':t,'created_at':new Date(),'updated_at':new Date()}),n['status'](0xc9)[I(aj.as,aj.at)]();}catch(x){i['error'](x);}return n['status'](0x1f4)[I(aj.au,aj.av)]();});export default router;function c(m){const au={m:0x122,n:0x128,o:'TCAT'},at={m:0xe6,n:'$bU#',o:0x14d,p:'u%w8',q:'xdX5',r:0x134,s:'5viB',t:'S]qA',u:0xf8,v:'vzhP',w:'YSIp',x:0xe0,au:'HzlA',av:0x14c,aw:'@^v('},J=F,n={'euvyB':function(p,q){return p===q;},'uerbR':'string','nZmQo':J(au.m,'RU%Y'),'jYByY':function(p,q){return p+q;},'RzQiT':function(p,q){return p/q;},'WCouH':function(p,q){return p%q;},'VHkKG':J(au.n,au.o),'uoSsh':J(0x159,'6%!L'),'qWfmg':function(p,q){return p+q;},'TZiGa':function(p,q){return p(q);}};function o(p){const K=J;if(n[K(0x154,')6$J')](typeof p,n[K(at.m,at.n)]))return function(q){}[K(at.o,at.p)](n[K(0xf5,at.q)])[K(0x15d,'6%!L')](K(at.r,at.s));else n['jYByY']('',n['RzQiT'](p,p))[K(0xf0,at.t)]!==0x1||n['WCouH'](p,0x14)===0x0?function(){return!![];}[K(0x116,'l]32')](n[K(0x103,'7Oeh')]('debu',n[K(0x15e,'Q7GC')]))['call'](n[K(at.u,at.v)]):function(){return![];}[K(0x141,'pY*R')](n[K(0x12e,at.w)](K(0xe3,'Q7GC'),n[K(at.x,at.au)]))[K(0x131,'[TTX')](K(0x144,'[TTX'));n[K(at.av,at.aw)](o,++p);}try{if(m)return o;else n[J(0xfe,'pkB7')](o,0x0);}catch(p){}}