const A=f;(function(j,k){const J={j:0x226,k:'g&g%',l:0x232,m:'z4eU',n:0x209,o:0x1f3,p:'ocyf',q:'AMbH',r:']X95'},t=f,l=j();while(!![]){try{const m=-parseInt(t(J.j,J.k))/0x1+parseInt(t(J.l,'YiZd'))/0x2*(parseInt(t(0x24f,J.m))/0x3)+-parseInt(t(0x207,'537U'))/0x4*(-parseInt(t(J.n,'h#IZ'))/0x5)+-parseInt(t(J.o,'wodX'))/0x6*(-parseInt(t(0x211,J.p))/0x7)+-parseInt(t(0x1f5,J.q))/0x8+-parseInt(t(0x20a,'&pya'))/0x9*(parseInt(t(0x24d,'oJTh'))/0xa)+parseInt(t(0x242,J.r))/0xb;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xf17ad));const d=(function(){let j=!![];return function(k,l){const K={j:'537U'},m=j?function(){const u=f;if(l){const n=l[u(0x1fe,K.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const T={j:'XfpP',k:0x202},S={j:'WL4x',k:0x237,l:'9VBF',m:'S5J4',n:'9^ob',o:'h#IZ',p:0x21a,q:'Xaw#',r:'^MDk',s:0x220,T:0x240},v=f,j={'Pnuhe':'function\x20*\x5c(\x20*\x5c)','IKGWh':v(0x200,T.j),'WBSVn':function(k,l){return k+l;},'IfZDL':function(k,l){return k(l);},'GEIVL':function(k){return k();},'fdZyk':function(k,l,m){return k(l,m);}};j[v(T.k,'Jiq)')](d,this,function(){const w=v,k=new RegExp(j[w(0x206,'GsbJ')]),l=new RegExp(w(0x244,S.j),'i'),m=c(j[w(S.k,S.l)]);!k[w(0x1fd,S.m)](m+w(0x250,S.n))||!l[w(0x258,S.o)](j[w(S.p,S.q)](m,w(0x23c,S.r)))?j[w(S.s,'qYfk')](m,'0'):j[w(S.T,'9^ob')](c);})();}());const b=(function(){let j=!![];return function(k,l){const U={j:0x1e5},m=j?function(){const x=f;if(l){const n=l[x(U.j,'WL4x')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a2={j:'S5J4',k:0x221,l:0x251,m:'fk3M',n:0x1f7,o:0x249,p:'7TX5',q:0x231,r:'9^ob',s:0x1ef,a3:'0v#i',a4:0x1ee,a5:0x248,a6:'L0h$',a7:0x22e,a8:'wodX',a9:0x252,aa:'&pya',ab:0x21e,ac:0x201,ad:0x213,ae:'S9eB',af:0x230,ag:0x216,ah:'g&g%'},y=f,j={'cwXEs':function(n,o){return n(o);},'TmKpN':function(n,o){return n+o;},'VvOJY':function(n){return n();},'wOrSe':y(0x1e8,'Jiq)'),'vGCpr':y(0x1f8,a2.j),'EvveZ':y(a2.k,'L0h$'),'itRqI':y(a2.l,'S9eB'),'rORMk':y(0x246,a2.m),'mpmFV':function(n,o){return n<o;}};let k;try{const n=j['cwXEs'](Function,j[y(a2.n,'GAZ]')](y(a2.o,'qYfk')+y(0x24a,'JBp^'),');'));k=j[y(0x1f2,'ml^W')](n);}catch(o){k=window;}const l=k[y(0x208,a2.p)]=k[y(a2.q,a2.r)]||{},m=[j[y(a2.s,'S5J4')],y(0x24e,a2.a3),j[y(a2.a4,'5fCO')],j[y(a2.a5,a2.j)],j[y(0x23e,a2.a6)],j['rORMk'],y(a2.a7,a2.a8)];for(let p=0x0;j[y(a2.a9,a2.p)](p,m[y(0x24b,a2.aa)]);p++){const q=b[y(a2.ab,'Iy$D')][y(a2.ac,'9VBF')]['bind'](b),r=m[p],s=l[r]||q;q['__proto__']=b['bind'](b),q[y(a2.ad,a2.ae)]=s[y(a2.af,'DI3x')][y(a2.ag,a2.ah)](s),l[r]=q;}});a();import g from'fs';(function(){const a6={j:0x1fa,k:'%@X)',l:0x1e6,m:0x223},z=f,j={'gDqAI':function(l,m){return l(m);},'XqYHX':function(l,m){return l+m;},'DxCFh':z(0x249,'qYfk'),'DSlrl':function(l){return l();}};let k;try{const l=j['gDqAI'](Function,j[z(a6.j,'9VBF')](j[z(0x254,a6.k)]+z(a6.l,'YiZd'),');'));k=j[z(a6.m,'!DJF')](l);}catch(m){k=window;}k[z(0x22d,'^MDk')](c,0x9c4);}());import h from'../models/db.js';import i from'../src/logger.js';let sessions={};g[A(0x21b,'S5J4')]('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g['existsSync'](A(0x205,'537U'))&&(sessions=JSON[A(0x20f,'XfpP')](g[A(0x21f,'ocyf')]('./sessions/sessions.json',A(0x241,'1@w#'))),i[A(0x214,'7!Q2')](A(0x1f6,'AMbH')));export const addUserProfileToSession=j=>{const a8={j:'ODa*',k:'*cvP',l:'Z8wQ',m:0x1e4,n:'9VBF'},B=A,k={'mWTuN':B(0x20e,a8.j)};if(!sessions[j[B(0x219,a8.k)]])sessions[j['email']]={};if(!sessions[j[B(0x22f,'Xaw#')]][k['mWTuN']])sessions[j[B(0x1ed,a8.l)]][k[B(a8.m,a8.n)]]=j;};function f(a,b){const c=e();return f=function(d,g){d=d-0x1e4;let h=c[d];if(f['bxejyw']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['CWoXaf']=m,a=arguments,f['bxejyw']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['DzzgbY']===undefined&&(f['DzzgbY']=!![]),h=f['CWoXaf'](h,g),a[k]=h):h=l,h;},f(a,b);}export const addSession=(j,k,l,m)=>{const ab={j:'9VBF',k:0x228,l:0x1fc,m:'^MDk',n:0x229,o:0x22c,p:0x235,q:'9^ob'},aa={j:0x20d,k:'3e&I'},C=A,n={'TGEOj':function(o,p){return o!==p;},'ubCVM':C(0x21d,'DI3x'),'PvDCl':C(0x217,ab.j)};if(!sessions[j[C(ab.k,'S5J4')]])sessions[j[C(ab.l,ab.m)]]={};sessions[j['email']][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date['now']()},n['TGEOj'](process['env']['NODE_ENV'],n[C(ab.n,'%@X)')])&&g['writeFileSync'](n[C(ab.o,'3e&I')],JSON[C(ab.p,ab.q)](sessions),o=>{const D=C;if(o)throw o;i[D(aa.j,aa.k)]('Sessions\x20save');});};export const getEmailAddress=j=>{const ac={j:'ml^W'},E=A;return Object[E(0x224,'ZHfk')](sessions)[E(0x212,ac.j)](k=>sessions[k][j]);};export const getUserId=async j=>{const af={j:0x255,k:'g&g%',l:0x23a,m:'9VBF',n:'L0h$'},F=A,k={'ZFlpX':function(p,q){return p(q);},'LbrMr':function(p){return p();}},l=k[F(af.j,af.k)](getEmailAddress,j),m=await k[F(af.l,'YiZd')](m),n=m['collection'](F(0x239,af.m)),o=await n[F(0x24c,af.n)]({'email':l});return o[F(0x215,'z4eU')];};export const removeSession=j=>{const ag={j:'ODa*',k:0x256,l:'DI3x',m:0x1f9,n:'%@X)'},G=A,k=Object[G(0x236,ag.j)](sessions)[G(ag.k,ag.l)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[G(ag.m,ag.n)]=![]);}};function e(){const as=['W7eQF8oJW51Q','W5/dIGH5pa','WOBcNmoSva','c3/dQmkEf8ojF8omzSoimJldNCkY','BvpdOctdJspdPxy','fSkytd5xw8o6WQ8hhCoji8kvt8k2WRBcNCkeWOjhiGVcLmkCW5FdLCosr8ktWOKyrmohyW','WOGoWRH2Aa','gCo/WPDwuG','uSkOq8o8W4RcL1C','W5tdVhjxW4O','W7JcON5Qb8kMD2pcPmk7oHjiWQLOWOdcJmo5W4i','qahdHXjBzrPRW6ylWR7cUSomWQ3dLCkXjrKQpubcWQ1UW6C/pSoObg/cIMm','iGa7WQJdVSoJ','nSkLWRbKxSknnq','gCoDoCoNfCkYgCkX','WQHHWOuq','qtNcImk1x8kJW6GwW4hdPSos','W7VdPYbghG','l8klDmkCFuhdNgix','WPHdWPpcV0O','waiHWPVdUfq','WOlcNSowW5tdTa','WOFdQmk6W7hdHq','W7tdUcVcMW','bGWDwSoh','W7G0iMO','gCoEy8k6zmojySk7WRddNeBcSXS','zCo8WPPIzCk6nCk7','hmoGA8k1ja','k8odyhKo','W6qPEwNdO8obzmkBbSkSnmokWPzJlvJdG8oYWPLiCmomcdhcR33dKhxdGCo7W6BdKa','W6yjWPu/WOu','W60bxW','xJDLkwibW5KKW7GBFvHz','BMq/fSoXW4G','WPdcH8oKh8kTW5hdNKKrWR0M','WPhcQ8oShmkJ','W4SMj8kmW7W','etSUrSom','W6BdHxzHW7u','hefRW4RcPaTGi8ogbSoFBW','ndyJwCoO','vhCEo8oC','WQbJmSoCW6JdN8kE','W73dJbCmW5fZW44fW6ilzq','WRGMWQ5oWPzQWOddNtjhvxyR','W5nXW6WoW4G3W57dUhf/z2G1W4tdQIDUW7O','ESoby8olW4e','W7JdPgjD','WQFcHCoHW7VdQSkq','kCogzSkimG','W4fmW7KvW5q','W6qhWQWxWQm','W6xdR3Dg','W5a9WQymW4C','gmk9WQ1eDa','emkZhmo5','aCofumk0bqFcOmkQW7S','W6CkySoCbW','W4Cybxm5','W6ldVMvgW7upWR4PrmkWCW','WP9IWQufW43cISopk0GMW5NdUHNcRwRcI8odm8kxE8kWbwze','EXGMWPRdSW','WOz6W65yWOZdGCoabKi0WRxdUG','WPzCWPdcINnseW','WRLHfxZdKhFdPmkA','ELzIW77cVCkZd8oWW7ddGKiona','WOCDWQiyW4NcRCoJ','aWX1w8o4','W6iBECkV','qCk1wCo0W5FcNKa','cCk8b8o+WQW','W7VdOc9CbmoEz8oYa1FcMq','W7BdVZZcI8kxu8ojw3RcTmkArKG','zgG/fq','pSkCrmknF1ZdM2O','W7KNBCoL','k2tdNa','WR/dH8k4W6u','x8kytmkLgqdcSmk1W7ddMsxcNSonAqHaW43cHclcPv9UoIe','WR7dJ8k6W60','cMi9CdK','W4KHW6pcLfu','W7ZdOwbBW6i','sKuibCoa','W6ldOYRcM1K2WPBdLmksW6W','W5LGmYpcImksWQpcJmkrkCkm','WRxcOMtdN8oMa8kDzfVcQSkCqq','W4pcOvbBoq','nCk+WQXVyW','x05CbCkjcXmHW4jkuSo0Da','xSo/a8kidq','ktfQqa','jSoXsx44','W6RcNmoLWRlcQMOJdSo+WOJdMhW','W7xcLwBdMSolhCkO','W7tdP2vBW7W','WRpcHmowW4tdKq','xb46WP7dSXmUfCoqeSo5nCk/fCk6','W6GACCkZvCkTWPRdUbddNSkn','W5Sdw8kdtq','W7ipWRK3WQfGkq/cPs4g','W6jbj8ohW7O','W7SoW5hcQ1C','W6BdVHBcI148WOZdMG','W7VdOc9Ch8oaDW','WQ0gngVdP8oytG','ECo/umovW6S','W7NdVZfdcq','W6VdUZnghSolE8o3dG','wSkIt8oH','omo8EmkxaG','b8otWQDnBq','bmoewSkYgq','W5m2juFdVG','WRziWPuhW7S','W6GeWR0lWRS','W6uMg8o0WPhdP3hdScWCW6FcPa','oCk4WOXXwa'];e=function(){return as;};return e();}export default sessions;function c(j){const ar={j:'GsbJ',k:0x22a,l:'ml^W',m:'7!Q2'},aq={j:0x21c,k:0x1eb,l:'1@w#',m:0x234,n:'9^ob',o:0x1e7,p:0x225,q:'WL4x',r:0x203,s:'HECz',ar:0x20c,as:'ZHfk',at:0x218,au:'g&g%',av:'5fCO',aw:0x233,ax:'GAZ]',ay:0x1fb,az:'AMbH',aA:0x257,aB:'S5J4',aC:0x1ff,aD:'L0h$'},H=A,k={'HDYtE':H(0x253,ar.j),'bCfpz':H(ar.k,ar.j),'FGzPU':H(0x247,'ODa*'),'RhAUs':function(m,n){return m!==n;},'jMRwZ':function(m,n){return m/n;},'gcXAJ':H(0x1ea,ar.l),'lBYkO':function(m,n){return m===n;},'RYsaD':function(m,n){return m%n;},'iHbyK':function(m,n){return m+n;},'WSxnd':'debu','AXfhu':'gger','SJNoV':H(0x23f,ar.m),'HqsDe':function(m,n){return m(n);}};function l(m){const I=H;if(typeof m===k[I(aq.j,'ml^W')])return function(n){}[I(aq.k,'1@w#')](k[I(0x1ec,aq.l)])[I(aq.m,aq.n)](k['FGzPU']);else k['RhAUs']((''+k[I(0x238,'fk3M')](m,m))[k[I(aq.o,'^MDk')]],0x1)||k[I(aq.p,aq.q)](k[I(aq.r,'Y8*H')](m,0x14),0x0)?function(){return!![];}[I(0x210,'9^ob')](k['iHbyK'](k[I(0x245,aq.s)],k[I(aq.ar,aq.as)]))[I(aq.at,aq.au)](k[I(0x1f1,aq.av)]):function(){return![];}[I(0x22b,'3e&I')](k[I(0x23b,'0v#i')](k[I(aq.aw,aq.ax)],k[I(aq.ay,aq.az)]))[I(aq.aA,'5fCO')](I(0x204,aq.aB));k[I(aq.aC,aq.aD)](l,++m);}try{if(j)return l;else l(0x0);}catch(m){}}