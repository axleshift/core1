import{r as e,R as t}from"./Oq9P1Wj_.js";import{f as n,a as r,l as o}from"./CAXHYNwV.js";import"./B8aVJnds.js";import{R as i}from"./DvQD94mg.js";import{l as a,_ as s}from"./Dupz2hXq.js";import{P as u}from"./NdsU5MZw.js";import{u as l,a as f,b as c,c as d}from"./rMvyDuHW.js";import{p,h as v,a as m,b,e as y,o as E,f as g,d as w,g as h,i as C}from"./DoV6T4jL.js";import{w as x}from"./BiQovoRK.js";var O=p({defaultModifiers:[v,m,b,y,E,g,w,h]}),j=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},A={name:"applyStyles",enabled:!1},k={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var o=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));o.length?n.setAttribute("aria-describedby",o.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,o=n.reference,i=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===i&&"setAttribute"in o){var a=o.getAttribute("aria-describedby");if(a&&-1!==a.split(",").indexOf(r.id))return;o.setAttribute("aria-describedby",a?a+","+r.id:r.id)}}},P=[];const R=function(e){return n(function(e){return e&&"setState"in e?i.findDOMNode(e):null!=e?e:null}(e))};var S=function(){};var D=function(e){return e&&("current"in e?e.current:e)};function M(e){var t,n,r,o,i,a=e.enabled,u=e.enableEvents,l=e.placement,f=e.flip,c=e.offset,d=e.fixed,p=e.containerPadding,v=e.arrowElement,m=e.popperConfig,b=void 0===m?{}:m,y=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(b.modifiers);return s({},b,{placement:l,enabled:a,strategy:d?"fixed":b.strategy,modifiers:(i=s({},y,{eventListeners:{enabled:u},preventOverflow:s({},y.preventOverflow,{options:p?s({padding:p},null==(t=y.preventOverflow)?void 0:t.options):null==(n=y.preventOverflow)?void 0:n.options}),offset:{options:s({offset:c},null==(r=y.offset)?void 0:r.options)},arrow:s({},y.arrow,{enabled:!!v,options:s({},null==(o=y.arrow)?void 0:o.options,{element:v})}),flip:s({enabled:!!f},y.flip)}),void 0===i&&(i={}),Array.isArray(i)?i:Object.keys(i).map((function(e){return i[e].name=e,i[e]})))})}var T=function(e){var t;return"undefined"==typeof document?null:null==e?n().body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function K(t,n){var r=e.useState((function(){return T(t)})),o=r[0],i=r[1];if(!o){var a=T(t);a&&i(a)}return e.useEffect((function(){}),[n,o]),e.useEffect((function(){var e=T(t);e!==o&&i(e)}),[t,o]),o}var q=t.forwardRef((function(n,u){var p=n.flip,v=n.offset,m=n.placement,b=n.containerPadding,y=void 0===b?5:b,E=n.popperConfig,g=void 0===E?{}:E,w=n.transition,h=c(),C=h[0],T=h[1],q=c(),L=q[0],N=q[1],U=d(T,u),H=K(n.container),B=K(n.target),W=e.useState(!n.show),_=W[0],z=W[1],F=function(t,n,r){var o=void 0===r?{}:r,i=o.enabled,u=void 0===i||i,f=o.placement,c=void 0===f?"bottom":f,d=o.strategy,p=void 0===d?"absolute":d,v=o.modifiers,m=void 0===v?P:v,b=a(o,["enabled","placement","strategy","modifiers"]),y=e.useRef(),E=e.useCallback((function(){var e;null==(e=y.current)||e.update()}),[]),g=e.useCallback((function(){var e;null==(e=y.current)||e.forceUpdate()}),[]),w=l(e.useState({placement:c,update:E,forceUpdate:g,attributes:{},styles:{popper:j(p),arrow:{}}})),h=w[0],C=w[1],x=e.useMemo((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),C({state:t,styles:n,attributes:r,update:E,forceUpdate:g,placement:t.placement})}}}),[E,g,C]);return e.useEffect((function(){y.current&&u&&y.current.setOptions({placement:c,strategy:p,modifiers:[].concat(m,[x,A])})}),[p,c,x,u]),e.useEffect((function(){if(u&&null!=t&&null!=n)return y.current=O(t,n,s({},b,{placement:c,strategy:p,modifiers:[].concat(m,[k,x])})),function(){null!=y.current&&(y.current.destroy(),y.current=void 0,C((function(e){return s({},e,{attributes:{},styles:{popper:j(p)}})})))}}),[u,t,n]),h}(B,C,M({placement:m,enableEvents:!!n.show,containerPadding:y||5,flip:p,offset:v,arrowElement:L,popperConfig:g})),G=F.styles,I=F.attributes,J=a(F,["styles","attributes"]);n.show?_&&z(!1):n.transition||_||z(!0);var Q,V,X,Y,Z,$,ee,te,ne,re,oe,ie,ae=n.show||w&&!_;if(Q=C,V=n.onHide,X={disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent},Z=(Y=void 0===X?{}:X).disabled,$=Y.clickTrigger,ee=void 0===$?"click":$,te=e.useRef(!1),ne=V||S,re=e.useCallback((function(e){var t,n,o=D(Q);x(!!o,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),te.current=!(o&&(n=e,!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey))&&function(e){return 0===e.button}(e)&&!r(o,null!=(t=null==e.composedPath?void 0:e.composedPath()[0])?t:e.target))}),[Q]),oe=f((function(e){te.current||ne(e)})),ie=f((function(e){27===e.keyCode&&ne(e)})),e.useEffect((function(){if(!Z&&null!=Q){var e=window.event,t=R(D(Q)),n=o(t,ee,re,!0),r=o(t,ee,(function(t){t!==e?oe(t):e=void 0})),i=o(t,"keyup",(function(t){t!==e?ie(t):e=void 0})),a=[];return"ontouchstart"in t.documentElement&&(a=[].slice.call(t.body.children).map((function(e){return o(e,"mousemove",S)}))),function(){n(),r(),i(),a.forEach((function(e){return e()}))}}}),[Q,Z,ee,re,oe,ie]),!ae)return null;var se=n.children(s({},J,{show:!!n.show,props:s({},I.popper,{style:G.popper,ref:U}),arrowProps:s({},I.arrow,{style:G.arrow,ref:N})}));if(w){var ue=n.onExit,le=n.onExiting,fe=n.onEnter,ce=n.onEntering,de=n.onEntered;se=t.createElement(w,{in:n.show,appear:!0,onExit:ue,onExiting:le,onExited:function(){z(!0),n.onExited&&n.onExited.apply(n,arguments)},onEnter:fe,onEntering:ce,onEntered:de},se)}return H?i.createPortal(se,H):null}));q.displayName="Overlay",q.propTypes={show:u.bool,placement:u.oneOf(C),target:u.any,container:u.any,flip:u.bool,children:u.func.isRequired,containerPadding:u.number,popperConfig:u.object,rootClose:u.bool,rootCloseEvent:u.oneOf(["click","mousedown"]),rootCloseDisabled:u.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;return e.rootClose?(o=u.func).isRequired.apply(o,[e].concat(n)):u.func.apply(u,[e].concat(n))},transition:u.elementType,onEnter:u.func,onEntering:u.func,onEntered:u.func,onExit:u.func,onExiting:u.func,onExited:u.func};export{q as O};
