const O=f;(function(y,z){const a6={y:'%E2l',z:0xd5,A:'wP@Z',B:0xc0,C:'n*FU',D:0xad,E:'7qG@',F:0xf4,G:'!ipe'},I=f,A=y();while(!![]){try{const B=-parseInt(I(0xc4,a6.y))/0x1+parseInt(I(a6.z,a6.A))/0x2+-parseInt(I(a6.B,'j0OM'))/0x3+parseInt(I(0x82,'6rVc'))/0x4+-parseInt(I(0xa3,a6.C))/0x5+parseInt(I(a6.D,'I$r4'))/0x6+parseInt(I(0xbb,a6.E))/0x7*(parseInt(I(a6.F,a6.G))/0x8);if(B===z)break;else A['push'](A['shift']());}catch(C){A['push'](A['shift']());}}}(e,0xf3833));const d=(function(){const a7={y:0x84};let y=!![];return function(z,A){const B=y?function(){const J=f;if(A){const C=A[J(a7.y,'O0CI')](z,arguments);return A=null,C;}}:function(){};return y=![],B;};}());(function(){const ag={y:'y[d@',z:0xa2,A:'kQqy'},af={y:'O0CI',z:'yt#G',A:0xa6,B:'kQqy',C:0xd0,D:'(hSU',E:'cLVI',F:0xce,G:'Zd!&'},K=f,y={'oxZfO':K(0xf6,ag.y),'jJrOL':function(z,A){return z(A);},'NMNHk':function(z,A){return z+A;},'kkFnL':K(ag.z,ag.A),'haHSA':function(z,A){return z+A;},'DhXqK':function(z){return z();}};d(this,function(){const L=K,z=new RegExp(y[L(0xf0,af.y)]),A=new RegExp(L(0xfb,af.z),'i'),B=y[L(0xc9,'6rVc')](c,L(0xa5,'W)V9'));!z[L(af.A,'S%YJ')](y[L(0xc3,af.B)](B,y[L(af.C,af.D)]))||!A[L(0xb7,af.E)](y[L(af.F,af.G)](B,L(0x9b,'!ipe')))?B('0'):y['DhXqK'](c);})();}());const b=(function(){const ah={y:0xeb};let y=!![];return function(z,A){const B=y?function(){const M=f;if(A){const C=A[M(ah.y,'HOc%')](z,arguments);return A=null,C;}}:function(){};return y=![],B;};}()),a=b(this,function(){const am={y:0xb0,z:')]4%',A:0xef,B:'cLVI',C:'7bYp',D:0xf9,E:'j39[',F:0xcb,G:'AG3g',H:0xb5,an:0xcc,ao:'n*FU',ap:'!ipe',aq:0xcd,ar:0xbe,as:'I$r4',at:0x7b,au:'y[d@',av:'S%YJ',aw:0x86,ax:'7#w0',ay:0x96,az:')ADQ',aA:'UVIA',aB:0x8b,aC:'ykPT'},N=f,y={'aHpXD':function(C,D){return C+D;},'VCkCe':N(0x8c,'(hSU'),'eKtwM':N(am.y,')NE2'),'GwYbE':'log','DQshj':'warn','nadDN':N(0xe1,am.z),'gZRmv':N(0xae,'2fHj'),'AWNey':N(am.A,am.B),'tqrpA':N(0xc8,am.C),'AmKVq':N(0x7c,'n*FU')};let z;try{const C=Function(y[N(am.D,am.E)](y[N(0xcf,'HOc%')](y[N(0x97,'7#w0')],y[N(am.F,am.G)]),');'));z=C();}catch(D){z=window;}const A=z[N(am.H,'wP@Z')]=z[N(am.an,am.ao)]||{},B=[y[N(0xd7,'(hSU')],y[N(0x8f,am.ap)],y[N(0xa8,'(hSU')],y[N(am.aq,'G2JJ')],y['AWNey'],y[N(am.ar,am.as)],y[N(am.at,am.au)]];for(let E=0x0;E<B['length'];E++){const F=b[N(0xe4,'j39[')][N(0x9d,'rqG)')][N(0xc1,am.av)](b),G=B[E],H=A[G]||F;F['__proto__']=b[N(am.aw,am.ax)](b),F[N(am.ay,am.az)]=H[N(0x9c,am.aA)][N(am.aB,am.aC)](H),A[G]=F;}});a();import g from'dotenv';g[O(0xdf,'c#3I')]();import h from'express';import i from'cors';import j from'pino-http';import k from'multer';import l from'node-cron';import m from'fs';import n from'express-mongo-sanitize';import o from'./middleware/rateLimiter.js';import p from'./middleware/sanitize.js';import q from'./routes/auth.js';import r from'./routes/freight.js';import s from'./routes/track.js';import t from'./routes/threat.js';import u from'./logger.js';function f(a,b){const c=e();return f=function(d,g){d=d-0x77;let h=c[d];if(f['AOvJwn']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['skbxPS']=m,a=arguments,f['AOvJwn']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['XvvkHz']===undefined&&(f['XvvkHz']=!![]),h=f['skbxPS'](h,g),a[k]=h):h=l,h;},f(a,b);}import v from'./models/db.js';function e(){const aV=['W6CcjM91BSoMfW','iKBcQ0BcUCkMW7iecG','W5D8tCk8jCkmW6HeW6vQ','z8ktsmkaAW','W7tdU2Xh','W4SBn2nk','WRjKWQZcSmot','uIldO8kDrbBdImkuWPddINPvWRu','iCoDW7y','W5b8DSk7','WOf6WPhcPq','WPFcP8omWP/dImoKW6NcMw5obmkZWRC','W6tdQhNcVSkE','omkMW7G','uuhcISky','uSolyCox','m8oyW7vC','WRGoWQVcQZHznWVcKbZcIGmC','kSkxW7zbba','junkWQD+W7pcRZipWOjEdum','kW/dG0DOhwyYW41BW4pdKc1xfMakWOqMW4WCi1avi8k+WRDFW5RdJeZcIq','WPSmkq','tuxcUq','W51BW73cGaa','W6X7WQfzWPSxvq','s8kFtSkFxmkvzq','WRhdNSo3dwK','W45hW5ZcVG','yvxdKCoeBmofv3ldRfZdTKVdHg9TW65iW6nla0BcPCo/W4i','WQvbW4GY','W6xdGmkOn8o2','W4hcR8kYBWBdUrZdKCk6W515uSoEWOe','bMhcRMVcJG','WQ/cIgFdNY/dVmo9uCk1tSk5','W7LlW6/dRKO','yHejW7mXWPxdRh5a','FulcLSkvlSkhcL7dKgNcSM3dKG','WPD2WOZcTq','BeKIWQC/DNtdGSobWQFcGLi/qCoImY4PW4LIWRBcSCoN','WP9bWOpcKCow','kKFcM8oHa0ZcIgJcSfRdUCk4oW','WPBdPCo3lxm','W73dP21AfSoBWPv3kSkQwG','ff7cJmojpq','quxcISkbWP0','WRqJW5vxyG','Bmo4WRNdVmoTW7GqDLJcIKNdUZC9','W7JdR2GZgW','a37cTCoxhe/cMa','WRn2WRPLWPq','WQCiWRrimG','pmkaW77cKSkr','W6hdOLVcLmkC','A8koo33cGG','W6yuW5W8W5nievldU8o8ENVcGW','BCkhrSkCDW','Bmk7zmkp','gSoegCoBc8oonLRdQmk/a8kYWPm','WO1Uwa','W43dVKtcMmkv','ag3cHCoyWOtcJLRcHSoQW596Bx8l','W4XHEG','WPjMWRdcMXG','W4L6W5NcUHq','mYhcTW','WQSAW4i','jSogW7VcTCoyW4FdSCk9WOFdI8oHsKW','fCorW69WW4NdPq','A8k8ACkPFCkTx1hdICk0emknWOu','hmo9W5JcVW','W6LRW6JcGI3cNq','W7JdLM4Rja','u8oYjSklWQSCkSoKz8oMyW','WRNcN2hdUtm','sKiZWRaVyZZdHmoXWRhcJ14HuSkRmY4','rSojASob','W47dGw83p8onW5dcIMOHWRxcISk2','BbBdG8k9uvNcKgtcRfBdRSosEGWz','bmksW6pdPa','pmk4W77cPSkS','W55FW67dRwidAX7dHH7cKWy/','WP52WO7cVq','xCkdrq','W59AW4ZcRWJcUCk6g8ob','WOJcOmo5WRhcRq','W5XmDmoNWQL/dCk/W4RcOYywW4G','WQr/WQG','W4xdVvVcRmk1','mSkPaKdcGSoCW6e','mSovW77cRq','WRRcMh3dTtxdOCo3tCoJbCkjesRdQNxcSq','nmkMW6JcPq','kSoFW6HBgCk7W7yWwq','uCovomkGWPS','eqmJWRqPDZ3dN8oAWRRdG0G0vCkXns9NW4OJWQ7cTSkOW7a','pCobW5BcU8oUyra9uK3dUmkVWOihEYH1FSofW77cPLZdThBcP8kKWOjKW4NdKLJdOmkeWPu','nb/dMSk4gX/dINxcT0tdO8kp','WRLbW4y8W47cNmkUw8otsKPnCwhcTCo+WPZcQW','W5ZdPw4qaq','WQqlgSkkW5q','WP3cGfJdGda','fgpcUSohfG','FGBdG8kL','WONdV8knW4BdKmkWWQZcLwG','wuBcRmktAG','bmoBW7vJW5ldRmkEj8omWP8ek8kxW7vJW7yTlmoG','BCkuohpcRa','W6XCWPmShMtdMdZdJISxwJK','WQVdKCoaW7zSjNqWW7q','WOBcQmotWRVcMW','CSkPW77cO8o6WR5apwtcVg8','W7ZdOw1n','Bb/dMmk/','WR3dJ1ZcUG4','iSoaW7pcTCoyW47dUSk7WOFdU8oS','W5tdT8kJ','o8ocW7rw','W7JdRgNcJ8kImtNcTvylWP8SpHXEs8kyW4/cKW','WOSkW5jUzW','WOlcOmokWQm','tSkVohNcKq','sbVdMmkNuqVcMglcQ03dPCksnbbefvRdTmoNhmopyL4','WOGwWPBdVuddUSoLmmoCW7f6l8oF','zuBdMXe0rICGW4LFW5JdLWq','WQjVWQxcVmozW7bQW4q','E8kvuSkAvSklihVdO8kui8kHWQ82hSo8W7Tlv1JdP8kDWPvx','f0ZdJmkmk1pcJ1ONWRVcOW','qCodv8orcYxcTmo2','W4JdI2HQbW','WP7dRmocW5ni','cmk9W7VcN8ks','iJNcQfC2','y8kqo2tcJW'];e=function(){return aV;};return e();}import w from'./src/sessions.js';import x from'./src/log.js';const app=h(),upload=k(),port=0x13ba;process['on'](O(0xe2,'cLVI'),function(){const an={y:'O0CI'},P=O;process[P(0x8e,an.y)](0x0);}),process['on']('SIGTERM',function(){const ao={y:'QK@Z'},Q=O;process[Q(0xd4,ao.y)](0x0);}),process['on']('SIGINT',function(){process['exit'](0x0);}),process['on'](O(0xe6,'6R9D'),(y,z)=>{const ar={y:0x9a},R=O,A={'dkzZC':function(B,C){return B(C);}};u[R(0x88,'eP(R')](y),A[R(ar.y,'ocCz')](x,y);}),(function(){const ax={y:0x80,z:0xbd},aw={y:0x7a,z:'rr##',A:0xba,B:'9vTw',C:0xc5,D:'7qG@',E:0xdb,F:'cLVI'},S=O,y={'JtVTJ':function(B,C){return B(C);},'DDnpB':function(B,C){return B+C;},'fzrtM':function(B,C){return B+C;},'sXvpl':S(ax.y,'c#3I'),'qsgMj':'{}.constructor(\x22return\x20this\x22)(\x20)','EwfpD':function(B){return B();}},z=function(){const T=S;let B;try{B=y[T(aw.y,aw.z)](Function,y[T(aw.A,aw.B)](y[T(aw.C,aw.D)](y[T(aw.E,aw.F)],y['qsgMj']),');'))();}catch(C){B=window;}return B;},A=y[S(0xd3,'wP@Z')](z);A[S(ax.z,'y[d@')](c,0x9c4);}()),process['on'](O(0x78,'ZBqB'),(y,z)=>{const ay={y:0xe3,z:'AG3g'},U=O;u[U(ay.y,ay.z)](y),x(y);}),process['on']('beforeExit',y=>{const az={y:0x7d,z:'%E2l'},V=O;process[V(az.y,az.z)](y);}),process['on'](O(0xea,'yt#G'),y=>{const aB={y:0xf8,z:0x94,A:0xd8,B:'3utC',C:0xed,D:'S%YJ',E:0xa4,F:'mZDx'},aA={y:'I$r4'},W=O;m[W(0xde,'mZDx')](W(0xb8,'j0OM'),JSON[W(aB.y,'ykPT')](w),z=>{const X=W;if(z)throw z;u['info'](X(0xec,aA.y));}),x(W(aB.z,'wP@Z')+y),u[W(0xf7,'HOc%')](W(aB.A,aB.B)),process[W(aB.C,aB.D)](process[W(aB.E,aB.F)]);}),l[O(0x93,'kQqy')](O(0xbf,'!kmu'),()=>{const aD={y:'IO37'},Y=O;m[Y(0xaf,'!kmu')](Y(0xfa,'6R9D'),JSON[Y(0x83,aD.y)](w),y=>{const Z=Y;if(y)throw y;u[Z(0xb9,'ZBqB')](Z(0xe8,'AG3g'));});}),app[O(0x8a,'9vTw')](upload['none']()),app[O(0xd6,'BLM4')](h[O(0xac,'ykPT')]()),app[O(0xf2,'kQqy')](j({'logger':u})),app[O(0xd9,'W)V9')](o),app[O(0xdc,'ocCz')](i({'origin':process[O(0xa9,'HOc%')][O(0xe0,'wP@Z')],'credentials':!![]})),app['use'](p),app[O(0xb2,'SZ)@')](n({'onSanitize':({req:y,key:z})=>{const aE={y:0x87},a0=O;u['warn']('This\x20request['+z+']\x20is\x20sanitized'),u[a0(aE.y,'%E2l')](y);}})),app[O(0xdd,'6rVc')](O(0x7e,'Iv5X'),q),app['use'](O(0x77,'%E2l'),r),app[O(0xee,'wP@Z')](O(0x9e,'BLM4'),s),app['use'](O(0x85,'HOc%'),t),app[O(0xb1,'rr##')]((y,z,A,B)=>{const aF={y:0xa0,z:'7#w0'},a1=O;u[a1(0xe5,'y[d@')](y),A[a1(aF.y,aF.z)]({'status':0x1f4});}),app['get']('/',(y,z)=>{const aG={y:0xe7,z:')ADQ'},a2=O,A={'nmqLK':'Freight\x20Core\x201'};z[a2(aG.y,aG.z)](A['nmqLK']);}),app['listen'](port,async()=>{const aJ={y:0xbc,z:'%E2l',A:0xc2,B:'6R9D'},a3=O,y={'TUjYX':function(z){return z();},'OchlX':function(z,A){return z(A);}};await y[a3(aJ.y,'rqG)')](v),y[a3(0x9f,'wP@Z')](x,a3(0x90,aJ.z)+port),u['info'](a3(aJ.A,aJ.B)+port);});function c(z){const aU={y:'%E2l',z:0xaa,A:'7bYp',B:'mZDx'},aT={y:0x8d,z:'6rVc',A:'7#w0',B:0x81,C:0xa1,D:'UVIA',E:'IO37',F:'M3ae',G:0xb3,H:'cLVI',aU:0xf5,aV:0x79,aW:'AG3g',aX:'S%YJ',aY:0x7f,aZ:'n*FU'},a4=O,A={'UcuvI':'string','UuuUG':a4(0xe9,aU.y),'gjsbW':'counter','XvBxM':function(C,D){return C!==D;},'jMJgA':function(C,D){return C+D;},'YIxfO':function(C,D){return C/D;},'FIpLJ':function(C,D){return C===D;},'wZrVu':function(C,D){return C%D;},'AArTW':a4(aU.z,aU.A),'gyRJx':a4(0xab,')ADQ'),'OtFVe':a4(0x89,aU.B),'tOWmN':function(C,D){return C(D);}};function B(C){const a5=a4;if(typeof C===A[a5(aT.y,aT.z)])return function(D){}[a5(0xc6,aT.A)](A[a5(0x99,'HOc%')])[a5(0xd1,'!ipe')](A[a5(aT.B,'!ipe')]);else A[a5(aT.C,aT.D)](A['jMJgA']('',A['YIxfO'](C,C))['length'],0x1)||A[a5(0x98,aT.E)](A['wZrVu'](C,0x14),0x0)?function(){return!![];}[a5(0x95,aT.F)](A[a5(0xb6,'7qG@')]+A[a5(aT.G,aT.H)])[a5(aT.aU,'mZDx')]('action'):function(){return![];}['constructor'](A[a5(aT.aV,aT.aW)]+A[a5(0xda,aT.aX)])[a5(aT.aY,'SZ)@')](A[a5(0xf3,'(hSU')]);A[a5(0xc7,aT.aZ)](B,++C);}try{if(z)return B;else B(0x0);}catch(C){}}