import{R as S,r as c,j as e}from"./BfF3Wqld.js";import{F as r,w as k,x as A,u as f,n as g}from"./DWwWT_HF.js";import{R as E}from"./D-NbB0As.js";import{E as R}from"./De0mFXYB.js";import{d as _}from"./DVKfn1E0.js";import{c as I,C as F,I as q,J as L,N as P,P as T,O as D,K,Q as o,R as n,L as i,S as B,M as C}from"./BCdW2lb8.js";import"./DnfDba0r.js";import"./BGpjnhzs.js";import"./DvvY1obw.js";import"./6ijCBLRz.js";import"./8JwjhRSi.js";import"./D3kAHpSt.js";import"./BQBsAJpH.js";import"./DLZ1bwg6.js";import"./CzFDRTuY.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const ae=()=>{const N="6LcbAQopAAAAAPqiUSbgE4FWJrHdKfpFIK_s6rU-",l=_(),p=S.useRef(),[u,y]=c.useState({email:"",first_name:"",last_name:"",password:"",repeat_password:"",recaptcha_ref:""}),[v,h]=c.useState(!1),[x,j]=c.useState({error:!1,message:""});c.useEffect(()=>{if(cookies.get("RCTSESSION")!==void 0)return l("/")},[]);const a=d=>{const{id:m,value:t}=d.target;y(s=>({...s,[m]:t}))},w=async d=>{d.preventDefault(),h(!0);const m=await p.current.executeAsync(),t=new FormData;for(const s in u)t.append(s,u[s]);t.append("recaptcha_ref",m),await axios.post("https://backend-core1.axleshift.com//api/v1/auth/register",t,{headers:{}}).then(s=>{s.data.error||l("/login"),j({error:!0,message:s.data.error})}).catch(s=>{console.error(s);const b=R[s.status]||"An unexpected error occurred";j({error:!0,message:b})}).finally(()=>{h(!1)})};return e.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:[e.jsx("div",{className:"auth-bg"}),e.jsxs(I,{children:[v&&e.jsx("div",{className:"loading-overlay",children:e.jsx(F,{color:"primary",variant:"grow"})}),e.jsx(q,{className:"justify-content-center",children:e.jsx(L,{md:8,lg:6,xl:5,children:e.jsxs(P,{className:"p-1 p-md-4",children:[e.jsxs(T,{children:[x.error&&e.jsxs(D,{color:"danger",className:"d-flex align-items-center",children:[e.jsx(r,{className:"flex-shrink-0 me-2",icon:k,size:"xl"}),e.jsx("div",{children:x.message})]}),e.jsxs(K,{onSubmit:w,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(E,{ref:p,size:"invisible",sitekey:N}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:A})}),e.jsx(i,{id:"email",placeholder:"Email",autoComplete:"email",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:f})}),e.jsx(i,{id:"first_name",placeholder:"First Name",autoComplete:"given-name",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:f})}),e.jsx(i,{id:"last_name",placeholder:"Last Name",autoComplete:"family-name",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:g})}),e.jsx(i,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-4",children:[e.jsx(n,{children:e.jsx(r,{icon:g})}),e.jsx(i,{id:"repeat_password",type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(B,{children:[e.jsx(C,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(C,{color:"primary",className:"me-2 rounded",onClick:()=>l("/login"),children:"Login"})]})})]})]}),e.jsx("div",{className:"ms-auto",children:e.jsx("a",{href:"https://stats.uptimerobot.com/5l58Mua0Wi",target:"_blank",rel:"noopener noreferrer",className:"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",children:"System Status"})})]})})})]})]})};export{ae as default};
