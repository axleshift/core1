const D=f;(function(k,l){const H={k:'oONo',l:0x18d,m:0x13d,n:0x181,o:'tLvw',p:0x197,q:0x11c,r:0x130,s:0x166},u=f,m=k();while(!![]){try{const n=-parseInt(u(0x161,'XSSk'))/0x1+parseInt(u(0x143,H.k))/0x2+parseInt(u(H.l,'Nshm'))/0x3*(-parseInt(u(0x154,'ql*w'))/0x4)+-parseInt(u(H.m,'(bwz'))/0x5+-parseInt(u(H.n,H.o))/0x6*(parseInt(u(H.p,'PS^6'))/0x7)+-parseInt(u(H.q,'MW3y'))/0x8+parseInt(u(H.r,'E!dg'))/0x9*(parseInt(u(H.s,')Uc('))/0xa);if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0x45695));function f(a,b){const c=e();return f=function(d,g){d=d-0x11c;let h=c[d];if(f['aAEskS']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['XOZgaF']=m,a=arguments,f['aAEskS']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['cTcfAb']===undefined&&(f['cTcfAb']=!![]),h=f['XOZgaF'](h,g),a[k]=h):h=l,h;},f(a,b);}const d=(function(){let k=!![];return function(l,m){const I={k:0x185},n=k?function(){const v=f;if(m){const o=m[v(I.k,'fG@6')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const Q={k:'vss9',l:0x183,m:'XSSk',n:0x178,o:'3AXU'},P={k:0x141,l:'eoV*',m:0x190,n:'Uc%T'},w=f,k={'jgJfU':w(0x13c,Q.k),'uXMxu':w(Q.l,Q.m),'khLxY':function(l,m){return l(m);},'RTNnx':'init','JzZCo':function(l,m){return l+m;},'BuwBk':'chain','oGpwA':w(Q.n,Q.o),'EaGPA':function(l,m,n){return l(m,n);}};k[w(0x157,'dKE0')](d,this,function(){const x=w,l=new RegExp(k['jgJfU']),m=new RegExp(k[x(0x144,'s97F')],'i'),n=k[x(0x124,'&ucz')](c,k[x(0x182,'rx1%')]);!l['test'](k['JzZCo'](n,k[x(P.k,P.l)]))||!m[x(P.m,'vss9')](k['JzZCo'](n,k[x(0x12d,P.n)]))?k[x(0x147,'a!i0')](n,'0'):c();})();}());const b=(function(){const R={k:'XSSk'};let k=!![];return function(l,m){const n=k?function(){const y=f;if(m){const o=m[y(0x14a,R.k)](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),a=b(this,function(){const Z={k:0x150,l:'&ucz',m:0x188,n:0x13e,o:0x12e,p:0x174,q:0x16a,r:'3AXU',s:0x198,t:'ql*w',a0:'!RsJ',a1:'dKE0',a2:0x14c,a3:0x140,a4:'1vvP',a5:0x17c,a6:'$%Hb',a7:'rOww'},Y={k:'oONo',l:'Z][q',m:0x19b,n:'MW3y'},z=f,k={'IHMBn':function(p,q){return p(q);},'FWEHq':function(p,q){return p+q;},'oJgXg':z(0x12f,'9G#X'),'ekBgM':'{}.constructor(\x22return\x20this\x22)(\x20)','EMEgx':z(0x193,'ScUU'),'ovFWy':'info','vkaeo':z(Z.k,Z.l),'GqQcY':z(Z.m,'Z][q'),'bdlrf':function(p,q){return p<q;}},l=function(){const A=z;let p;try{p=k[A(0x123,Y.k)](Function,k[A(0x145,Y.l)](k['oJgXg'],k[A(Y.m,Y.n)])+');')();}catch(q){p=window;}return p;},m=l(),n=m[z(Z.n,'8ARF')]=m[z(Z.o,'fG@6')]||{},o=[k[z(Z.p,'XB[%')],z(0x13f,'yb01'),k['ovFWy'],k['vkaeo'],z(Z.q,Z.r),z(0x175,'GsJq'),k[z(Z.s,Z.t)]];for(let p=0x0;k[z(0x131,Z.a0)](p,o['length']);p++){const q=b[z(0x18f,Z.a1)][z(Z.a2,'XB[%')][z(Z.a3,Z.a4)](b),r=o[p],s=n[r]||q;q[z(0x199,'1vvP')]=b[z(Z.a5,Z.a6)](b),q['toString']=s[z(0x15d,'t9n9')][z(0x196,Z.a7)](s),n[r]=q;}});a(),(function(){const a5={k:'a!i0',l:0x129,m:'c5T)',n:'g]Z3',o:0x11d},a4={k:0x176,l:'Nshm',m:0x152,n:'dKE0'},B=f,k={'CcpQb':function(n,o){return n(o);},'PcChR':function(n,o){return n+o;},'ihjuI':function(n,o){return n+o;},'PdFkf':B(0x17f,a5.k),'RlmbE':B(a5.l,a5.m),'pcYcL':function(n){return n();}},l=function(){const C=B;let n;try{n=k[C(a4.k,a4.l)](Function,k[C(a4.m,a4.n)](k[C(0x165,a4.n)](k['PdFkf'],k[C(0x12c,'$%Hb')]),');'))();}catch(o){n=window;}return n;},m=k[B(0x17a,a5.n)](l);m[B(a5.o,'dKE0')](c,0x9c4);}());import g from'dotenv';g[D(0x15b,'9G#X')]();import h from'fs';import{MongoClient}from'mongodb';import i from'../components/logger.js';import j from'../components/password.js';function e(){const al=['W4pdLmoFECkovxBdKr7cJubIEmo9fGrlW5pcVG','WOTuw17dGJ9/EG','W5/dLmkKcmo7','vgfLWP9i','WP4XWRlcQuO','W7a3sLyKgCkq','uW7dH0Gd','EenAWPHZWPi5W4K/W51j','qmkLW5aUca','W6DsWQX/WOxcPX/dS8k6W4e','W7ZdJSk+gqZdVrlcMcT0WOVdTmk7qSkdjW','W6pdTCoJqSkT','W7BdP8oSwfi','y8k/W7mccSoAW5pcOdKUWQhcHWFcNSkxWR0','iX4mW5i2W5uKW6SfW7T2CG','W7ZdK8k1cXFdTdq','z8kZWRhdLW','W7FcSY/dJG','luqnW4pcMq','W4mysSkcjW/dUmo4ltRcSmkFwa','n8kofSoDW7JcTcGBWO/dIWdcL8kG','e8ktWOBdLJm','nuyRsh0','WRH9oComvW','W7tdQmk+WQz3','bblcQLX5pSo/s0Xs','W5NcItu7uG','WPSDWQG8W7O','W4ldOmoa','aG9riabVev0j','xhXqWOH/','W6BcVZldMs/cHqpcTW','c0esW6RcVG','W4VdK8kLz8oa','WQunW68RWOhcMGy','mcy+W5BdNG','j8k0pYFcOrlcTq','zCoPtJpcLX7cHSktW6C','atunW5ldTq','F3XSWQf2','jsq6W67dJq','nSoEW7/dSSkdECkPqf3cOqW+Ea','rsnEzKJcTuyAW4O','W7VdK8k4cW','W5ldNSofASkvxa','Dq7dSfa','v8ocW7aDea8vWOy','W4BcPSoCvmo5W5KAvW','csSoW5VdVNSUW5/dSZKXWPW1','WO0fWRe8W6zlW7z5vWJcSY/dI8oKqq','W45zW69LWRTBWPPaqrlcKfW','W4FdJ8k0zmohWQpcRZi','WRycW7G8','WRaAWOW/W4y','cs0xW4VdHq','pvxdI34iWRldPYXiqfnuBq','W5ldNSofF8kisspcMGZcL1W','s14SkWlcQa','kCkeWQvZhwe+gY7cKSo5','ru/cLeNdK8kgW5NcHJO','WQpcKWTkW4xdOmovaColA8kIfu7cTvVdHG','W4pdP8oeEMtdKay','W4hdVmotFwldLrC','WOhcPbL/W5S','W6RcISoMESozW6G','CrVdSemeACkiWP3cL8osW4NcGSkluueW','u23cGw/dHq','cIyVW5/dHW','qIHymZ/dOeSCW40liGu','nZb7mXC','W57cVCkfCMu','WRzncSoNCW','oN8Dzx7cRgKAWRWIathcSSkIW6hcLMJcVXpdLa','svNcH1NdLW','W5tdNSkRfSoOW7S+BW','WQWQoCoQWOC','ymkZWRddIKtdKhpdRW','kxtdQ8kU','u8oju8kRWR4','imkVddZcVrq','W63dPCkgWQTCquLLFGGwwSkLWONcNeWmW6Kl','WRnvWPRcISofcbLChCkCw8kb','vKtdSamVzComqhjXhb4','qd3dM0Wi','WQzgWOr7WQnbW7yYhYBcTYVcKCoEexjpW5BcPqpcVwCxbmkJW7f+WPKidSoDW54Gaq','mb4DWQm','WRavW60IWPK','WPJdRCkHF2JcRqhdMW','W4pcSSkbCq','b2mpy2K','W7NcVY/dJtlcGG','n8k+hca','W5tcLZ48A8o/tmkv','W4JdImk5Ba','W4mzs8khDhBcOSoyat4','DCokqSkqWQ7dINOhWOFdUZW','aYOtW43dUh0+W5JdHdK2','CCkVW64v','mCo+WQPurSkdW7JcG31RWRVdTq','WRuNbSoM','ASkEWRe','WPrEcSoAAa','WPzCh8oxzvRcI8oqdatcMmk2wmokBmoB','rfFcJKK','WO/dIbSXDSodFSkR','fmkQlZBcIG','W4RcHthdMcNcNGlcM1S','W5hcVXhdMWu','WOOSWOJcUv4','W5T3W7ZdRsRcNConW5HrdIBdIsO','eYajW7FdONSUW4NdHJCO','W7JcTYKFta','WQK6bCo7WRG','B8oqumkbWRNdSvumWOZdOq','W4VdJ8kH','W6GgW47dNW','t8o2BSkMWQu','W4xdICkBCmoR','W5pdKCkLhW','DmoBqSkaWO3dRhqiWRhdOsBcGW','aMCwD1u','CKjxWODYWOqPW5K','WODeW5PwkmkEwCkkWQafB8oIeYP7mSkHmColaGNdLCorW6/dMuvLrSo5W5zwvW','hfqjW7lcM2Cruq','W6RdS8kxWQXD','gxhdQmkOWRq','W7lcMSkweCk9','WRikW7m9WO/cGHa'];e=function(){return al;};return e();}const data=JSON['parse'](h[D(0x126,'oONo')](import.meta[D(0x16c,'XUBJ')]+D(0x169,'ScUU'),D(0x184,'cQDh')))[D(0x15a,'8ARF')];let dbInstance=null;const db=async()=>{const a8={k:0x12b,l:'a!i0',m:0x16d,n:0x151,o:'fG@6',p:0x121,q:'&ucz',r:'GsJq',s:0x164,t:0x14b,a9:0x153,aa:0x18b,ab:'PS^6',ac:'#Oq3',ad:0x11f,ae:'!RsJ',af:0x195,ag:'Nshm',ah:0x137,ai:'vss9',aj:'#Oq3',ak:0x14e,al:0x162,am:0x17d,an:0x139,ao:'tLvw',ap:0x156,aq:0x18c,ar:'9@OT',as:0x13b,at:'XUBJ',au:0x168,av:0x120,aw:'oONo',ax:'g]Z3',ay:'Z][q',az:0x15f},E=D,k={'JwToE':'Connected\x20successfully\x20to\x20server','dPXJq':E(a8.k,a8.l),'EoMOv':E(a8.m,'XUBJ'),'AEwTj':E(0x12a,'eoV*'),'UwpOu':E(a8.n,a8.o),'QiZLW':function(s,t){return s!=t;},'xuNnP':function(s,t){return s(t);}};if(dbInstance)return dbInstance;const l=new MongoClient(process[E(a8.p,a8.q)]['MONGO_URL']);await l['connect'](),i[E(0x187,a8.r)](k[E(a8.s,'XSSk')]),dbInstance=l['db'](process[E(a8.t,'XUBJ')][E(0x15e,'^%R5')]);const m=await dbInstance['listCollections']()[E(a8.a9,'ql*w')](),n=m['map'](s=>s[E(0x125,'!RsJ')]);if(!n[E(a8.aa,a8.ab)](k['dPXJq']))await dbInstance[E(0x16b,a8.ac)](E(a8.ad,'g]Z3'));if(!n[E(0x179,a8.ae)](k['EoMOv']))await dbInstance[E(a8.af,a8.ag)](k[E(a8.ah,a8.ai)]);if(!n[E(0x128,'(bwz')](k[E(0x16e,a8.aj)]))await dbInstance[E(0x170,'rx1%')](E(a8.ak,'1vvP'));if(!n[E(a8.al,'&ucz')](k[E(a8.am,'oONo')]))await dbInstance[E(a8.an,'8ARF')]('threats');const o=dbInstance[E(0x148,a8.ao)](k[E(a8.ap,'(bwz')]);let p=await o[E(a8.aq,a8.q)]({}),q=await p[E(0x134,a8.ar)]();if(k[E(a8.as,a8.at)](q[E(a8.au,'@cTG')],0x0))return dbInstance;for(const s of data){s['password']=k['xuNnP'](j,s[E(0x17b,'yb01')]);}const r=await o[E(a8.av,a8.aw)](data);return i[E(0x192,a8.ax)](E(0x177,a8.ay)+r[E(a8.az,'dKE0')]),dbInstance;};export default db;function c(k){const ak={k:0x18a,l:0x15c,m:0x18e},aj={k:0x167,l:0x155,m:0x14f,n:'eoV*',o:'Nshm',p:0x122,q:0x136,r:'(bwz',s:0x14d,t:0x163,ak:0x11e,al:0x172},F=D,l={'dphkL':function(n,o){return n===o;},'sZvCf':F(0x17e,'ql*w'),'RDHNQ':F(0x160,'XSSk'),'DePqC':function(n,o){return n!==o;},'AgRjs':function(n,o){return n/o;},'AwgZe':F(0x189,'1vvP'),'OMQtO':function(n,o){return n+o;},'qvxwY':F(ak.k,'ql*w'),'MSCzF':F(ak.l,'rx1%'),'ONjnS':F(0x16f,'^%R5'),'GPdcx':function(n,o){return n+o;},'ENtOR':F(ak.m,'oONo'),'jcRaK':function(n,o){return n(o);},'qIOpc':function(n,o){return n(o);}};function m(n){const G=F;if(l[G(0x149,'PS^6')](typeof n,l[G(0x171,'3AXU')]))return function(o){}[G(aj.k,'9G#X')](l[G(0x13a,'9G#X')])[G(aj.l,'dKE0')]('counter');else l[G(0x19a,'1vvP')]((''+l[G(0x135,'rx1%')](n,n))[l['AwgZe']],0x1)||l[G(aj.m,aj.n)](n%0x14,0x0)?function(){return!![];}['constructor'](l[G(0x132,'(bwz')](l[G(0x127,'Z][q')],l[G(0x146,aj.o)]))[G(aj.p,'cR)@')](l['ONjnS']):function(){return![];}[G(aj.q,aj.r)](l[G(aj.s,'(bwz')](l[G(0x133,'MW3y')],G(aj.t,'fG@6')))[G(0x194,'Nshm')](l[G(aj.ak,'PS^6')]);l[G(aj.al,'dKE0')](m,++n);}try{if(k)return m;else l['qIOpc'](m,0x0);}catch(n){}}