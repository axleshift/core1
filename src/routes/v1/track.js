const C=f;(function(m,n){const H={m:0x20b,n:'mi4c',o:0x1fa,p:'I[P$',q:'Udw4',r:0x234,s:'$XmU',t:0x246,u:0x201},w=f,o=m();while(!![]){try{const p=-parseInt(w(H.m,H.n))/0x1+-parseInt(w(0x23b,'61Y0'))/0x2+parseInt(w(H.o,'k]%v'))/0x3+parseInt(w(0x247,H.p))/0x4+parseInt(w(0x212,H.q))/0x5+parseInt(w(H.r,H.s))/0x6*(-parseInt(w(H.t,'pp$1'))/0x7)+parseInt(w(H.u,'&*ap'))/0x8;if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x74c7c));const d=(function(){let m=!![];return function(n,o){const I={m:0x204,n:'i)pl'},p=m?function(){const x=f;if(o){const q=o[x(I.m,I.n)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const R={m:0x25a,n:'cxq1',o:0x1f9,p:'IyYs'},Q={m:'I[P$',n:0x1fd,o:'k]%v',p:']KZY',q:'XgiQ',r:0x21f,s:'k]%v',t:0x21d,u:'Y@g*'},y=f,m={'eVVtJ':y(R.m,'XgiQ'),'fmygx':function(n,o){return n+o;},'rlOau':y(0x216,R.n),'hzZBL':function(n,o){return n(o);},'ldGko':function(n){return n();},'DIrGE':function(n,o,p){return n(o,p);}};m[y(R.o,R.p)](d,this,function(){const z=y,n=new RegExp(z(0x238,Q.m)),o=new RegExp(m['eVVtJ'],'i'),p=c('init');!n[z(Q.n,Q.o)](m[z(0x259,Q.p)](p,m[z(0x244,Q.q)]))||!o[z(Q.r,'O(]5')](m['fmygx'](p,z(0x235,Q.s)))?m[z(Q.t,'mjbT')](p,'0'):m[z(0x209,Q.u)](c);})();}());const b=(function(){const S={m:'#p2O'};let m=!![];return function(n,o){const p=m?function(){const A=f;if(o){const q=o[A(0x25f,S.m)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const Z={m:']KZY',n:0x251,o:'mi4c',p:0x206,q:0x202,r:0x22f,s:0x24e,t:0x207,u:'x&5s',v:'T2xM',a0:0x1f6,a1:'nKEu',a2:'MnG(',a3:'et38',a4:'ohYW',a5:0x25e,a6:'sQ$%',a7:'et38',a8:'CDWH'},B=f,m={'gKUzP':function(q,r){return q+r;},'xvdxe':B(0x23e,Z.m),'zeKTi':B(Z.n,Z.o),'QqHQY':function(q){return q();},'eTtFA':B(Z.p,'Udw4'),'GBjxj':'error','OKNgf':B(0x232,'MnG('),'NkOqu':B(Z.q,'#p2O'),'YJSJy':B(0x228,'T2xM'),'NYeij':function(q,r){return q<r;}};let n;try{const q=Function(m['gKUzP'](m[B(0x20d,'k]%v')](m[B(Z.r,'$XmU')],m[B(0x249,')LVI')]),');'));n=m[B(Z.s,'cxq1')](q);}catch(r){n=window;}const o=n['console']=n['console']||{},p=[m[B(Z.t,Z.u)],B(0x230,Z.v),'info',m[B(0x220,'F16M')],m[B(0x23f,Z.u)],m['NkOqu'],m[B(0x1ff,'mjbT')]];for(let s=0x0;m[B(Z.a0,'O(]5')](s,p[B(0x225,Z.a1)]);s++){const t=b[B(0x214,Z.a2)][B(0x241,Z.a3)]['bind'](b),u=p[s],v=o[u]||t;t[B(0x222,Z.a4)]=b[B(Z.a5,')LVI')](b),t[B(0x22c,Z.a6)]=v[B(0x223,Z.a7)][B(0x24f,Z.a8)](v),o[u]=t;}});a();import g from'dotenv';g[C(0x243,'*1tA')]();import{ObjectId}from'mongodb';function f(a,b){const c=e();return f=function(d,g){d=d-0x1f4;let h=c[d];if(f['AZCqCl']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['GwLItC']=m,a=arguments,f['AZCqCl']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['PXZXVh']===undefined&&(f['PXZXVh']=!![]),h=f['GwLItC'](h,g),a[k]=h):h=l,h;},f(a,b);}import h from'express';import i from'../../components/logger.js';import j from'../../models/db.js';function e(){const ag=['BZ0vW5VdUa','W5PlddH0','nmkoCSk6WRxcIW','Cmk9AWJcPxVcLSkwW5ddGrJdQ8ol','WOH8xaNdNG','z8omW7GpWOWlWRvmWOFdUa','v8orqCklWQe','mGCKW5rP','jCo6W5NcJ8op','W7RcUmk1ha','W5ffgXzv','qSkqu8oGgftdUColjI/dJCoLDW','W7hcHreZtW','WQCDWPpcJCoZWRq9W7hdVCkLfmoQfw/dUxX3WRVdU1JdTmkQsSkzECkHwHm','b8obe8kN','WPTcCHhdOq','WPTdW4BdSaq','WO11W6/cKSk1','WQRdJ8olWOhcK8kYjHNcRXxcPr7cMq','EIWhW5VdPa','qY4sW57dKW','W7/dUrVdImkP','WRjOW6FdMXaa','xCoXyW','uSo8xatcOa','WQOYqItcGCk4WRldK8kIWPK','W5ZcUaaxrW','WQ3dHYxdT8kR','WRngAqSpe8oddmkyBhvC','jmoQdLldHG','fmoVnCkPFW','qcyDW63dRq','e8kUk0tcJa','WRHnW5lcG8kXyq','BsiqW5NdTCkhpW','bCkRpmopW7NcVSkPwHzcW6zuWOm','WPVcIgtcGKxdU8ol','WP7cLw/cMfBdOCokW6XiWQNcQa','WRFdLmosWR7dT8oe','ocxcUM4N','WPNcTZtdKW','FtKxW57dR8kf','W7PZh3hdJCoRW6ldLCkpWO4ZWP3cLq','F8kebX0','WORdMWyfuG','DhFcSMm','WQPZW4/dUde','W6/cNSkHW5JdQG','cdSYW4K','WPHHa2VdSa','W5NdPZy8uabM','WOSQWORcJ8oSWQK8W4NdVq','WONcUrpdHIbrixq','fmodbCkH','DmkgdaJcHmkr','WROOtJxcHCk0WRJdQW','WOTzlCokW5VdUmkyoc/dIb5i','jSoTW6NcNmoC','WRFdGbNdQ8kd','mSoSmK3dOYldI8kKW7VdTWddKSoUa8ohqXPoW59JW6RdUmk6uW','WQpdHJW','cSkCbtvGWOSAFG','W6tdObpcG2u','WRpcM2xdGt5qWOFdUMRdMX15fa','WRe2qZ3cKa','jCo+W7RcKq','WPuiW4GrBtJcRxtcLmk6WQtdMM4','WPJcGMlcJLldP8owW6bs','W6mcD8kbWR0','W78ozrpcHCkBWPq','gSokemkMwW','W7xcSYtcGa','W7hdMZFcHNWw','W64DW4jhaJJdNcpdHmkgW5yHpbDcW7G','CCkDWQtcG8o1WRlcKCoEWOmOnXRdMbZdT8k/bSkug0BdPCksuCk3','W6JcVSkWhCo1','WRpcNw7dHJTDWOpdKNJdUZfafW','mSoSmK3dOYldI8kK','h8kqiIH9WOW','W67cTmkVdCoPFCoTWQddJZzxWOn1fWLkCmk8WRe','EmoJzIxcHW','W6CsbmkSWRC','WO3cPc/dHJ1mnMpcTa','W7zJbYjKjuz2eCkfWRC','wbPPgIhcKW','mCkAmxxcSq','W70khmkS','WPhcLSovhSooheBdMmomWQ9lxXm','WRLFWPSvrglcGqZcRCoiW6zfzG','W73dQaFdIa','WOtcUYtdMu0','FuG8kdW','cCkBpY13W4jCBCktWQOesudcSSoq','W4RdNmkkrq','W5OAt8kLWQjZWPFcJmojWRJcT8kJFepdVSkSWPn0W6lcKs3dOcxdRbldUaBcO8kVW5RcU8o8WQWOhXpdGmoo','cJZcK1yq','kaRcSmog','W7Gpc8kLWQrZW5pcO8oAWQK','W7anF1Ptt8otl8koDKrWACkRmCkcWQVcGmoxWO4ZBNn6wYdcHb/dHHddOfy','W5xcUmkweSom','BmkmiX3cGSkyWRW','W5JcKCkrW4tdVa','WOZdHHOzvdrrmCork04','WOZdMXelvcnadCoema','W6jiWPvmogJdQtlcICkSWPhcL1T+W7VcR2tcMCkCeSkdW48lW54nW6xcJ8kGaMRdRmkcW43cLeVcGCoXW6XnWO/cVG','eSouemk/vG','W7RcVmkIh8oJ','h8oDiJ/dPmkbxLVcHvtcGc/cN8k3tmoWpHxdTNu1WOeNWQpdLmkEBa8kWPvAW7pcMcS','WRyyWQJcQSoW','WRO0rJhcGmkU','lmkyxMBcQ8oEaGe','WPZcTWhdQq'];e=function(){return ag;};return e();}import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUser}from'../../components/sessions.js';const router=h[C(0x210,'r95R')]();(function(){const D=C,m={'bRudZ':'return\x20(function()\x20','kbdRk':'{}.constructor(\x22return\x20this\x22)(\x20)'};let n;try{const o=Function(m['bRudZ']+m[D(0x24a,'1a*c')]+');');n=o();}catch(p){n=window;}n['setInterval'](c,0x9c4);}()),router[C(0x22b,'(HA5')](C(0x21c,'cxq1'),k,async(m,n)=>{const a4={m:'MnG(',n:0x257,o:'#mTt',p:0x25d,q:'XgiQ',r:0x203,s:'#p2O',t:0x23a,u:0x205,v:0x215,a5:0x20a,a6:'(HA5',a7:0x20c,a8:0x1f8,a9:']KZY',aa:0x253,ab:'nKEu',ac:0x237,ad:0x236,ae:'0txG',af:'r95R',ag:0x208,ah:'$XmU',ai:'YH]V',aj:'YH]V',ak:0x24d,al:'POUA',am:0x25b,an:'ohYW',ao:0x24c,ap:'pp$1',aq:0x226,ar:0x22a,as:'et38',at:'7G%2',au:'Y@g*'},E=C,o={'McwiR':function(p,q){return p(q);},'idmjG':function(p){return p();},'enUoU':E(0x213,a4.m),'gWHea':'Freight\x20is\x20placed','IEBKz':function(p,q){return p!==q;},'bmRWs':E(a4.n,a4.o),'AYVOg':E(a4.p,a4.q)};try{const p=await o[E(a4.r,a4.s)](getUser,m[E(a4.t,']KZY')]),q=m[E(a4.u,'mjbT')]['id'];if(!q)return n[E(a4.v,'pzou')](0x190)['send']();const r=await o[E(a4.a5,a4.a6)](j),s=await r['collection'](o[E(a4.a7,'7G%2')])[E(a4.a8,a4.a9)]({'user_id':new ObjectId(p['_id']),'_id':new ObjectId(q)})[E(a4.aa,a4.ab)]();if(!s['length'])return n[E(a4.ac,'61Y0')](0x194)[E(a4.ad,a4.ae)]();const t=[];t['push']({'date':s[0x0][E(0x1f4,'ca&c')],'description':o[E(0x200,a4.af)]});if(o['IEBKz'](s[E(a4.ag,a4.ah)],s[E(0x250,a4.ai)]))t['push']({'data':s[0x0]['updated_at'],'description':E(0x239,'&)09')});t[E(0x245,a4.aj)]({'date':s[0x0]['created_at'],'description':E(a4.ak,'YH]V')}),t['push']({'date':s[0x0][E(0x256,a4.al)],'description':o[E(a4.am,a4.an)]});const u=[{'lat':37.7749,'lng':-122.4194},{'lat':34.0522,'lng':-118.2437},{'lat':40.7128,'lng':-74.006}];return n[E(0x25c,'$XmU')](0xc8)[E(a4.ao,a4.ap)]({'events':t,'origin':s[0x0]['data'][E(a4.aq,'$XmU')][E(a4.ar,'7G%2')],'destination':s[0x0][E(0x217,a4.as)][E(0x23c,a4.at)][E(0x1fc,'ohYW')],'status':o[E(0x1fb,a4.au)],'markerPositions':u});}catch(v){i[E(0x21b,a4.al)](v);}return n['status'](0x1f4)['send']();});export default router;function c(m){const af={m:0x211,n:0x261,o:'s7Cb',p:0x23d,q:'sQ$%',r:0x21a},ae={m:0x22d,n:0x240,o:0x255,p:'sQ$%',q:'k]%v',r:0x21e,s:'&*ap',t:'T2xM',u:')1F[',v:0x229,af:'(HA5',ag:'#p2O',ah:'i)pl',ai:0x20f,aj:'XgiQ',ak:'IyYs',al:0x263},F=C,n={'fOEql':function(p,q){return p===q;},'jmkhg':F(0x218,'#p2O'),'vbRmA':F(af.m,'#p2O'),'weQpv':function(p,q){return p!==q;},'PmbyU':function(p,q){return p+q;},'scQvo':function(p,q){return p/q;},'NkxZl':F(af.n,af.o),'Izrix':function(p,q){return p%q;},'OGeid':'debu','PXUPH':F(af.p,af.q),'CSLaj':F(af.r,'nKEu'),'AmbqW':'stateObject','IiMjW':function(p,q){return p(q);}};function o(p){const G=F;if(n[G(ae.m,'61Y0')](typeof p,n[G(ae.n,'YH]V')]))return function(q){}[G(ae.o,'POUA')](G(0x24b,ae.p))[G(0x258,ae.q)](n[G(ae.r,ae.s)]);else n[G(0x1f7,ae.t)](n[G(0x1fe,ae.u)]('',n[G(ae.v,ae.af)](p,p))[n[G(0x20e,ae.ag)]],0x1)||n[G(0x1f5,'Udw4')](n['Izrix'](p,0x14),0x0)?function(){return!![];}['constructor'](n[G(0x260,'IyYs')]+G(0x224,'k]%v'))[G(0x248,ae.ah)](n[G(ae.ai,ae.aj)]):function(){return![];}[G(0x242,ae.ak)](n[G(0x233,'S(hJ')](n['OGeid'],n[G(ae.al,ae.u)]))['apply'](n[G(0x254,'&*ap')]);n[G(0x252,']KZY')](o,++p);}try{if(m)return o;else o(0x0);}catch(p){}}