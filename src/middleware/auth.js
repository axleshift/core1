function f(a,b){const c=e();return f=function(d,g){d=d-0x14e;let h=c[d];if(f['PFKILZ']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['JCQANu']=m,a=arguments,f['PFKILZ']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['vQKKoe']===undefined&&(f['vQKKoe']=!![]),h=f['JCQANu'](h,g),a[k]=h):h=l,h;},f(a,b);}(function(h,i){const C={h:0x166,i:'l1pA',j:0x156,k:'Cxmt',l:0x189,m:'nflT',n:0x17f,o:'QcKa',p:'*gTC',q:'39bM',D:0x165,E:0x15b},r=f,j=h();while(!![]){try{const k=parseInt(r(C.h,'onpW'))/0x1*(parseInt(r(0x1a3,C.i))/0x2)+-parseInt(r(C.j,C.k))/0x3+-parseInt(r(0x181,'QcKa'))/0x4*(parseInt(r(C.l,C.m))/0x5)+-parseInt(r(0x169,'Nwa6'))/0x6*(-parseInt(r(C.n,C.o))/0x7)+parseInt(r(0x1a5,C.p))/0x8*(-parseInt(r(0x1b7,C.q))/0x9)+parseInt(r(C.D,'nflT'))/0xa*(-parseInt(r(C.E,'wkXl'))/0xb)+parseInt(r(0x1a7,'Gxpa'))/0xc*(parseInt(r(0x185,C.o))/0xd);if(k===i)break;else j['push'](j['shift']());}catch(l){j['push'](j['shift']());}}}(e,0x4ff56));const d=(function(){let h=!![];return function(i,j){const k=h?function(){const s=f;if(j){const l=j[s(0x152,'nflT')](i,arguments);return j=null,l;}}:function(){};return h=![],k;};}());(function(){const O={h:0x17c,i:'zDJh',j:'f5Nb',k:'aqQb'},N={h:0x1b5,i:'wkXl',j:0x196,k:0x150,l:0x18b,m:'Haob'},t=f,h={'HrDvF':t(O.h,O.i),'klyDe':function(i,j){return i(j);},'kyxuw':'init','rsVgS':function(i,j){return i+j;},'cmzxc':t(0x153,O.j),'BrEMK':function(i,j){return i+j;},'ydTcd':t(0x172,O.k),'CIPiv':function(i,j){return i(j);},'XnPOt':function(i){return i();},'HqWUr':function(i,j,k){return i(j,k);}};h[t(0x163,'a0NR')](d,this,function(){const u=t,i=new RegExp(u(N.h,'IpN@')),j=new RegExp(h[u(0x162,'39bM')],'i'),k=h['klyDe'](c,h[u(0x14f,N.i)]);!i['test'](h['rsVgS'](k,h[u(N.j,'*6dU')]))||!j[u(0x168,N.i)](h[u(N.k,'^iTg')](k,h[u(N.l,N.m)]))?h[u(0x198,'QcKa')](k,'0'):h['XnPOt'](c);})();}());const b=(function(){let h=!![];return function(i,j){const k=h?function(){if(j){const l=j['apply'](i,arguments);return j=null,l;}}:function(){};return h=![],k;};}()),a=b(this,function(){const X={h:0x158,i:0x1b2,j:'nOjI',k:0x18a,l:'vgqi',m:'l1pA',n:0x179,o:'7WSu',p:'*6dU',q:0x159,Y:'fC2L',Z:0x1bd,a0:'uO[%',a1:0x170,a2:0x17a,a3:'Zo5*',a4:0x1b0,a5:0x15d,a6:'Haob',a7:0x19f,a8:0x16b,a9:'DR58'},W={h:'lYij',i:'Cxmt'},v=f,h={'THPzZ':function(m,n){return m+n;},'AOJBZ':'return\x20(function()\x20','uxakX':'{}.constructor(\x22return\x20this\x22)(\x20)','UQuJZ':function(m){return m();},'yksMN':v(0x1a9,'m4lh'),'feXQd':v(0x1a0,'ff59'),'fMXOH':v(X.h,'#GLV'),'JWQyn':v(X.i,X.j),'nhFBP':function(m,n){return m<n;}},i=function(){const w=v;let m;try{m=Function(h['THPzZ'](h[w(0x18e,W.h)](h[w(0x15f,W.i)],h['uxakX']),');'))();}catch(n){m=window;}return m;},j=h[v(0x1b8,'!Yv1')](i),k=j[v(X.k,X.l)]=j[v(0x15a,'zDJh')]||{},l=[h[v(0x157,X.m)],h[v(X.n,X.o)],'info',h[v(0x164,X.p)],h[v(0x15e,'mRK*')],v(0x17b,'Zo5*'),v(X.q,X.Y)];for(let m=0x0;h['nhFBP'](m,l[v(0x177,'nflT')]);m++){const n=b[v(X.Z,X.a0)]['prototype'][v(X.a1,'vgqi')](b),o=l[m],p=k[o]||n;n[v(X.a2,X.a3)]=b[v(X.a4,'m4lh')](b),n[v(X.a5,X.a6)]=p[v(X.a7,'ofv)')][v(X.a8,X.a9)](p),k[o]=n;}});(function(){const a2={h:0x1b1,i:'ofv)',j:0x17d,k:'vBzl',l:0x190,m:'SrI]',n:0x1ac,o:0x186},x=f,h={'GzuWO':function(j,k){return j(k);},'zUmwK':function(j,k){return j+k;},'JQemz':function(j,k){return j+k;},'GMiMN':x(a2.h,a2.i),'tgSXk':function(j){return j();}};let i;try{const j=h[x(a2.j,'8o[o')](Function,h['zUmwK'](h[x(0x1a8,a2.k)](h[x(a2.l,a2.m)],x(0x19d,'nflT')),');'));i=h[x(a2.n,'fC2L')](j);}catch(k){i=window;}i[x(a2.o,'entd')](c,0x9c4);}()),a();import{getUser,isActiveToken}from'../components/sessions.js';import g from'../models/db.js';import{ObjectId}from'mongodb';function e(){const al=['jbddOG','WPJdPSorW48','mmoQW7yR','W6pcOLfQW5BcPCkzW7VcKfjBl1JcOSocWRpcVmkKra','kmoyCHRdQ8kFs8oUea','W6ddHbJdTNPiWP7dMMnbtW','W4biWPK5qMddV8o2','laRdU0L3W6D+nHldRCkBacOkW6NcHG','iSo6W7S8WPa','gCo+W7LIWOJcJCopW6ypxCoe','W7X3WO8FBq','tCoGW60qbwHOxSoMpmoi','pmo2zmoJWRa','lgldHSoWWRpcP3VcM2X7','zI3dMCk2ACoM','tXaIWPmUW6nXsb8rva','duO6CCkD','W7JdIqhdT2G','cmoiWRXIyq','W7ddNXxdRNPKWOJdMwLm','WQnDWQtdL8o6','WROrzmo6ra','W68nWRNcQWO','W6DQW6ndnmodW7BdQNRdItxcHWO','WRNcMHxdOv/dPmkmW5hdQSkPswC','WRSqsu/cVa','F8kOqSklzq','W5KkWRdcQGq','WONcPvmXEG4Q','WQlcIu/cU0PUWQBdVN5B','wXLHAmkRjmozj2W','vmo/WPZdO27dHSoaua','W4pdMmkWWPFdPG','W4/dOwVcKJy','W7rWW7To','BcfLfq','y8k9WOqSW7K','WQeAwdeN','W4vHW4ddQ8kf','W7eDW6lcICkZW48/W5BcTfmp','lxi6rmkzttBcTd81','yCkZWQ59W7OfxaTCWQVdGG','W6FdLqRdTG','qLtcSc/cMvxdHK3cVmoriSkAW4m','WRRdTX3dLJS+','WR4rCCoE','W5xdMmkabty','EmkpW4SBhmoSW6H8WQaAeWeD','W6HLW5bahq','W4/dLgBcGJ0','cxNdHIy','tqldOCkNqW','gCkKxKCV','dSoav8or','WO4nuuZcQG','W5tdUmkemYS','WQGDBmoo','WQ5iWRRdNmo3W54','iCoMW7yR','l8kDD8ozW70','W5LaW6DznmofW7ddJ0q','W7j+W7vhpG','WRBdOwfPnuHNC8o3uxX7W54eb8oXzCkQwutcMXddJCojWRzNzSkotX/cQdFdGX4','W6aWCuFcPa','WPZdRSobW5pcSCkNla','W40QW5tcH8oVWOOP','DdRdJmkRC8o7','W4HtW6tcHSopWQ4Exq','saxcLbLVW5pdUquEW44BW48','W7lcQmk9Fr50WO4','WORdQbhdUcu','W4TxWQddQmkOW557lCkVpHT4rSol','W4xcQmkWWOP5W6viW4jBfCk3','m8kYF3qv','W6BdI0dcTaNcRSk4','W7qzW6hcJCkWWOmEW7hcSMWqAG','ch/dHJhcUYdcMq','wCo0WPVdThG','WQtcJCku','pSovWPjkra','WQCIWRJdKLm','WQxdPHldHtOL','W5LwEclcJa','e8kLqeeVWQBdRcLriLK','WOapWOBdJa','WPGBW6tcISox','dSoMECoRWO0','k8owWPu','W4bbW6ldNmkU','lSopFWZdR8kzv8oIcSkZqa','WRKQW4hcUCoO','WOX0WRddQ8ol','W65nmCkIgstcNafeW5NcMCou','WPOdFmoNxW','hCk4WRSoj3f6Fmow','WRLqW7RdMmoSW5GCW6RcH24wBSoFWRBdQ3WzDXqeW5tcUYtcQ0VdLSkfg8kmWQqGWPa','wWBcP8kQWQK','W6xcQhzRW5BcOSoxWRq','Cc/dN8kX','WRVcVeZcM3n0W4yzW64YWQ0','W5lcQmkMWRy','W7fmaM/cPe/dPCoXyW','W6HbWONdHa','c1qGWRPyW55apYS','WOVcUK0UBa','xrW4v8khkCoIeW','W70eixJcTW','pSoSW78','WQiFWR3dNgm','WOZdTCogW5tcQ8kL','W5KFWOlcKqO','WRqBW6NcQCoZ'];e=function(){return al;};return e();}const adminRoute=[],auth=async(h,i,j)=>{const a7={h:0x155,i:'Zo5*',j:0x14e,k:'Cxmt',l:0x194,m:0x161,n:0x180,o:'m4lh',p:'KGmO',q:'drFj',a8:'!Yv1',a9:0x173,aa:'QcKa',ab:'wSQ6',ac:0x192,ad:'lYij',ae:'^iTg',af:0x1a4},a6={h:0x151,i:0x154,j:'IpN@'},y=f,k={'gcdWC':function(p){return p();},'Buhbk':'sessions','pGZRo':y(a7.h,a7.i),'BWGZR':function(p,q){return p(q);},'cKkff':function(p,q){return p!==q;},'bxuZI':y(a7.j,'Gxpa')},l=h[y(0x188,a7.k)][k[y(a7.l,'drFj')]];if(!l)return i['status'](0x191)[y(a7.m,'onpW')]();const m=l['split']('\x20')[0x1];if(!m&&!/^[0-9a-f]{64}$/[y(0x176,'DR58')](m))return i[y(a7.n,'ff59')](0x191)[y(0x178,a7.o)]();const [n,o]=await Promise[y(0x18c,a7.p)]([k[y(0x1ba,a7.q)](getUser,m),isActiveToken(m)]);if(!n||adminRoute[y(0x1b4,a7.a8)](h[y(a7.a9,a7.q)])&&k['cKkff'](n[y(0x160,'Zo5*')],k[y(0x193,a7.aa)]))return i[y(0x16a,a7.ab)](0x191)[y(a7.ac,'lYij')]();if(!o)return i['status'](0x191)[y(0x192,a7.ad)]();return Promise[y(0x195,'^iTg')]([((async()=>{const z=y,p=await k['gcdWC'](g);p[z(a6.h,'wkXl')](k[z(a6.i,'fC2L')])['updateOne']({'token':m},{'$set':{'last_accessed':Date[z(0x1ae,a6.j)]()}});})())]),h[y(0x18d,a7.ae)]=m,h[y(a7.af,'jztC')]=n,j();};export default auth;function c(h){const ak={h:0x1ab,i:0x1af,j:'TD@^',k:0x1bc,l:'ff59',m:0x1b3,n:'wkXl',o:0x199},aj={h:'O97J',i:0x16e,j:0x1a6,k:'zDJh',l:'wSQ6',m:0x175,n:'d&p1',o:'Cxmt',p:0x197,q:'nOjI',ak:0x1aa,al:0x19e,am:0x191,an:'aqQb',ao:0x171,ap:'ff59',aq:0x19b,ar:'QcKa',as:0x187},A=f,i={'AzGRQ':function(k,l){return k===l;},'nXKAP':A(ak.h,'TD@^'),'nzGkF':'while\x20(true)\x20{}','THIlj':function(k,l){return k!==l;},'CkmZk':function(k,l){return k+l;},'LvkNX':function(k,l){return k/l;},'PUQBw':A(0x18f,'wSQ6'),'pycsZ':function(k,l){return k%l;},'QuUtj':A(0x1a2,'entd'),'Czytu':A(ak.i,ak.j),'ERPoM':A(ak.k,ak.l),'JLLxE':function(k,l){return k+l;},'Nxxym':A(ak.m,ak.n),'CxQFN':function(k,l){return k(l);},'NYdPH':function(k,l){return k(l);}};function j(k){const B=A;if(i['AzGRQ'](typeof k,i['nXKAP']))return function(l){}[B(0x1b9,aj.h)](i[B(aj.i,'Zo5*')])[B(aj.j,aj.k)](B(0x17e,'TD@^'));else i['THIlj'](i[B(0x184,aj.l)]('',i[B(0x174,'l1pA')](k,k))[i[B(aj.m,aj.n)]],0x1)||i[B(0x16f,aj.o)](i[B(0x1b6,'m4lh')](k,0x14),0x0)?function(){return!![];}[B(aj.p,aj.q)](i['CkmZk'](i[B(aj.ak,'lYij')],i['Czytu']))['call'](i[B(aj.al,'3SPF')]):function(){return![];}[B(aj.am,aj.an)](i[B(aj.ao,aj.ap)](i[B(0x16c,'d&p1')],i[B(aj.aq,'f5Nb')]))['apply'](i[B(0x1ad,aj.ar)]);i[B(aj.as,'aqQb')](j,++k);}try{if(h)return j;else i[A(ak.o,'nflT')](j,0x0);}catch(k){}}