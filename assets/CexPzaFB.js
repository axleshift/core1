import{R as s,r as e,j as r}from"./B29SdWEC.js";import{F as i,Q as t}from"./CPF8VAmO.js";import{Q as o}from"./5hkdeL0n.js";import a from"./D9496bDv.js";import{H as m}from"./DTxpf0f7.js";import{R as n}from"./Cri8ushB.js";import{a as c,b as l,d}from"./D5mryhzS.js";import{S as j}from"./DvkH5y8i.js";import{d as p,k as x}from"./BFKNndIN.js";import{d as h,b as f,c as u,e as b,h as y,a as g,a2 as N}from"./BYX7WaHQ.js";import"./ucIcx5RQ.js";import"./E8MUDNEF.js";import"./BPg_iBjA.js";import"./Dcib5x9m.js";import"./07vdr7AR.js";import"./4RmQ9_ev.js";import"./CIdotNGq.js";import"./yJGO6Amu.js";import"./BIw_sdFo.js";import"./BjhGVRpM.js";import"./BFk34ZWe.js";import"./BmTZu7tj.js";import"./CxXfFpkk.js";import"./DPENoFOj.js";import"./Ba2eFa9Y.js";import"./BOgnOvQQ.js";import"./CjjZDEdp.js";import"./K-dupnmX.js";import"./FLTEVThY.js";import"./DPAjA2jz.js";import"./DWXbBa0z.js";import"./BVv0Fxeo.js";import"./CzGuHLZU.js";import"./B8Let_61.js";import"./fZjk1EK6.js";import"./BXEMiIsG.js";import"./Bb7MnDjl.js";import"./CA9thugF.js";import"./BPjVUy-D.js";import"./C_n0TLp5.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";import"./RcibGCPl.js";import"./C2u-TX6t.js";const v=()=>{const{user:v}=c(),k=s.useRef(),{addToast:S}=l(),[C,w]=e.useState([]),[R,D]=e.useState(!0),[T,E]=e.useState(!1),[O,$]=e.useState(!1),_=e.useRef(null),q=p(),{id:z}=x();return e.useEffect((()=>{(async()=>{axios.get(`/freight/${z}`).then((s=>w({...s.data,internal:!0}))).catch((s=>{E(!0)})).finally((()=>D(!1)))})()}),[]),R?r.jsx("div",{className:"loading-overlay",children:r.jsx(h,{color:"primary",variant:"grow"})}):T?r.jsx(f,{className:"justify-content-center my-5",children:r.jsx(u,{md:6,children:r.jsxs("div",{className:"clearfix",children:[r.jsx("h1",{className:"float-start display-3 me-4 text-danger",children:"OOPS"}),r.jsx("h4",{children:"There was no shipment found."}),r.jsx("p",{children:"Double check tracking number for any mistake."})]})})}):r.jsxs("div",{children:[r.jsx(m,{children:r.jsxs("title",{children:[z," - Shipment | Axleshift"]})}),r.jsx(b,{visible:O,onClose:()=>$(!1),alignment:"center",scrollable:!0,children:r.jsxs(y,{children:[r.jsx("div",{className:"text-center small",children:r.jsx("span",{children:z})}),r.jsx("div",{className:"d-flex justify-content-center align-items-center",children:r.jsx("div",{ref:_,className:"d-inline-block",children:r.jsx(o,{value:z,className:"rounded-3 border border-3",size:200})})}),r.jsx("div",{className:"d-flex justify-content-center align-items-center",children:r.jsx(g,{onClick:()=>{$(!1),a(_.current,{useCORS:!0}).then((s=>{const e=s.toDataURL("image/png"),r=document.createElement("a");r.href=e,r.download="qrcode.png",document.body.appendChild(r),r.click(),document.body.removeChild(r)}))},className:"px-5 mt-3 bg-body-secondary",children:"Save"})})]})}),r.jsxs("div",{className:"d-flex flex-row justify-content-between align-items-center mb-4",children:[r.jsxs("span",{className:"d-block",children:[r.jsx("span",{className:"text-primary fw-bold small",children:"Tracking Number:"}),r.jsx("br",{}),z]}),r.jsxs(N,{className:"mb-2 mb-sm-0",children:[r.jsx(g,{className:"bg-body-secondary me-2 rounded",onClick:s=>$(!0),children:r.jsx(i,{icon:t})}),C.invoice_id&&r.jsx(g,{className:"bg-body-secondary me-2 rounded",onClick:s=>q(`/invoices/${z}`),children:"Invoice"}),C.documents_id&&r.jsx(g,{className:"bg-body-secondary me-2 rounded",onClick:s=>q(`/documents/${z}`),children:"Documents"})]})]}),r.jsx(j,{data:{form:C,setForm:w,loading:R,setLoading:D}}),r.jsx(n,{ref:k,size:"invisible",sitekey:d})]})};export{v as default};
