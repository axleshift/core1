function f(a,b){const c=e();return f=function(d,g){d=d-0x15a;let h=c[d];if(f['UjTzOD']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['hmnsmX']=m,a=arguments,f['UjTzOD']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['vdWVhF']===undefined&&(f['vdWVhF']=!![]),h=f['hmnsmX'](h,g),a[k]=h):h=l,h;},f(a,b);}const C=f;(function(k,l){const G={k:0x18d,l:'95%s',m:0x168,n:'5y8L',o:0x19c,p:'%12Y',q:'Ewzv',r:'HCkd',s:0x191},u=f,m=k();while(!![]){try{const n=parseInt(u(G.k,'!bUQ'))/0x1+-parseInt(u(0x1ba,G.l))/0x2+-parseInt(u(G.m,G.n))/0x3*(-parseInt(u(G.o,G.p))/0x4)+parseInt(u(0x1da,G.q))/0x5+parseInt(u(0x15a,G.r))/0x6+-parseInt(u(0x1c5,'kDp0'))/0x7*(parseInt(u(0x183,'y2tv'))/0x8)+parseInt(u(G.s,'i4Vx'))/0x9*(-parseInt(u(0x1b7,'95%s'))/0xa);if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0x8d6f0));const d=(function(){let k=!![];return function(l,m){const n=k?function(){const v=f;if(m){const o=m[v(0x165,'U^gw')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const Q={k:0x18f,l:'qnsx',m:'*yr8'},P={k:0x1ce,l:'fo5J',m:'8(*#',n:0x181,o:'v3z]'},w=f,k={'vBwZY':function(l,m){return l(m);},'CnVYk':w(Q.k,Q.l),'TKavI':function(l,m){return l+m;},'paLAw':w(0x166,'5y8L'),'jSbYc':function(l){return l();},'HBKHv':function(l,m,n){return l(m,n);}};k[w(0x1d1,Q.m)](d,this,function(){const x=w,l=new RegExp(x(0x1c1,']*Gy')),m=new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','i'),n=k[x(P.k,P.l)](c,k[x(0x17e,P.m)]);!l[x(0x1b6,']*4v')](k['TKavI'](n,x(0x1db,']fE]')))||!m[x(P.n,'kDp0')](n+k[x(0x161,P.o)])?k[x(0x1c8,'6DVr')](n,'0'):k[x(0x190,P.m)](c);})();}());const b=(function(){let k=!![];return function(l,m){const R={k:0x16e,l:'i4Vx'},n=k?function(){const y=f;if(m){const o=m[y(R.k,R.l)](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),a=b(this,function(){const Y={k:0x1cd,l:'Tedq',m:0x1a5,n:0x1ae,o:0x1af,p:']*Gy',q:0x17b,r:0x1d2,s:'Zlw1',t:'95%s',Z:0x17a,a0:'v3z]',a1:0x1a2,a2:0x1c3,a3:'3)Rm',a4:0x1b4,a5:'t[KZ',a6:0x15b,a7:0x1d4,a8:0x162,a9:'rsQH',aa:0x16b,ab:'qnsx'},z=f,k={'bRlvU':function(o,p){return o(p);},'VIGxq':'{}.constructor(\x22return\x20this\x22)(\x20)','BFZzp':function(o){return o();},'CHtko':z(Y.k,Y.l),'USXit':z(Y.m,'3)Rm'),'noeUJ':'error','lkITX':z(0x1c0,'6DVr'),'xenqZ':z(0x167,'HCkd'),'lxkDK':function(o,p){return o<p;}};let l;try{const o=k[z(0x160,'Mr1p')](Function,z(Y.n,'Tedq')+k[z(Y.o,Y.p)]+');');l=k[z(0x1b8,']o%E')](o);}catch(p){l=window;}const m=l[z(Y.q,'lC]]')]=l[z(Y.r,Y.s)]||{},n=[z(0x1d5,Y.t),k[z(Y.Z,Y.a0)],k[z(Y.a1,'v3z]')],k[z(Y.a2,'^5Ua')],z(0x194,'ceVB'),k['lkITX'],k[z(0x1bb,Y.a3)]];for(let q=0x0;k[z(Y.a4,Y.a5)](q,n[z(Y.a6,'UncX')]);q++){const r=b[z(0x1b5,'y2tv')][z(Y.a7,']fE]')][z(0x163,'U^gw')](b),s=n[q],t=m[s]||r;r[z(Y.a8,Y.a9)]=b['bind'](b),r[z(Y.aa,Y.ab)]=t['toString'][z(0x178,'b7g]')](t),m[s]=r;}});function e(){const ak=['oXBdTSkH','AWaAWPyZ','WPddOtFdIYdcV8oK','W4FcKG3cU1CgW48EW71dtSo2xW','W5vKg8ocW5r+bCkq','e8k5W48wA8oYk3KZ','W4jczCod','W7hcHmook27cL8kb','lXysWQdcNKL1DCo+cSoGlq','yaqhW50','xgbkDmkeWQVdVM/cO8o5W6i','WRVdS8kJW5ZdT8knWOpcI2b2W5fnhq','b0NdMCo3oW','mvqAW7/cMK9aW48','d8orW4L4W6u','txWTmrrKWQxdGHOLE8k+W55WWO8lW6BdRCkAva','W5j/WQRcTLPrCa','WPVdIKBdQXbdWPWQW7PwDSoPxa','s0RdImoljCoIW7e','WO7dISkNWOVdTa','WOxcIv8','WOTvsSkvxa','W49vWPRdLG','yHmqW7vD','WOrDs8k4','jWVdUSkNwW','W4j5tmk8rq','WQ7cLhC3eW','uCkTi2JdTq','W4ddNa/dVclcOCoqcw0D','kSkFW7lcHCko','u8o8oSkxWQBcIsPzW4FcTH/dPCoknhqNW4NdR0q','W4dcLLqwFa','W4LpWOW','umkBWOO','CqKTW57cI0u1WPdcQWn3rcqEjatcG8oUdW','WQ5Cq8k5xSoHx8oAgCosyCkjWOJdOCogjmk7WPNdO8kkW5pcPHBcK1X5W4BcPmk/rriT','W4HNWPRcQSo4','bSkpymkiWQBcNbhdJSkFFMm','WPmoBt4','WQWWds8zWObCW5tcHSoiiYae','WQOHcZRcVW','u8oNW50k','WQqYdsOyWObyW5BcI8oVbGCQ','W55EWPldIfS','v8kXWO5JBW','naGmW4BcQf5y','W4vFsI5Ihmo1W70','W6/dOfK/W4FdV8k3x8kltHlcQ8oVvXm','CHCkWOpcHq','W7dcQN0nECoJWRldR8o5qsZdQZLuWOWw','W7xcSh0DECo4WQJdOSkTbai','W4jEtbDD','DqydW4TZhxtdNaBdHb4y','W4JcNvNcKmoZWQeT','W7/cSxub','WPpcKh/cICoHWRSmze8GnCo0ChSJ','CdqFWRxcUq','CcSWWOKi','WPuQW4ldM8kbWOddLCkZwK1NW7fW','mmopW59ZW7K','dCkmwSksWQS','vSo4pmkm','s8k4WO13tW','W4PEWPldNNvD','k8kXW7xcMSkRegi','W69IWOaQFW','W6hcQ8o+WP/cQ8oxW5y','W6iyvSk1Da','W6JdUL8NW43cQ8oMw8kC','W7LOwq','W4rsWQ4dFCozkcetBwddMSkCW4DeW4q','yHWPW4FcGa','zaCDWQOL','WPhcMghcMa','WQ0EBCk0WQ0zCCkfWR5anIuc','W7VdOfe6W4W','FtDWsG3cT8o5W6pdQCooWO1KnG','AaC3mmk2WQ0','q07cGefW','uCoHW5aD','W57cNq3cRviDW5GE','WOpcK0W/amkqvmka','zfdcUwjK','WQVdUmkZWQpdTW','s8kbmLZdLZ9lWOpdKq','vCoHW5aD','W7VdULuYW5BcUSoCrmkvvXldOCk7rqeU','vSo4W44vtW','smoLWO7dVHa','phmPhf0','eSk5W4VcS1ldQYuNWQFdQSk5','zaWmW4LCeW','W7/dGWf3W6edpCoxW5S9','jHFdJmkHwSoDn8o/','W5pcGdxdVqyQW44','WOXqwCk+vmoS','W4JdGGZdTsK','pJ5bW6iL','D8kSj0/dJc5NWRpdOSoPDcdcPqdcKx8','W4/cJa7cSLW','W4xdHJJdLqq','W4vIqSklEG','WPiTW4tdMCkdWOpdL8k7rM5GW5H+','DqiAWOBcJJy','wmkuWOW','e8oZlCoLW5pcHSo3W4q','W5vFBCkF','EKvoW7BdNXC','WPJdKCklWONdRW','W6DQpYHEWPBdSW','yaC7iG','k24Mev3dPCk7','qJ0UWPy7','W5b3WOpcI8osW4lcKG','ve5YW6uTag1V','WOVcNh/cIq','y3lcP05z','u8oso8omW6ldM1ldLmkJzLlcPse','m8onW4HaW7zdW44','DSkYa1/dTa','WPZcI2NcNmowWReJz0yVjmo+A3W/WQG','WRpdMr5+W7ytz8ouW4C8WP4','shFdV8oun2xdPW','pmoSW5LZW4e','W59dWQ4Jsa','BmowamkLWPVcUf8JW60','FIWHnSk4','o8kMW6aYkSkoWObUfamnsW','CSoXWQbWEG'];e=function(){return ak;};return e();}(function(){const a3={k:'Mr1p',l:0x1aa,m:'kr#)',n:'UncX'},A=f,k={'ELUUA':function(n,o){return n(o);},'DiXdf':function(n,o){return n+o;},'uPZnn':function(n,o){return n+o;},'kklTw':A(0x1b2,'%12Y'),'zNxaz':'{}.constructor(\x22return\x20this\x22)(\x20)','JYPBm':function(n){return n();}},l=function(){const B=A;let n;try{n=k[B(0x15c,a3.k)](Function,k[B(a3.l,'p50A')](k[B(0x19b,a3.m)](k['kklTw'],k[B(0x18c,a3.n)]),');'))();}catch(o){n=window;}return n;},m=k['JYPBm'](l);m['setInterval'](c,0x9c4);}()),a();import g from'dotenv';g[C(0x169,'8DFw')]();import h from'fs';import{MongoClient}from'mongodb';import i from'../components/logger.js';import j from'../components/password.js';const data=JSON[C(0x18e,'!bUQ')](h[C(0x1c4,'8DFw')](import.meta[C(0x19f,'5[*k')]+C(0x187,'KFp)'),C(0x195,'b7g]')))[C(0x1b9,'U^gw')];let dbInstance=null;const db=async()=>{const a7={k:'qnsx',l:0x184,m:'62zb',n:0x17f,o:'t[KZ',p:'p50A',q:0x18b,r:'Tedq',s:0x17d,t:'m2RS',a8:0x1b3,a9:0x193,aa:0x1c7,ab:0x1d0,ac:'1#8p',ad:0x1b1,ae:0x1a6,af:'8DFw',ag:0x164,ah:0x185,ai:'rsQH',aj:0x1d6,ak:'*yr8',al:0x196,am:'^5Ua',an:0x177,ao:0x186,ap:'kDp0',aq:'3)Rm',ar:0x16a,as:'62zb',at:0x179,au:0x19d,av:'i4Vx',aw:0x1c6,ax:']*Gy',ay:0x19e,az:'VkSV',aA:0x192,aB:']7)%'},D=C,k={'eprZh':D(0x1a8,a7.k),'blAqL':D(a7.l,a7.m),'pdZFe':D(a7.n,a7.o),'ffgBg':D(0x1a3,a7.p),'PqDIU':function(s,t){return s!=t;},'ZndQt':function(s,t){return s(t);}};if(dbInstance)return dbInstance;const l=new MongoClient(process['env'][D(a7.q,a7.r)]);await l[D(a7.s,'HCkd')](),i[D(0x1a7,a7.t)](D(a7.a8,'m2RS')),dbInstance=l['db'](process[D(0x176,'fo5J')][D(a7.a9,'Ewzv')]);const m=await dbInstance[D(a7.aa,'kDp0')]()[D(a7.ab,a7.ac)](),n=m[D(a7.ad,'fo5J')](s=>s[D(0x1d9,'kDp0')]);if(!n['includes'](k[D(a7.ae,a7.af)]))await dbInstance[D(a7.ag,']fE]')](k[D(0x182,'Mr1p')]);if(!n[D(0x177,'lg$M')](k[D(a7.ah,a7.ai)]))await dbInstance[D(a7.aj,a7.ak)](D(a7.al,'2MR['));if(!n[D(0x1be,a7.am)]('sessions'))await dbInstance['createCollection']('sessions');if(!n[D(0x15f,'p50A')](k['pdZFe']))await dbInstance[D(0x170,'rsQH')]('threats');if(!n[D(a7.an,'lg$M')](k[D(0x1a4,a7.t)]))await dbInstance[D(a7.ao,a7.ap)](D(0x1b0,a7.aq));const o=dbInstance[D(a7.ar,'KFp)')](k[D(0x1cb,a7.as)]);let p=await o[D(0x15d,'U^gw')]({}),q=await p[D(0x188,'cusW')]();if(k['PqDIU'](q[D(a7.at,'z&05')],0x0))return dbInstance;for(const s of data){s[D(0x15e,']7)%')]=k[D(a7.au,'62zb')](j,s['password']);}const r=await o[D(0x1ac,a7.av)](data);return i[D(a7.aw,a7.ax)](D(a7.ay,a7.az)+r[D(a7.aA,a7.aB)]),dbInstance;};export default db;function c(k){const aj={k:0x1bf,l:']fE]',m:0x16c,n:']Ze*',o:0x1cf,p:'UncX',q:0x16d,r:'m2RS'},ai={k:0x1ab,l:'rsQH',m:0x1a9,n:0x1c2,o:0x1d8,p:'8(*#',q:0x1d7,r:0x189,s:'8DFw',t:0x1c9,aj:0x171,ak:']7)%',al:0x199,am:'zU!a'},E=C,l={'EsaFM':function(n,o){return n===o;},'uOOGu':E(0x175,'6DVr'),'eTeeu':E(aj.k,aj.l),'uAFmW':E(aj.m,aj.n),'iStZP':function(n,o){return n!==o;},'TZTMv':function(n,o){return n+o;},'MByWR':function(n,o){return n/o;},'xceAA':E(aj.o,'3)Rm'),'XHpSk':function(n,o){return n%o;},'ltDLT':E(0x17c,aj.p),'qxHFX':E(aj.q,aj.r),'jKtNy':function(n,o){return n+o;},'rTApJ':'gger','hlTiy':function(n,o){return n(o);}};function m(n){const F=E;if(l[F(ai.k,ai.l)](typeof n,l[F(ai.m,'b7g]')]))return function(o){}[F(ai.n,']*Gy')](l[F(ai.o,ai.p)])[F(ai.q,'%12Y')](l[F(0x1ad,'1#8p')]);else l[F(ai.r,'62zb')](l['TZTMv']('',l['MByWR'](n,n))[l[F(0x18a,'*yr8')]],0x1)||l['EsaFM'](l[F(0x16f,'&g$j')](n,0x14),0x0)?function(){return!![];}['constructor'](l['TZTMv'](l[F(0x1d3,'dQhk')],F(0x198,ai.s)))['call'](l[F(ai.t,'8(*#')]):function(){return![];}['constructor'](l[F(0x1bc,'fo5J')](l[F(0x172,'i4Vx')],l[F(0x173,'b7g]')]))[F(ai.aj,ai.ak)](F(ai.al,ai.am));l[F(0x1cc,'y2tv')](m,++n);}try{if(k)return m;else l['hlTiy'](m,0x0);}catch(n){}}