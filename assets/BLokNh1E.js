import{r as n,j as e}from"./AvajUqxD.js";import{a as m}from"./CCb-kr4I.js";import{a as _}from"./Cz0CWeBA.js";import"./CxTwvKIG.js";import{S as F,C as b,a as N}from"./C-7C3buz.js";import{A as k}from"./BSw-DQcE.js";import{L as B}from"./Bic8xgnB.js";import{S as w}from"./qGsFt0wu.js";import{d as A,k as R}from"./D9lVez5C.js";import{C as z,M as L,N as f,D as x,E as c}from"./BxGnRDpQ.js";import"./Bohkx0y1.js";import"./CWSvFvDE.js";import"./D_05oOQ-.js";import"./CjRdQy_j.js";import"./CzFDRTuY.js";import"./BQBsAJpH.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const te=()=>{const[i,d]=n.useState({shipper:{shipper_company_name:"",shipper_contact_name:"",shipper_contact_email_address:"",shipper_contact_phone_number:"",shipper_company_address:""},consignee:{consignee_company_name:"",consignee_contact_name:"",consignee_contact_email_address:"",consignee_contact_phone_number:"",consignee_company_address:""},shipment:{shipment_description:"",shipment_weight:0,shipment_dimension_length:0,shipment_dimension_width:0,shipment_dimension_height:0,shipment_volume:0,shipment_value:0,shipment_instructions:""}}),[g,j]=n.useState(""),[y,a]=n.useState(!1),[t,h]=n.useState(!0),S=A(),{id:o}=R(),v=s=>{j(s);const p={...s==="air"?{shipping_origin_airport:"",shipping_destination_airport:"",shipping_preferred_departure_date:"",shipping_preferred_arrival_date:"",shipping_flight_type:"1"}:s==="land"?{shipping_origin_addresss:"",shipping_destination_address:"",shipping_pickup_date:"",shipping_delivery_date:"",shipping_vehicle_type:0}:s==="sea"?{shipping_loading_port:"",shipping_discharge_port:"",shipping_sailing_date:"",shipping_estimated_arrival_date:"",shipping_cargo_type:""}:{}};d(l=>({...l,shipping:p}))},r=(s,p)=>{const{id:l,value:E}=s.target;d(u=>({...u,[p]:{...u[p],[l]:E}}))},C=async()=>{a(!0),await m.get(`https://backend-core1.axleshift.com//api/v1/freight/${o}`,{headers:{Authorization:`Bearer ${_.get("RCTSESSION")}`}}).then(s=>{v(s.data.data[0].type),d(s.data.data[0].data)}).catch(s=>{console.error(s)}).finally(()=>{a(!1)})},I=async()=>{if(t)return h(!1);a(!0),await m.post(`https://backend-core1.axleshift.com//api/v1/freight/u/${g}/${o}`,i,{headers:{Authorization:`Bearer ${_.get("RCTSESSION")}`}}).then(s=>{alert("save")}).catch(s=>{console.error(s)}).finally(()=>{a(!1),h(!0)})},$=async()=>{if(!t)return h(!0);a(!0),await m.post(`https://backend-core1.axleshift.com//api/v1/freight/d/${o}`,{},{headers:{Authorization:`Bearer ${_.get("RCTSESSION")}`}}).then(s=>{S("/")}).catch(s=>{console.error(s)}).finally(()=>{a(!1)})},D=()=>{switch(g){case"air":return e.jsx(k,{isInfo:!0,formData:i,handleInputChange:r,isDisabled:t});case"land":return e.jsx(B,{isInfo:!0,formData:i,handleInputChange:r,isDisabled:t});case"sea":return e.jsx(w,{isInfo:!0,formData:i,handleInputChange:r,isDisabled:t});default:return null}};return n.useEffect(()=>{C()},[]),e.jsxs("div",{children:[y&&e.jsx("div",{className:"loading-overlay",children:e.jsx(z,{color:"primary",variant:"grow"})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:["#",o]}),e.jsxs(L,{children:[e.jsx(f,{color:"primary",className:"me-2 rounded",onClick:I,children:t?"Edit":"Save"}),e.jsx(f,{color:t?"danger":"secondary",className:"me-2 rounded",onClick:$,children:t?"Delete":"Cancel"})]})]}),e.jsxs(x,{xs:{cols:1},sm:{cols:2},children:[e.jsx(c,{children:e.jsx(F,{isInfo:!0,formData:i,handleInputChange:r,isDisabled:t})}),e.jsx(c,{children:e.jsx(b,{isInfo:!0,formData:i,handleInputChange:r,isDisabled:t})})]}),e.jsxs(x,{xs:{cols:1},sm:{cols:2},children:[e.jsx(c,{children:e.jsx(N,{isInfo:!0,formData:i,handleInputChange:r,isDisabled:t})}),e.jsx(c,{children:D()})]})]})};export{te as default};
