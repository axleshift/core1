import{R as e,r as s,j as i}from"./kqbr3HuW.js";import{R as n}from"./Cn6opJBz.js";import{a as t,b as a,V as r,c as o}from"./DiorNc7f.js";import{S as p,C as m,a as h}from"./Ctv0gBCN.js";import{A as c}from"./CqCa_eHN.js";import{E as d}from"./URk2IvX2.js";import{d as l}from"./DFarnK1O.js";import{C as j,U as _,V as g,W as f,X as u,m as x,N as S,O as y,s as b}from"./Ci8d9wQg.js";import"./BgRKNlhe.js";import"./CgN-7aKy.js";import"./BSjYzxj3.js";import"./BJ13bZ6b.js";import"./c0eKk1Db.js";import"./uhX4GmSj.js";import"./oXqQd4Ap.js";import"./CQYGjB7w.js";import"./DbzcfNKS.js";import"./BGKE3O6B.js";import"./DJeUPDeV.js";import"./B0UoamS-.js";import"./HSznFPq-.js";import"./omosduih.js";import"./D3yCfJ5s.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./DoV6T4jL.js";import"./CJ2-25UQ.js";import"./BqHrj3jM.js";import"./Cfo6UHCM.js";const C=()=>{const C=l(),v=e.useRef(),{addToast:I}=t(),[D,w]=s.useState(1),[N,A]=s.useState(!1),[R,k]=s.useState(!1),[z,B]=s.useState({shipper:{shipper_company_name:"",shipper_contact_name:"",shipper_contact_email_address:"",shipper_contact_phone_number:"",shipper_company_address:""},consignee:{consignee_company_name:"",consignee_contact_name:"",consignee_contact_email_address:"",consignee_contact_phone_number:"",consignee_company_address:""},shipment:{shipment_description:"",shipment_weight:"",shipment_dimension_length:"",shipment_dimension_width:"",shipment_dimension_height:"",shipment_volume:"",shipment_value:"",shipment_instructions:""},shipping:{shipping_origin_airport:"",shipping_destination_airport:"",shipping_preferred_departure_date:"",shipping_preferred_arrival_date:"",shipping_flight_type:""}}),E=(e,s)=>{const{id:i,value:n}=e.target;B((e=>({...e,[s]:{...e[s],[i]:n}})))},O=async()=>{if(!R)return k(!0);A(!0);const e=await v.current.executeAsync(),s={...z,recaptcha_ref:e};await axios.post(`${r}/api/v1/freight/b/air`,s,{headers:{Authorization:`Bearer ${cookies.get(o)}`}}).then((e=>{I("Shipment has been confirmed.","Shipment"),C("/")})).catch((e=>{console.error(e);const s=d[e.status]||"Internal Application Error";I(s,"Submit failed!")})).finally((()=>A(!1)))};return i.jsxs(i.Fragment,{children:[N&&i.jsx("div",{className:"loading-overlay",children:i.jsx(j,{color:"primary",variant:"grow"})}),i.jsx(n,{ref:v,size:"invisible",sitekey:a}),R&&i.jsxs(_,{visible:"true",onClose:()=>k(!1),alignment:"center",scrollable:!0,children:[i.jsx(g,{closeButton:!0,children:"Shipment Confirmation"}),i.jsx(f,{children:"Do you confirm that the details you input are correct and accurate?"}),i.jsx(u,{children:i.jsx(x,{color:"primary",onClick:O,children:"Confirm"})})]}),i.jsxs(S,{className:"mb-4",children:[i.jsx(y,{xs:3,md:5,xl:3,className:"image-container d-none d-md-flex",children:i.jsx(b,{fluid:!0,rounded:!0,src:"/images/freight-air.jpg",className:"custom-image"})}),i.jsxs(y,{md:7,children:[1===D&&i.jsx(p,{formData:z,handleInputChange:E,handleConsigneeInfo:e=>w(2)}),2===D&&i.jsx(m,{formData:z,handleInputChange:E,handleShipperInformation:e=>w(1),handleShipmentDetails:e=>w(3)}),3===D&&i.jsx(h,{formData:z,handleInputChange:E,handleConsigneeInfo:e=>w(2),handleShippingInformation:e=>w(4)}),4===D&&i.jsx(c,{formData:z,handleInputChange:E,handleShipmentDetails:e=>w(3),handleSubmit:O})]})]})]})};export{C as default};
