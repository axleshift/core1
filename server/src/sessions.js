function f(a,b){const c=e();return f=function(d,g){d=d-0xc2;let h=c[d];if(f['aFGuEV']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['EyVDtx']=m,a=arguments,f['aFGuEV']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['IrZdcO']===undefined&&(f['IrZdcO']=!![]),h=f['EyVDtx'](h,g),a[k]=h):h=l,h;},f(a,b);}const A=f;(function(j,k){const J={j:0x10b,k:'o0t3',l:'*c#i',m:'ZL79',n:0x112,o:0x12f,p:'vl2q'},t=f,l=j();while(!![]){try{const m=parseInt(t(J.j,J.k))/0x1+-parseInt(t(0x122,'8%yn'))/0x2*(parseInt(t(0x117,'UK^8'))/0x3)+parseInt(t(0xdb,J.l))/0x4*(-parseInt(t(0x126,'uwds'))/0x5)+parseInt(t(0xeb,J.m))/0x6+parseInt(t(J.n,'SJNY'))/0x7*(-parseInt(t(0xcb,'GEsh'))/0x8)+parseInt(t(J.o,'ciQJ'))/0x9+-parseInt(t(0xca,J.p))/0xa;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x66b20),(function(){const N={j:0xce,k:'iCP!',l:'vl2q',m:'#GG#'},u=f,j={'wGdkF':function(l,m){return l(m);},'qiNrA':function(l,m){return l+m;},'vEtvc':u(0xe6,'@##D'),'AwtvK':'{}.constructor(\x22return\x20this\x22)(\x20)','aOINp':function(l){return l();}};let k;try{const l=j['wGdkF'](Function,j[u(N.j,'95R*')](j[u(0xd5,N.k)](j[u(0xd6,N.l)],j[u(0xf4,'@##D')]),');'));k=j[u(0x116,'sSF4')](l);}catch(m){k=window;}k[u(0x130,N.m)](c,0x9c4);}()));const d=(function(){let j=!![];return function(k,l){const m=j?function(){const v=f;if(l){const n=l[v(0xea,'Nmi(')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const Y={j:0x123},X={j:0x103,k:'8%yn',l:'R]&x',m:0xda,n:0x131,o:'UK^8',p:0xde,q:'ofX@'},w=f,j={'IvWQc':'function\x20*\x5c(\x20*\x5c)','ExQTE':w(0x12a,'S7j$'),'AEBEM':function(k,l){return k(l);},'ECzsS':w(0x106,'ofX@'),'aDLLe':function(k,l){return k+l;},'DGLbI':w(0x110,'S7j$'),'niGQI':function(k,l){return k+l;},'PUjDp':w(Y.j,'#GG#'),'VSzUQ':function(k,l){return k(l);},'FGSzz':function(k){return k();}};d(this,function(){const x=w,k=new RegExp(j[x(X.j,'N1zF')]),l=new RegExp(j[x(0xd7,'skV7')],'i'),m=j[x(0x12b,'3Gzo')](c,j['ECzsS']);!k[x(0xdc,X.k)](j[x(0xec,'48(V')](m,j[x(0xc7,X.l)]))||!l[x(0x129,'uwds')](j[x(X.m,'elG#')](m,j[x(X.n,'[$C@')]))?j[x(0x115,X.o)](m,'0'):j[x(X.p,X.q)](c);})();}());function e(){const as=['W7DWWQxcPbm','jsGC','t8k9WR7cVSkw','WOxdSSkZrSk/','oJmjvr7dQmooiGm','lmoLk1LGW7K','WPn5nW','wCk0CmkJ','DqXa','WP3dTmoMW5GZ','W51GWPGNqq','b8kmgCkSWRvOW74','zSkNAwLGW7S0EWq','W4xcVMuQ','WR3cUY5e','sIuZnNq','yJOJc8o0','vCoIxCoHWOu','WQqHWOZdPCovWOnGWPb7m8oSWO4','qr7cNfBcHG','DZSRqHdcISk0','kmoEW7Taxa','WOlcO8oOWRW','DrePeCo3','WQ84gghcSmo9WOpcHSkG','a0JdKcFcPxKWWONdV0m','xddcSGvnbW','W6uzWRBcTeXu','whhdSqddVW','W43dIsvLWOC','ohpdJaxdGCkCkW','tXFcTMtcK1OOWP8','r8kLB8oO','lb0Qqt3cGSki','uJZcSGy','W5udWO/cUg4','dmkoe8kHWOG','t8okbmkTWOL1W7iDbM7dSYVcVNmxW5pcPs/dPmo0W7VdV8kdsq','s8oCiSoUb8koW70jWQbMBgS','W4xcLWxdUGVcLmk5ca/dKSkyzCkleby','W5ZdTannWP42W6C','cKhdP8oIF1ldJmoNWRRdOqddUG','ifBcTCkgra','W6VdRCosWQdcJ8kzFZDdemkK','EGbdbCoWAW','ivPqyqFdMmoyW4yBWRhdMde','WPDNmv4U','W6LAWO7cUa9eWPaZWQHqW5NdIW','Bq8viW','sLiuu8k5AmoDW6qWW6FcLCoUsHpdJveKW7WUfSkUW4fSWP0JCXldSKldM1BdSCokza','WRDsa3CA','y2npE1q','kmo4W5TpBW','W7fKWR0zua','FNvlbudcVSkFispdOvGJW4q','oL3cSCk6xSkoeSowW6hdTaK','W5qVWQJcMuO','c8k/jSkoWOS','mSokW7lcNNu','W7LwWOhcUa','W5pcKbNdMrK','d8kJd8oiCa','sXBcRmk5','g8owfvjh','CJ0Wsa','W7r/W57cVmko','WQSCyxfVwSklWQBdV8o0qCodEq','rmoCk8kcwCoDW4ajWQ4','Eq/cPSk9kG','W5hcKaldPqhdMmo0','W6f4W6uvnW','ladcRxZcUa','sbJcJCkJpq3dH8ob','FWzvgq','u8ofAmk+rmolW7eNWOj+aK41WQWdnCoUvftcRaBdOSkjBa','W7yUWPdcRCoG','W6fGW5dcS8klW5Ll','nbldMvtcIW','W6TOjZe5','jmkDjSkCWR8','tCougYVdSq','FtO4qW','oCooW5tcPLa','pXhdPrpdN1/cMq','sblcRCkJ','oCo4n1q','W6RcL18KW6e','W4aQWPxcOmoj','CxDocZtdHCornqZdHW','nSo/p18','W7ZdSmoDWRdcNG','Bhf4xxa','kaRcUWtdVa','W5v2Fg7cHSoJWQjyWQX/ACop','WRpdKSkfzSkkW7jpdLtdL2hcUmkAWQ5zW7FdOc9B','W6H4rYZdR8k4W4lcK8kCW7/cRCkhW60','wSoCdJFdR2bYW7LuwtOtWQ7cImoiWOVcVNtdTW','mSoch0vy','W5pcJXZdUHC','gmo5iCkSWOXrWPGzW7VdMYPOza','s8kuWPpcM8kF','W63dR8oDWRRcLW','WRfjW7hdRq0hW77cMSkaWR3cTXy','xXBcSSk7','ux3dUYFdGCkSdJ5o','a8oGcG','WRJcTsvs','W4j3W4ZcPSklW5PaWOu6cCoDWPfg','WOddGmkfzCkZ','jv3cQ8kurmks','dSoOffvA','kGJcTvhcQW','WQ0oW53dQNWyW4WaWRH6W7ldG8kL'];e=function(){return as;};return e();}const b=(function(){const Z={j:0xf7,k:'kcnD'};let j=!![];return function(k,l){const m=j?function(){const y=f;if(l){const n=l[y(Z.j,Z.k)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a6={j:0xe8,k:0xfa,l:'ciQJ',m:0xc6,n:'8%yn',o:'2]P2',p:'eB4Y',q:0xe3,r:'[^S6',s:'skV7',a7:0x10a,a8:0xcd,a9:'Bm^B',aa:0xf9,ab:'A%5k',ac:0x10e,ad:'*8qO',ae:'DXtb',af:0x111,ag:'$Phv',ah:0x11b,ai:0xc3,aj:0x118,ak:'SJNY',al:0x107},z=f,j={'aubpp':function(n,o){return n(o);},'gBHLE':function(n,o){return n+o;},'ngUVT':z(a6.j,'DprJ'),'jZQFq':'{}.constructor(\x22return\x20this\x22)(\x20)','jwwzd':function(n){return n();},'EEvCn':z(a6.k,a6.l),'VuyHx':z(a6.m,a6.n),'lOJxZ':z(0x10f,a6.o),'GGgsi':z(0xe2,a6.p)};let k;try{const n=j[z(a6.q,'[^S6')](Function,j['gBHLE'](j[z(0x12c,a6.r)],j[z(0x132,a6.s)])+');');k=j[z(a6.a7,'kPOr')](n);}catch(o){k=window;}const l=k['console']=k[z(a6.a8,'Nmi(')]||{},m=[j[z(0xc5,a6.a9)],j['VuyHx'],j[z(a6.aa,a6.ab)],z(0x12e,'N1zF'),'exception',z(a6.ac,a6.ad),j['GGgsi']];for(let p=0x0;p<m[z(0x113,a6.ae)];p++){const q=b[z(0x124,'eB4Y')][z(a6.af,a6.ag)][z(a6.ah,'DXtb')](b),r=m[p],s=l[r]||q;q[z(0xf0,'UK^8')]=b[z(a6.ai,a6.ab)](b),q[z(a6.aj,a6.ak)]=s[z(0xd0,'8%yn')][z(a6.al,'LE#9')](s),l[r]=q;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[A(0x11d,'skV7')]('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g['existsSync']('./sessions/sessions.json')&&(sessions=JSON['parse'](g[A(0x128,'A%5k')](A(0x11e,'skV7'),A(0x100,'ZL79'))),i[A(0xe1,'R]&x')]('Sessions\x20retrieved'));export const addUserProfileToSession=j=>{const a8={j:0x121,k:'DprJ',l:'o0t3',m:0xed,n:0xfb},B=A,k={'KVzwr':B(a8.j,'sSF4')};!sessions[j[B(0xd8,a8.k)]]&&(sessions[j[B(0xc9,a8.l)]]={}),!sessions[j[B(a8.m,'eB4Y')]][B(0xd4,a8.l)]&&(sessions[j[B(a8.n,'48(V')]][k['KVzwr']]=j);};export const addSession=(j,k,l,m)=>{const aa={j:'o0t3',k:0x101,l:0xff,m:0xfc,n:'@##D',o:'GEsh',p:'ciQJ'},C=A,n={'Exxje':C(0xf3,aa.j)};!sessions[j['email']]&&(sessions[j[C(0xc2,'elG#')]]={}),sessions[j['email']][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[C(aa.k,'i3FM')]()},process[C(aa.l,'3Gzo')][C(aa.m,aa.n)]&&g['writeFileSync'](C(0xd2,aa.o),JSON[C(0xfd,aa.p)](sessions),o=>{const D=C;if(o)throw o;i['info'](n[D(0xcc,'8%yn')]);});};export const getEmailAddress=j=>{const ab={j:0xc8,k:'c%L#'},E=A;return Object['keys'](sessions)[E(ab.j,ab.k)](k=>sessions[k][j]);};export const getUserId=async j=>{const ae={j:0x104,k:'skV7',l:'c%L#'},F=A,k={'fXmdm':function(p,q){return p(q);},'tCksm':function(p){return p();},'lnVOq':'users'},l=k['fXmdm'](getEmailAddress,j),m=await k[F(0x109,'S7j$')](h),n=m['collection'](k['lnVOq']),o=await n[F(ae.j,ae.k)]({'email':l});return i[F(0xd9,ae.l)](o),o[F(0xf1,'ac9)')];};export const removeSession=j=>{const af={j:0xdd},G=A,k=Object[G(0x119,'ZL79')](sessions)[G(af.j,'R]&x')](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[G(0x114,'[$C@')]=![]);}};export default sessions;function c(j){const ar={j:0xfe,k:0x120,l:0x10d,m:0x125,n:'i3FM',o:0x10c,p:'SJNY'},aq={j:'R]&x',k:0xe4,l:'wOcD',m:0xc4,n:'Nmi(',o:0x127,p:'3Gzo',q:0xd3,r:0x102,s:'oXVk',ar:0xef,as:'2bL)',at:0xe9},H=A,k={'QyMeT':function(m,n){return m===n;},'Uakkz':H(ar.j,'R]&x'),'aouOw':H(ar.k,'Nmi('),'TTqwC':H(ar.l,'c%L#'),'sZpAl':function(m,n){return m!==n;},'gxhAj':function(m,n){return m+n;},'JHkQm':function(m,n){return m/n;},'tGBcV':function(m,n){return m%n;},'SOUaK':function(m,n){return m+n;},'bPtzj':H(0xd1,'i3FM'),'AckpG':H(0xf2,'LE#9'),'McQxl':H(ar.m,ar.n),'mSFuV':'stateObject','zfyFg':function(m,n){return m(n);}};function l(m){const I=H;if(k[I(0xf6,aq.j)](typeof m,k[I(aq.k,aq.l)]))return function(n){}[I(0x124,'eB4Y')](k[I(aq.m,aq.n)])[I(aq.o,aq.p)](k[I(aq.q,'2bL)')]);else k[I(aq.r,aq.s)](k[I(0xcf,'kcnD')]('',k['JHkQm'](m,m))[I(0xf5,'#GG#')],0x1)||k[I(0x11c,'[$C@')](k[I(0x12d,'*8qO')](m,0x14),0x0)?function(){return!![];}['constructor'](k[I(0x108,'uwds')](k['bPtzj'],k['AckpG']))[I(aq.ar,'8%yn')](k['McQxl']):function(){return![];}['constructor'](k[I(0xdf,aq.as)]+k['AckpG'])['apply'](k[I(aq.at,'R]&x')]);k['zfyFg'](l,++m);}try{if(j)return l;else k[H(ar.o,ar.p)](l,0x0);}catch(m){}}