import{R as s,r as e,j as o}from"./Oq9P1Wj_.js";import{R as r}from"./eGqyD3ZN.js";import{b as i,d as t}from"./CFREMoNq.js";import{E as a}from"./BGB82IPO.js";import{c as l,a as n,b as c,L as j,M as m,p as d}from"./DFI_Y7Nw.js";import"./deeEeel3.js";import"./NdsU5MZw.js";import"./BXWkExu4.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./Ce_fjdqS.js";import"./CewSaW8v.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./fHQ1LRrH.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./BYNIthp4.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";const p=()=>{const p=s.useRef(),{addToast:h}=i(),[f,x]=e.useState(!0),[u,g]=e.useState({session:[],logout:!0});return e.useEffect((()=>{(async()=>{axios.get("/sec/sessions").then((s=>g(s.data))).catch((s=>{const e=a[s.status]||"Server is offline or restarting please wait";h(e)})).finally((()=>x(!1)))})()}),[]),o.jsxs("div",{children:[f&&o.jsx("div",{className:"loading-overlay",children:o.jsx(l,{color:"primary",variant:"grow"})}),o.jsx(r,{ref:p,size:"invisible",sitekey:t}),o.jsxs(n,{xs:{cols:1},sm:{cols:2},children:[o.jsx(c,{className:"mb-3",children:!f&&o.jsxs(o.Fragment,{children:[o.jsx("h4",{children:"Last login IP Address"}),o.jsx(j,{children:o.jsxs(m,{children:[o.jsx("p",{className:"display-3",children:"::1"===u.session.ip_address||"::ffff:127.0.0.1"===u.session.ip_address?"localhost":u.session.ip_address}),o.jsx("span",{className:"lead",children:u.session.user_agent})]})})]})}),o.jsxs(c,{className:"mb-3",children:[o.jsx("h4",{children:"Logout other sessions"}),o.jsx(j,{children:o.jsxs(m,{children:[o.jsx("p",{children:"Clearing all device sessions will log you out from all devices and browsers, except for the one you're currently using."}),o.jsx(d,{type:"submit",color:"danger",className:"mt-4 d-block me-2 rounded",disabled:u.logout,onClick:async()=>{x(!0);const s=await p.current.executeAsync();axios.post("/sec/sessions/logout",{recaptcha_ref:s}).then((s=>window.location.reload())).catch((s=>{const e=a[s.status]||"Server is offline or restarting please wait";h(e)})).finally((()=>x(!1)))},children:"Logout other sessions"})]})})]})]})]})};export{p as default};
