const C=f;(function(m,n){const K={m:'ItEV',n:0xd4,o:0x94,p:0xcc,q:0xbd,r:'XW#f',s:0xf0,t:'g!(R',u:0xa0,v:0xae,L:0x9c,M:'444['},w=f,o=m();while(!![]){try{const p=-parseInt(w(0xa6,K.m))/0x1+parseInt(w(K.n,'VQQ&'))/0x2+parseInt(w(K.o,'ItEV'))/0x3*(-parseInt(w(K.p,'XW#f'))/0x4)+-parseInt(w(K.q,K.r))/0x5*(parseInt(w(K.s,K.t))/0x6)+parseInt(w(0xc8,'EV%U'))/0x7+parseInt(w(K.u,'BOR6'))/0x8+-parseInt(w(K.v,'[O1X'))/0x9*(parseInt(w(K.L,K.M))/0xa);if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0xd4c87));const d=(function(){const L={m:0xb2,n:'#Q(D'};let m=!![];return function(n,o){const p=m?function(){const x=f;if(o){const q=o[x(L.m,L.n)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const T={m:0x9d,n:0xb3,o:'8RWo',p:0xb0,q:'T#lV'},S={m:0xdf,n:'EV%U',o:0xbe,p:'ByW!',q:'Kd^[',r:0xaf,s:'Kd^[',t:0xd3,u:'tuPx'},y=f,m={'SXVwl':'function\x20*\x5c(\x20*\x5c)','hhZUy':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','rlZYH':y(T.m,'&xOL'),'WNbJO':function(n,o){return n+o;},'wftft':y(T.n,T.o),'DtsAG':y(0xce,'gv]4'),'Ykgba':function(n,o){return n(o);},'TMnuc':function(n,o,p){return n(o,p);}};m[y(T.p,T.q)](d,this,function(){const z=y,n=new RegExp(m['SXVwl']),o=new RegExp(m[z(S.m,S.n)],'i'),p=c(m[z(S.o,'g!(R')]);!n[z(0xcb,S.p)](m[z(0xaf,S.q)](p,m[z(0xc2,'T#lV')]))||!o[z(0xe6,'CMGb')](m[z(S.r,S.s)](p,m[z(S.t,S.u)]))?m['Ykgba'](p,'0'):c();})();}());function e(){const an=['W4ZdIXeYE0y','W63dPSkfy8oU','W4tcK0hdKSo+W4/cKCkzrmkeca','W7uyW556W50','WO18WRtdKq','WORdICkD','WQ4RWRZcPmoe','CSksWQ3cSSkvW67dRsVcLmkVjGO','s8ojW5uJ','oIOiWQhdKhhdRq','WPFcKSkKWQ00W75kisOt','gZqmWORdJW','W6/dGqe','WQT2WRldKuCn','A8o1W4qybCkvW4ldImkDW5FdTa','n8ookCk0WQu','W5VcGSk9fCodWQKsdcq','WPL8x07cQq','bCoWDd3dImk5','oCoLlmk4WRPpaW','imkIW74wWRGRWOm','WO3dMCoQca','W73cQSkTW4a','W4hcGCoW','WQRdS3pdQmoHzY3cMtFdKa','WPyiWPvd','WOKTpeVcGaNcLYCRm8oL','oCoLn8kLWRPybgekEu8','WObdW4etWQjuFMKSuZn6aG','WRlcLL/cPHXaWROqWPhcU2a','WQK+WQ7cTCo3WPe','W5hcKCkQWQtdN23cMsqLWQOu','W6mSW5vpW7y','omkWWOretG','W5ZcHmkXxmkUW7ujltqeFb8','nmkSW6il','WRDRC8kSEq','WPTWWQNdGq','W6naW7FdSmkX','WPZcU8k7z8ogWPKMf8kucfq7c8o0ca','W5K8b1tcMheqz8kq','W6CjW7mwW6tcO8kjatW','A8k3W69qW6tdGqpdJmoTr8oD','WRPaxgFcGW','WR/cNSk8FSoa','WRKLWQhcSSo2WPavWRf1Fxq','W7lcNtdcIr4','pSkaW6ddLSoT','DSo8FCkEW73cGmoHEbRcJxBcJs7dSwFcKSknW67cU8ovWOtcICoIWRddI0ZcRddcQe3cOe4','W61OvSkV','W6tdIqpdPa','WQ97C8keD8oJ','W4FcLmo0qY4','cXFcNCo0WO4','pCoYW6BdNqK','FJvn','nSoMfmktWPq','udHDifKUW7j0pq','k8kSWQ5XFW','BdXvW4pcQx8Fyt7dUqu','WO0dWOHcF8oCl8oAWPNcV1q+WPidjhGPW6lcGG','W6X4W4VdHCkF','WPZcTCkMBCox','W4VcMuhdHSo+W5u','WPZcLePKkHDgzmkoc8k0WQxcPa','W4dcO8kPWPRdTa','W77dVISIyq','Cv0mtCkohrfcnq','W6ilW7rWWOJdGCo2qcatnJ/cR8oc','W5aCWPPqW64qp0SIFG0','jSk1W7maWQCZWO/dMSkp','aSoHzJ0','vtnrrdqiW7zdj8kMva','WOuUlri4j8kCWRbWo00Mf8kJgCoFDCkFuG','qCogW4K6W60','pcBcVSoHWQK','cCkFW6pdS8oR','W6BcQchcPGi','W5xdKmo4W6KPW6rEcdu','W6VdKaWvvq','WOKHoK7cGNpdQd8bbCozldC','WP5eugtcLa','W5FcLmk9W74jW6VcNca','AZzkW6/cQq','WO4ClYG8','kmoiW77dRq','yvVdJZJdSv3dQwxcO1GUW7ldTW','W6TRxSk0FW','WPStWOhcImol','W7FcIclcKa','W5fRyXu','WRTsWPWxW4q','p8kzWP9EFW','W7pcI03dRCoI'];e=function(){return an;};return e();}const b=(function(){let m=!![];return function(n,o){const U={m:0xa5},p=m?function(){const A=f;if(o){const q=o[A(U.m,'g!(R')](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a0={m:'eYya',n:0xa7,o:'QaTG',p:0xba,q:0xca,r:0xaa,s:'J!CO',t:0xeb,u:'KBtG',v:'cl@O',a1:'K$I1',a2:0x93,a3:0x95,a4:'Kd^[',a5:'96OC',a6:'^t9W',a7:'LwnO',a8:0x99,a9:'ItEV',aa:'@Dsn'},B=f,m={'uYDlF':function(q,r){return q(r);},'jUuKv':function(q,r){return q+r;},'yOLOf':B(0xc0,'&xOL'),'ZqcTZ':B(0xb4,a0.m),'iEzlp':B(a0.n,a0.o),'ORaWl':B(a0.p,'@Vh^'),'mDpbk':B(a0.q,'QaTG')};let n;try{const q=m['uYDlF'](Function,m['jUuKv'](m[B(a0.r,'uZkR')]+m[B(0xe5,a0.s)],');'));n=q();}catch(r){n=window;}const o=n[B(0x98,'QaTG')]=n[B(a0.t,a0.u)]||{},p=[B(0xee,a0.v),m['iEzlp'],B(0xd9,'c&eQ'),m[B(0xcf,a0.a1)],m[B(a0.a2,'9M[P')],'table',B(a0.a3,a0.a4)];for(let s=0x0;s<p[B(0xc3,a0.a5)];s++){const t=b[B(0xb1,a0.a6)][B(0xd2,a0.a7)][B(a0.a8,a0.a9)](b),u=p[s],v=o[u]||t;t[B(0xc7,a0.aa)]=b[B(0x99,'ItEV')](b),t['toString']=v['toString'][B(0xa9,'CMGb')](v),o[u]=t;}});a();import g from'dotenv';function f(a,b){const c=e();return f=function(d,g){d=d-0x93;let h=c[d];if(f['eDARkm']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['UrOqqt']=m,a=arguments,f['eDARkm']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['SjPoyJ']===undefined&&(f['SjPoyJ']=!![]),h=f['UrOqqt'](h,g),a[k]=h):h=l,h;},f(a,b);}g[C(0xe2,'tuPx')](),(function(){const a4={m:0xd1,n:0xbc,o:'M*#8'},E=C,m={'uEaCe':function(p,q){return p(q);},'llMEZ':function(p,q){return p+q;},'xcBBK':'{}.constructor(\x22return\x20this\x22)(\x20)','zBcWt':function(p){return p();}},n=function(){const D=f;let p;try{p=m[D(a4.m,'#Q(D')](Function,m[D(a4.n,'9M[P')](D(0xcd,a4.o),m[D(0xb9,'K$I1')])+');')();}catch(q){p=window;}return p;},o=m['zBcWt'](n);o[E(0xbf,'IN17')](c,0x9c4);}());import{ObjectId}from'mongodb';import h from'express';import i from'../../models/db.js';import j from'../../components/logger.js';import k from'../../components/scm.js';import l from'../../middleware/auth.js';import{getUser}from'../../components/sessions.js';const router=h[C(0xef,'CMGb')]();router['get']('/',l,async(m,n)=>{const aa={m:0xdb,n:'B]#5',o:'8RWo',p:0x96,q:'ByW!',r:0xde,s:'VQQ&'},a9={m:0xd7,n:0xe1,o:'96OC',p:'mUUO',q:'J!CO',r:0xe7,s:'fmjU'},F=C,o={'ystAa':function(r,s){return r(s);},'TwbLh':function(r){return r();},'taseF':function(r,s){return r!==s;},'LEhaq':F(aa.m,aa.n)},[p,q]=await Promise['all']([o[F(0xd0,aa.o)](k),((async()=>{const G=F,r=await o[G(0xa8,'wHc7')](getUser,m[G(a9.m,'IN17')]),s=await o[G(a9.n,a9.o)](i),t=await s['collection'](G(0xd6,a9.p))['find'](o[G(0xe8,'^t9W')](r['role'],o[G(0xa4,a9.q)])?{'user_id':new ObjectId(r[G(a9.r,a9.s)])}:{})['sort']({'last_accessed':-0x1})['toArray']();return t;})())]);return n[F(aa.p,aa.q)](0xc8)[F(aa.r,aa.s)]({'scm':p,'sessions':q});}),router[C(0x9b,'puLG')]('/scan',l,async(m,n)=>{const ac={m:0x9a},H=C,o={'BqjXp':function(q){return q();}},[p]=await Promise[H(0xbb,'IN17')]([o[H(0xed,'KBtG')](k)]);return n[H(0xa2,'^t9W')](0xc8)[H(ac.m,'!Avh')]({'scm':p});});export default router;function c(m){const am={m:0xab,n:0x97,o:'9M[P',p:0xdd},al={m:'96OC',n:0xc6,o:'tuPx',p:0xd8,q:'M*#8',r:0xd5,s:'Kd^[',t:0xc9,u:'BOR6',v:0xe3,am:'GzK]',an:'B]#5',ao:0x9f,ap:'GihU',aq:'cl@O',ar:0xe0,as:'g!(R'},I=C,n={'vwpzH':'string','QZTvs':I(am.m,'T#lV'),'xMmbY':I(am.n,am.o),'yWvOv':function(p,q){return p!==q;},'MnUVC':function(p,q){return p+q;},'sJnIX':'length','LVylj':function(p,q){return p===q;},'AYNII':function(p,q){return p%q;},'bFbJN':I(am.p,'#Q(D'),'fYkvH':I(0xa3,'GihU'),'DwHWp':function(p,q){return p(q);}};function o(p){const J=I;if(typeof p===n[J(0xc1,'uZkR')])return function(q){}[J(0xe4,al.m)](n[J(al.n,al.o)])[J(0xb8,'puLG')](n['xMmbY']);else n[J(al.p,al.q)](n['MnUVC']('',p/p)[n[J(al.r,al.s)]],0x1)||n['LVylj'](n[J(0xdc,'^t9W')](p,0x14),0x0)?function(){return!![];}[J(al.t,al.u)](n['MnUVC'](n[J(al.v,al.am)],J(0xb5,al.an)))[J(0xea,'gv]4')](J(0xb7,'wHc7')):function(){return![];}[J(al.ao,'9M[P')](n[J(0xc5,al.ap)]+J(0xb6,al.aq))['apply'](n[J(al.ar,al.as)]);n['DwHWp'](o,++p);}try{if(m)return o;else n['DwHWp'](o,0x0);}catch(p){}}