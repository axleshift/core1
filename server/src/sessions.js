const y=f;(function(j,k){const H={j:'((7T',k:0x10b,l:'Kvbn',m:0xd1,n:'Kvbn',o:'b$@H',p:0x106,q:0x105,r:0x102,s:0xe8,I:'vc]p'},t=f,l=j();while(!![]){try{const m=-parseInt(t(0xe5,H.j))/0x1+parseInt(t(H.k,'GUc['))/0x2*(parseInt(t(0xab,H.l))/0x3)+parseInt(t(H.m,H.n))/0x4+-parseInt(t(0xba,H.o))/0x5+parseInt(t(H.p,'(&Z%'))/0x6*(-parseInt(t(H.q,'ni%s'))/0x7)+-parseInt(t(H.r,'@Y!p'))/0x8+parseInt(t(H.s,H.I))/0x9;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xe7738));const d=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const R={j:'8atd',k:'cq($',l:0xb1,m:'F3pg',n:'Kvbn'},Q={j:0xd7,k:'[s29',l:'^UBD',m:0xf2,n:0xb2,o:'#5aa',p:'FF]C',q:0xfa,r:0xe3,s:0xf8},u=f,j={'IdsBj':u(0xd9,R.j),'hBbCf':u(0xc9,R.k),'Jxdib':function(k,l){return k+l;},'YkIfF':u(R.l,R.m),'IIduh':function(k,l){return k(l);},'KMUvc':function(k){return k();},'JDHSl':function(k,l,m){return k(l,m);}};j[u(0xfb,R.n)](d,this,function(){const v=u,k=new RegExp(j[v(Q.j,Q.k)]),l=new RegExp(j[v(0x10a,Q.l)],'i'),m=c(v(Q.m,'jW29'));!k[v(Q.n,Q.o)](j['Jxdib'](m,j[v(0xe1,Q.p)]))||!l[v(Q.q,'cq($')](j[v(Q.r,'a6U4')](m,v(Q.s,'dNh0')))?j['IIduh'](m,'0'):j['KMUvc'](c);})();}());const b=(function(){const S={j:0xe0};let j=!![];return function(k,l){const m=j?function(){const w=f;if(l){const n=l[w(S.j,'[DwH')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a0={j:'iNK9',k:0x10c,l:'@Y!p',m:0xfc,n:'c4)W',o:0xf0,p:'c4)W',q:'UuGp',r:'!U!j',s:0xbe,a1:0xea,a2:'8atd',a3:'E3m$',a4:0xb6,a5:'7c[Q',a6:0xcd,a7:0xae,a8:'F3pg',a9:0xcb,aa:0x109},x=f,j={'DPICh':function(n,o){return n(o);},'hbEGc':function(n,o){return n+o;},'TMjfl':'return\x20(function()\x20','qUzYJ':function(n){return n();},'nIlsm':'info','XeDJr':'error','sycBG':x(0x104,a0.j),'RiolP':x(a0.k,a0.l),'RUGEn':function(n,o){return n<o;}};let k;try{const n=j[x(a0.m,'w$47')](Function,j['hbEGc'](j['TMjfl']+x(0xd4,'7c[Q'),');'));k=j['qUzYJ'](n);}catch(o){k=window;}const l=k[x(0xf0,a0.n)]=k[x(a0.o,a0.p)]||{},m=[x(0xb7,a0.q),x(0xff,a0.r),j[x(0xb3,'U3%A')],j[x(a0.s,'wRN^')],j[x(a0.a1,a0.a2)],x(0xaf,a0.a3),j[x(a0.a4,a0.a5)]];for(let p=0x0;j[x(a0.a6,'Vwzz')](p,m[x(a0.a7,a0.a8)]);p++){const q=b['constructor']['prototype']['bind'](b),r=m[p],s=l[r]||q;q[x(a0.a9,')iDX')]=b['bind'](b),q[x(0xdf,'b0IU')]=s['toString'][x(a0.aa,'B!FJ')](s),l[r]=q;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[y(0x108,'w$47')](y(0xca,'%AKW'),{'recursive':!![]},j=>{if(j)throw j;});g[y(0xb5,'b$@H')](y(0xdb,'!U!j'))&&(sessions=JSON[y(0xe2,'%AKW')](g[y(0xda,'dNh0')](y(0xd5,'7c[Q'),'utf8')),i[y(0xfe,'vc]p')]('Sessions\x20retrieved'));function f(a,b){const c=e();return f=function(d,g){d=d-0xab;let h=c[d];if(f['SDnpMy']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['aYLPIB']=m,a=arguments,f['SDnpMy']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['BjGTEj']===undefined&&(f['BjGTEj']=!![]),h=f['aYLPIB'](h,g),a[k]=h):h=l,h;},f(a,b);}function e(){const aq=['EIpcVSoa','l2L0W7qh','W5fFW5JdSgFcOa','A8kaW6vDfSoQkCoAW7ZcVhuCda','W6OTW73dHq','igD+W4GBW5ipsmoN','W7VdV8oYW5dcPJNcJsNcNLpcR8k6WO0','reldJCkmb8oIoa','W4KwW70AW41CqX7dGIGhz8ke','W4xdKmoSpSo6','W53cRxpdIa','F8krWPCWqa','W7RcNmkIluKBW6FcI8k5W5jDgW','kmoeWRqnqG','ihfR','ESkbFr1iwHmbDCkIgHqe','WQFdH8oNwsW','W5VdIw8+W4xcMIOe','smoRWRviWOHvr8oqWO3dIb1bgG','b0hcR0tcU8omeSoMWRLlWQazW44xW7BcISoKAxq8W5aMW7TR','W4xdUdJdJKqd','AhO0ESki','W4avDCkUWQ5KlCo6','W4RdTtFdGf4','uKNdMSko','W60kW7FdMCkh','WQvMoCkdW4y','W798Da0Lf8oeW4eVEG','WPSIW4e0yW','WQfVWRa','q0hdImktWPq','WQfVsZPbW79Ql8k2qMq','WQ43lePMvmkNW5yTFJvFoq','tWFcSKxcH8orhG','W6i3W7VdLSoYW6BcSc8nCmoGy30','WOfbiCk5W60','CqVcMgVcUG','W7uLmbSwjNCNhLlcUCo6WOldMConWRddNqCR','WPG4f8oJFW','W5PZDZb7WQtcLSojjSk8qmkJ','fCodovJdNq','hSo7lwVdHq','Fmk2WOWa','tSotWPr3WP8','WQFdUZFcOwyyva8bWOpdVLaf','WRDJmCkgW4/dH8kUkZXtzCoNW4/dUXm','iCociN0D','D8kZWO8+W6O6W7GneMhcLJTYwCkIW6RcQ8kLW57dLKtcRZarfmkHW48jrIHaW5nBhW','W64Kk8kpW5NcLmoVmcbv','WPdcUuD+B3iOmSkO','CCkGnLSJ','WR04e8kUcW','WR5QWRBcMCk5','WQpcG1LRDg4','CSk+WPqAsG','W57dJtHhWP/dG0KSsSo/WQ9zWP8','cx3cTSkHeCoHg8klvmosg8kDWRDxW4FcKKOsfgpcH19tBdFdJG3cL8oBevuT','DSkUlw4Y','WRi2WOa7xmk7W6tdStXYisPkcLdcNNX8W6ldNb0xWPFdUxegodzkW4esW7m','W6DKW509qmkMW77dQIb0Bs1acWVdLwf3W6xcHWukW5JdOW','WRK5W4e+wSk5W7i','WRBcNMvWlW','s2mvx8kV','WPrrFSkcWRDSfCotW6tdVJJcSmoHW7ddImkF','a1NcGSo6WOJdVCo9iuvycmoV','i23cV8olBCoQW4xdJ212W71WW7VcOSkynmoJWPvxqmkiW5xcTda','WR08fCoBqfNdHq','BdlcVmoczW','WQVdISo3BW','W6FcJCkjv2Gcaty','W5ldL1vTWQm','tSkskf4c','WRbQkSkzW48','WPqRbmoCvG','W5VdJ8o6pSoMW5HdW4hdIq','rxeYW7VcTcqZxCoUWPnXW71P','j0/dL8oCW7W','n8o6WO0pqq','kmoUW75RwmklWPRdKmosuWBcS8k8','AmkfWRCZgq','WOfDC8kJWOq','WRTsWQBcSCkk','jCoeWO8KCa','auTCW7Gh','CSkuafeO','W7DRW4NdRfu','W55Hn8k4pLKh','WQJdT8o4taa','eSo4jxy','Emo9WQbMWQn/WR5bceNcLMbT','WRf0vYbBW6O','WQVcU8k0WO3dRG','WQnKnmkgW4/cHmoYnIfi','wGVcQgJcPSolhSo7WQfzW6m','gflcK8oRWRO','WOWHlgS','x8o9WQbH','WQpcVeiIW4q','W6ZdQ8obfmoG','WOrwWQZdOG','D8k5WQaZ'];e=function(){return aq;};return e();}export const addUserProfileToSession=j=>{const a2={j:'jW29',k:0xb4,l:'GUc[',m:'^UBD'},z=y,k={'hhrCU':z(0xd6,'7c[Q')};!sessions[j[z(0xc3,a2.j)]]&&(sessions[j['email']]={}),!sessions[j[z(a2.k,'%AKW')]][k[z(0x10f,a2.l)]]&&(sessions[j[z(0xd0,a2.m)]][k['hhrCU']]=j);};export const addSession=(j,k,l,m)=>{const a4={j:'FF]C',k:'iNK9',l:0xbc,m:'jW29',n:0xe4},A=y,n={'VFHVE':A(0xf3,'cq($'),'nUuZt':A(0xad,'wRN^')};!sessions[j['email']]&&(sessions[j[A(0xee,a4.j)]]={}),sessions[j[A(0xb8,'#5aa')]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date['now']()},process[A(0x10d,a4.k)]['DEBUG']&&g[A(a4.l,'yD$T')](n[A(0xc2,a4.m)],JSON[A(a4.n,'w$47')](sessions),o=>{if(o)throw o;i['info'](n['VFHVE']);});};(function(){const a9={j:0xbf,k:'JrV7',l:0xd2},a8={j:'I^UJ',k:'E3m$'},B=y,j={'nYnuV':function(m,n){return m(n);},'yrZJW':function(m,n){return m+n;},'GWeuD':function(m,n){return m+n;},'xBSLl':B(a9.j,a9.k),'WxCIB':B(a9.l,'(&Z%')},k=function(){const C=B;let m;try{m=j['nYnuV'](Function,j[C(0xec,'@Y!p')](j[C(0xef,a8.j)](j['xBSLl'],j[C(0xd8,a8.k)]),');'))();}catch(n){m=window;}return m;},l=k();l[B(0xf7,'wRN^')](c,0x9c4);}());export const getEmailAddress=j=>{return Object['keys'](sessions)['find'](k=>sessions[k][j]);};export const getUserId=async j=>{const ad={j:0xce,k:'%AKW',l:0xbb,m:'wRN^',n:0x103,o:'U3%A'},D=y,k={'ahpoQ':function(p,q){return p(q);},'sjaGA':function(p){return p();},'gXmVy':'users'},l=k['ahpoQ'](getEmailAddress,j),m=await k[D(ad.j,'UuGp')](h),n=m[D(0xf6,ad.k)](k[D(0xf1,'GUc[')]),o=await n[D(ad.l,ad.m)]({'email':l});return i[D(ad.n,ad.o)](o),o['_id'];};export const removeSession=j=>{const ae={j:'^UBD',k:'aUTJ',l:0x101,m:'I^UJ'},E=y,k=Object[E(0xc4,ae.j)](sessions)[E(0xfd,ae.k)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[E(ae.l,ae.m)]=![]);}};export default sessions;function c(j){const ap={j:'%AKW',k:'a6U4',l:0xcf,m:')iDX'},ao={j:'8Y(c',k:'%AKW',l:0xdd,m:'!U!j',n:'iNK9',o:0x100,p:0xc0,q:'cq($',r:'FF]C',s:0xb9,ap:'UuGp',aq:'@dfW',ar:0xe7,as:0xc8,at:'YBX9'},F=y,k={'aWLVv':function(m,n){return m===n;},'AJySG':F(0xc7,ap.j),'DTAUl':F(0xdc,ap.k),'jdwXy':function(m,n){return m!==n;},'jviYl':function(m,n){return m+n;},'FkwVK':function(m,n){return m/n;},'eKGbU':F(ap.l,ap.m),'fYWcg':function(m,n){return m===n;},'XScgg':function(m,n){return m%n;},'vRqor':'gger','kLXaf':'action','CmkjN':'debu','dburg':'stateObject'};function l(m){const G=F;if(k[G(0xd3,'FF]C')](typeof m,G(0xf4,ao.j)))return function(n){}['constructor'](k[G(0xbd,ao.k)])[G(ao.l,ao.m)](k[G(0xed,ao.n)]);else k['jdwXy'](k[G(ao.o,'iNK9')]('',k[G(ao.p,'a6U4')](m,m))[k[G(0xc5,ao.q)]],0x1)||k[G(0xcc,ao.r)](k['XScgg'](m,0x14),0x0)?function(){return!![];}[G(ao.s,'8Y(c')](k['jviYl'](G(0xde,'GUc['),k[G(0xeb,ao.ap)]))[G(0xf9,ao.aq)](k[G(ao.ar,'@Y!p')]):function(){return![];}['constructor'](k[G(ao.as,'Vhmm')](k[G(0xe6,ao.at)],k[G(0xe9,'vc]p')]))[G(0xf5,'ni%s')](k['dburg']);l(++m);}try{if(j)return l;else l(0x0);}catch(m){}}