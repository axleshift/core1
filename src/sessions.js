const z=f;(function(j,k){const J={j:0x187,k:'BQBX',l:'&FYz',m:0x181,n:'!aNB',o:'8qAf',p:0x17e,q:'*86k',r:0x1a8,s:0x174,K:'VkpG'},t=f,l=j();while(!![]){try{const m=parseInt(t(J.j,J.k))/0x1*(-parseInt(t(0x1cc,'HqDf'))/0x2)+parseInt(t(0x19a,'jkZ]'))/0x3+parseInt(t(0x1b2,'!aNB'))/0x4*(parseInt(t(0x19c,J.l))/0x5)+parseInt(t(J.m,J.n))/0x6+parseInt(t(0x1a5,J.o))/0x7*(-parseInt(t(0x1d8,'Fx)r'))/0x8)+-parseInt(t(J.p,J.q))/0x9+-parseInt(t(J.r,'(aPX'))/0xa*(-parseInt(t(J.s,J.K))/0xb);if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x33a25));const d=(function(){const K={j:0x195,k:'8qAf'};let j=!![];return function(k,l){const m=j?function(){const u=f;if(l){const n=l[u(K.j,K.k)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const S={j:0x1dc,k:'TF1)'},R={j:0x1a4,k:'Mb^K',l:0x1a0,m:0x1e1,n:'nFmh',o:'iONd',p:0x1c1,q:0x172,r:'d9d@',s:'tOQX',S:0x19b,T:0x173,U:0x1b9},v=f,j={'NUowd':v(S.j,S.k),'TfwZd':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','QoJsk':v(0x1c5,'$9k#'),'ZPCOR':function(k,l){return k+l;},'dFbKW':v(0x1d5,'R#K@'),'SmnYp':function(k,l){return k(l);},'pHuOg':function(k,l,m){return k(l,m);}};j[v(0x1df,'(aPX')](d,this,function(){const w=v,k=new RegExp(j[w(R.j,R.k)]),l=new RegExp(j[w(R.l,'Nq(w')],'i'),m=c(j[w(R.m,R.n)]);!k[w(0x17d,R.o)](j[w(R.p,'*86k')](m,w(R.q,R.r)))||!l[w(0x194,R.s)](j[w(R.S,'mP]U')](m,j[w(R.T,'R&jj')]))?j[w(R.U,R.o)](m,'0'):c();})();}());const b=(function(){let j=!![];return function(k,l){const m=j?function(){const x=f;if(l){const n=l[x(0x1a6,'H%]&')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a1={j:0x18a,k:'tOQX',l:0x1b1,m:'Ol)u',n:0x1ca,o:'vOCe',p:0x1d1,q:'L#rw',r:'BQBX',s:'&FYz',a2:0x182,a3:0x1c7,a4:'(aPX',a5:'R&jj',a6:0x188,a7:'HqDf',a8:0x1b4,a9:0x1ae,aa:0x1b0,ab:'*86k'},y=f,j={'ZIKGN':function(n,o){return n(o);},'Whlsq':function(n,o){return n+o;},'vxRBe':y(a1.j,a1.k),'YzOCn':y(0x18d,'Xnr%'),'ocBXq':function(n){return n();},'BeryM':'log','GweiL':'warn','vrzsd':y(0x1c3,'Mb^K'),'YvhoE':y(a1.l,'Ol)u'),'wtCTZ':y(0x1c0,'TF1)'),'bCnlK':function(n,o){return n<o;}};let k;try{const n=j[y(0x1aa,a1.m)](Function,j['Whlsq'](j['Whlsq'](j[y(0x1b3,'QWO0')],j['YzOCn']),');'));k=j[y(0x1bc,'^lZ3')](n);}catch(o){k=window;}const l=k[y(a1.n,a1.o)]=k[y(a1.p,a1.q)]||{},m=[j[y(0x190,a1.r)],j[y(0x1bf,a1.s)],j['vrzsd'],j[y(a1.a2,'TU&!')],y(0x193,'hplI'),y(a1.a3,a1.a4),j[y(0x1ce,'8UKe')]];for(let p=0x0;j['bCnlK'](p,m[y(0x1db,a1.a5)]);p++){const q=b[y(0x178,'Xnr%')][y(a1.a6,a1.a7)][y(a1.a8,a1.s)](b),r=m[p],s=l[r]||q;q['__proto__']=b[y(a1.a9,'9(YM')](b),q[y(0x19f,'BQBX')]=s[y(a1.aa,a1.ab)]['bind'](s),l[r]=q;}});a();import g from'fs';import h from'../models/db.js';import i from'../src/logger.js';let sessions={};g[z(0x1d0,'VkpG')]('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g[z(0x184,'(5V%')](z(0x1ba,'(5V%'))&&(sessions=JSON['parse'](g[z(0x1d4,'QK4b')](z(0x183,'QK4b'),'utf8')),i['info'](z(0x1bd,'Gu!i')));export const addUserProfileToSession=j=>{const a3={j:0x1ad,k:0x1b6,l:0x1e2,m:'nFmh',n:0x1c8,o:'QK4b',p:0x1d9,q:0x1d2},A=z,k={'VNoVF':A(a3.j,'(5V%')};if(!sessions[j[A(a3.k,'hplI')]])sessions[j[A(a3.l,a3.m)]]={};if(!sessions[j[A(0x1af,'70Tu')]][k[A(a3.n,a3.o)]])sessions[j[A(a3.p,'^lZ3')]][k[A(a3.q,'^lZ3')]]=j;};export const addSession=(j,k,l,m)=>{const a5={j:0x18e,k:'8UKe',l:'##Vw',m:0x1c6,n:'jkZ]',o:'(aPX',p:0x1b8,q:0x1da,r:'TU&!'},a4={j:'pFHx'},B=z,n={'QxlGl':B(a5.j,a5.k),'OeYAd':'production','rnJUi':'./sessions/sessions.json'};if(!sessions[j[B(0x1ab,a5.l)]])sessions[j[B(a5.m,a5.n)]]={};sessions[j[B(0x17f,a5.o)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[B(a5.p,'Gu!i')]()},process[B(a5.q,'^lZ3')]['NODE_ENV']!==n['OeYAd']&&g['writeFileSync'](n[B(0x18b,a5.r)],JSON[B(0x185,'QWO0')](sessions),o=>{const C=B;if(o)throw o;i[C(0x192,a4.j)](n['QxlGl']);});};export const getEmailAddress=j=>{const a6={j:0x1a2,k:'&FYz',l:'Xnr%'},D=z;return Object[D(a6.j,a6.k)](sessions)[D(0x196,a6.l)](k=>sessions[k][j]);};function e(){const as=['W4eYWPCeeSo0W4xcSSkA','WRxdR8kynq','W5OdWODkvW','smoCxSko','h8kdq8kLW60fdmoA','nXubBqa','W6FcV8o9CXa','WO8qmrdcLw3dK8o2WOVdRcm1','WPFdOgzBW4S','bqz4mWDvBSo7W4HTlmko','W4FcLSkX','y8kOq3BcLSosW4pdQCkycW4Z','WPtdRNaOW64LWP0c','WPddTHdcNKu','WPb4W4vsfmopW5xcQ8kZW48','w1S2CG','yujbmNyhW6jbyLf4cG','pCkuW5SiW4C','WOPbW4iuggO7nSkHWQXFW7CM','rSo6dYpdJW','W4XsBhmH','qWZdOvpdOCoPiCkpeSkg','WOiSbepdUq','nSoda8kEWOC','o2hcHSoEbq','WRpcHLi8WRVcJNxdGCoHWPS8WQK','W4LwAMq4r8oC','WPSck8ob','W73cKSk0WRmt','mSk1W7rUfHyAWPG','cCo4oSk2WRS','zW/dUCkKW7RcOZVcVa','WQPaW6a1WOm','uLCHzq','W47cI8k/WOiT','W4eNWPuidG','W5GcCmk4p8oJoW3dQSoTW7ZdPW','WOX4WQK','WRtdJ2ZcJxG','WPClDMCIwmoqyCkhWRxdHYrPetFcMrFdICods8opW5ddHaG','W5JdRNBcT8oBwq','WQyQBSo6jW','WRfYWQ1+W5pcS8kLEdr4W63cGSkZAmoaWRmeW5S','WR46iSoCrq','D0KQAhO','WPpdQgLkpW','hmkkW6rvnG','W55jBuxdRtFdLq','gSkVW5iq','WOBdHgKAWQaXWQpcKSo1W7BcJq','W53dPxhcPa','W51nyKJdJG','afNcTa/dVG','WONcMIBdSaG','WRr9W74gWRm','j8k/W54nW5z6W7m','W69qB1Od','emkLmCklCmk6BG','WPxdO8kBj8k0','WQeAig7dOq','f8kKW5yk','WQ7dPSkOW7Sp','jmoxkCkxxmktWPS','WP8hq8o0ea','W5PfAw4','WQ3cSsJdGGJdNSkYcXqfmhS','WPZdNNGBWRe','WQFdVWNcT1xcNtjbFSkxW6O','WPNdSMKpW40','BXvkW5ddOmk4pmk7','WQWKtColoG','WQWNwG','nvBcOsjUkq','WOhdR2zklSkbamoVWPNcThFdQMNdUdrV','WRxdIHycva','ASorzmkCW4K','bhdcOYZdVa','WPBdSNSqW74','WRzLW5FcIYq','WOjNW7ZcKsm','BxCyW6RdVq','W4HzCmkxfZxcMSk8FCo6BxKr','eSkDW6OsW4G','gSkEWOm9rG','pxxcRq5n','W7FcV8o9WQelomk+v8oelW','jSoin8kisG','WROSwmoRomkXW6DrWPZcKdW','qCklW789W5aSzW','tCoAxSkzW58Zo8oQzSovWRu','WOWhw33cPW','WQldRSk4W7SleG','WPJdHSkDlCkF','W4WBWP5ks3OIjCk1WOfIWO1/W6XS','WPpdH3hcOa','CmoUWPyTueOzWPZdLCkGW4hdPW','evxcTWRdTW','W5PlA3eLwComBCkDWQNcMG','yqtcQSoXWQhdSW7cKLhcLwuc','WQJdQsClEa','W7hdUZRdGZ3dHmk3asKpCwVdRSoxW6rDmrdcUCoVpmobWP3cOa','W5XCBheLwmoQD8khWQu','WQ9mW4aEWOJdIYHOWP8','imoVESo8','W5pcTXzSWQ90WQyDWOzoWQBdMW','uSkDfCk9BmkQCCofzG','mftdVCkH','WRpdR8kFnmk3vXXsWRNcP8oHD8oLtMBdNCodWQFdLG','WOpdSquXva','emkUW5GtW4yRDrLsWPS','vCoihSkjW4qVpCo9ymopWQrGWPGemCkrWQBdVCkApCkuue8DW5OnWOVdLSknD8ovWQy','WOuleeNdKGxdTmkaemkMhemY','CWddNSkaW5e','WQldPfeLW5e','W5OqWOnpqtq','WQDFFSkK'];e=function(){return as;};return e();}export const getUserId=async j=>{const a9={j:0x1de,k:'Xnr%',l:'Mb^K',m:'TU&!',n:0x1c2,o:'70Tu'},E=z,k={'DdTvb':function(p,q){return p(q);},'rsxIR':function(p){return p();},'DUYfi':'users'},l=k[E(a9.j,a9.k)](getEmailAddress,j),m=await k['rsxIR'](h),n=m[E(0x18c,a9.l)](k[E(0x1dd,a9.m)]),o=await n[E(a9.n,'jkZ]')]({'email':l});return o[E(0x19d,a9.o)];};export const removeSession=j=>{const aa={j:0x186,k:0x189,l:'!aNB',m:'VkpG'},F=z,k=Object[F(aa.j,'!bf*')](sessions)[F(aa.k,aa.l)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[F(0x17a,aa.m)]=![]);}};export default sessions;function f(a,b){const c=e();return f=function(d,g){d=d-0x16f;let h=c[d];if(f['HUzVdm']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['wOiQbZ']=m,a=arguments,f['HUzVdm']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['hVrlzg']===undefined&&(f['hVrlzg']=!![]),h=f['wOiQbZ'](h,g),a[k]=h):h=l,h;},f(a,b);}(function(){const ae={j:0x1be,k:'9(YM',l:0x199,m:'fPRw',n:'^lZ3'},G=z,j={'BrSRh':function(l,m){return l(m);},'GQgyd':function(l,m){return l+m;},'aJwZg':'return\x20(function()\x20','EysiP':'{}.constructor(\x22return\x20this\x22)(\x20)','RmJoM':function(l){return l();}};let k;try{const l=j['BrSRh'](Function,j[G(ae.j,ae.k)](j[G(ae.l,ae.m)],j['EysiP'])+');');k=j['RmJoM'](l);}catch(m){k=window;}k[G(0x176,ae.n)](c,0x9c4);}());function c(j){const ar={j:0x17c,k:'8qAf',l:0x1cf,m:'Mb^K',n:'R#K@',o:'ZAO7'},aq={j:0x198,k:'08n0',l:0x1d6,m:0x1e0,n:0x1d7,o:0x17b,p:0x1a7,q:0x1bb,r:0x1a9,s:'8UKe',ar:0x1cd,as:'(5V%',at:'0vj['},H=z,k={'eauoE':function(m,n){return m===n;},'vsXLb':H(ar.j,ar.k),'ysJSQ':function(m,n){return m!==n;},'YLvlZ':function(m,n){return m+n;},'uviqp':function(m,n){return m/n;},'VMZlq':function(m,n){return m%n;},'Tipfq':H(ar.l,ar.m),'VtjXR':'gger','muyiK':H(0x191,'8qAf'),'TBgyB':function(m,n){return m+n;},'HlsmR':H(0x1c4,ar.n),'hELqU':function(m,n){return m(n);},'mPzKD':function(m,n){return m(n);}};function l(m){const I=H;if(k[I(aq.j,aq.k)](typeof m,'string'))return function(n){}[I(aq.l,'Nq(w')](k[I(aq.m,'BQBX')])['apply']('counter');else k[I(aq.n,'BQBX')](k[I(aq.o,'tOQX')]('',k[I(aq.p,'(5V%')](m,m))[I(aq.q,'$9k#')],0x1)||k[I(0x171,'vOCe')](m,0x14)===0x0?function(){return!![];}[I(0x180,'(5V%')](k[I(0x18f,'o1$e')]+k[I(0x1b5,'70Tu')])[I(0x1d3,'(5V%')](k['muyiK']):function(){return![];}[I(0x1d6,'Nq(w')](k[I(aq.r,aq.s)](k[I(aq.ar,'tOQX')],k[I(0x1cb,aq.as)]))[I(0x175,'L#rw')](k[I(0x16f,aq.at)]);k[I(0x1c9,'QWO0')](l,++m);}try{if(j)return l;else k[H(0x179,ar.o)](l,0x0);}catch(m){}}