const E=f;(function(m,n){const M={m:0x114,n:'tKE&',o:'iZIH',p:'OX!E',q:0xd0,r:'deHI',s:0xbe,t:0xae,u:'lofY',v:0xe1,w:'niqX',x:0x110,N:'rxvC'},y=f,o=m();while(!![]){try{const p=-parseInt(y(M.m,M.n))/0x1*(-parseInt(y(0x123,M.o))/0x2)+parseInt(y(0xdf,M.p))/0x3+parseInt(y(M.q,'iYSg'))/0x4*(-parseInt(y(0xde,M.r))/0x5)+-parseInt(y(M.s,'))@4'))/0x6*(-parseInt(y(0xda,'n#!W'))/0x7)+-parseInt(y(M.t,'ff$P'))/0x8*(parseInt(y(0xc1,M.u))/0x9)+-parseInt(y(M.v,'o!jH'))/0xa*(-parseInt(y(0xe3,M.w))/0xb)+-parseInt(y(M.x,M.N))/0xc;if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x4bc0d));const d=(function(){let m=!![];return function(n,o){const p=m?function(){if(o){const q=o['apply'](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const W={m:'vyux',n:0xc2},V={m:0xdc,n:'j!Ia',o:0x116,p:0xb7,q:'lofY',r:0xb8,s:'iYSg'},z=f,m={'pKyvj':'function\x20*\x5c(\x20*\x5c)','FKkYC':z(0xc7,W.m),'ZqztH':function(n,o){return n(o);},'KCPhA':z(0xd9,'n#!W'),'HLsdf':function(n,o){return n+o;},'TLWtD':z(W.n,'*GHY'),'qGqEl':function(n,o){return n(o);},'Swtsk':function(n){return n();}};d(this,function(){const A=z,n=new RegExp(m['pKyvj']),o=new RegExp(m['FKkYC'],'i'),p=m[A(0xf0,'^cOr')](c,m['KCPhA']);!n['test'](m[A(V.m,V.n)](p,m[A(V.o,'iYSg')]))||!o[A(V.p,V.q)](m[A(V.r,V.s)](p,'input'))?m['qGqEl'](p,'0'):m[A(0x11b,'KyaG')](c);})();}());const b=(function(){let m=!![];return function(n,o){const X={m:0x111,n:'lFDh'},p=m?function(){const B=f;if(o){const q=o[B(X.m,X.n)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a6={m:0x11f,n:0xb4,o:'9]#L',p:0xe7,q:'RNK[',r:0xb2,s:0xb0,t:0xcf,u:'deHI',v:'u5ZB',w:0xcb,x:'97@6',a7:0xbc,a8:'g0Wu',a9:0xaf,aa:'lFDh',ab:0xd2,ac:0xb9,ad:'@fex',ae:0xe2,af:'9N3L',ag:'Ss#Z',ah:'sntF'},a5={m:0xf4},C=f,m={'IGZOh':function(r,s){return r(s);},'cMvXA':function(r,s){return r+s;},'fKFaL':C(0xa9,'))@4'),'aQFpC':C(a6.m,'l0Bg'),'XAVqh':function(r){return r();},'XArEH':'error','QBjUx':'exception','Xvcnr':C(a6.n,a6.o),'XkubJ':function(r,s){return r<s;}},n=function(){const D=C;let r;try{r=m['IGZOh'](Function,m[D(0x119,'))@4')](m[D(a5.m,'RNK[')],m['aQFpC'])+');')();}catch(s){r=window;}return r;},o=m[C(a6.p,a6.q)](n),p=o[C(a6.r,'n#!W')]=o[C(a6.s,'lFDh')]||{},q=[C(a6.t,'QBzM'),C(0xeb,a6.u),C(0xf6,a6.v),m[C(a6.w,a6.x)],m['QBjUx'],m[C(a6.a7,a6.a8)],C(a6.a9,a6.aa)];for(let r=0x0;m[C(a6.ab,'iZIH')](r,q[C(a6.ac,'j*zA')]);r++){const s=b[C(0xce,a6.ad)]['prototype']['bind'](b),t=q[r],u=p[t]||s;s[C(a6.ae,a6.af)]=b[C(0xad,a6.ag)](b),s[C(0xbb,a6.ah)]=u[C(0x108,'RV#n')][C(0xa5,a6.o)](u),p[t]=s;}});a();import g from'dotenv';g[E(0x118,'RV#n')]();function f(a,b){const c=e();return f=function(d,g){d=d-0xa5;let h=c[d];if(f['iheUSp']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['Qmbglk']=m,a=arguments,f['iheUSp']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['VTnwbR']===undefined&&(f['VTnwbR']=!![]),h=f['Qmbglk'](h,g),a[k]=h):h=l,h;},f(a,b);}import{ObjectId}from'mongodb';function e(){const aA=['lSorWR/cVaWq','wWBcVsZcHGq','W6ZcVtHf','W7KAdaWb','u2amqbL+','FCkWW6FcMdyXoCocfWBcTMW','W4ldM13dTwlcJSk/W4m','WR0bWOyTWP0','W4xdTCogAXa','W5RcRq3dI8kTlH5IWRLz','gKtdQ8kmBSoVarW','t34Xksu','WQhcOtLDWPWdWQS','m3OfWOhcUG','AHX5W6VcTSkT','gmoepW','W4ldM2xdPh4','WQVdQ3mgW79sW7pdGZ5vW4GcW5y','DbhcQSkggd8oySoIW4jbW5mWWQPnh8oFcceZW6xcSGybzSklpCoLAInkWPBcVSkL','WQ7dR8oLAq','wHtdG8kR','WQNdH8kHWR7dN1KJdKNdNCkyW51YpW','W73dUvuhzW','W7eyimkExW','W43dVCk8W4L9','hmoojCoaW55cWPBdRmkqimkW','WQVcQuW','WOnMtv9sWQiDWQqqh8kUWOq','WQHcxmo9abn0WRxdRuPT','WQDtkg/dVG','WOdcUg1kWO8nWOGWbSoeWQXBW6K','WRVdUmoCW5FdOmkOEa','WRTMW5NcL8oFeMy','W7aubmkQ','WR1GW5/cS8oz','hYP7fYTg','dw4EW6a','xtHhWQpdNxldT8kAcxW','uHhcOstcGa','WOldPmkNWRtdJq','xrfpW4/cGG','BCkfWOVcNHefWRGK','DXdcTensdmkxmaRdIM0R','c8ooimowW4q','W6NcP8obW6ddJmkzCeW','qatcLHffrCoyW5BdNq','W63cSSkKl8o1W6CpWPf7qmodc8oy','W7JdLmkvW59w','WQtdVKzzWONdOSkZCa','Bc/cHXDpFSovW6pdPXJdTq','WQ7dV8kxACkr','WPpdICo+r8osW6ZcPvjmW4pdTmoqimozva','W6DrvIW5','W4BdLwNdPa','kCorWR/cSW','Bc/cHXDFqG','W6BcRfLQ','b2uEW7G','W6xdM8oorrO','WPv4W6lcKCoL','hq9GuXOke2BdQcG','W6pdQCorAq','jgSuWO0','WPddTCkhECk1','WOSLoqelBSoI','dJNcVSoQ','kSkEW6pcNq','W6BcVvz6WP3dOq','W4/dL8ovsGK','uqRcVs8','xdBcQszl','omozWQpcUq','W7/dJCo1DrO','ovC9WR3cMW','WRtcSKPnohq','W7JdPwSzwSk5b0bjW7iWW7TpW53dSmozv1O5','cwXkW482WPfD','W7jscNJdUa','eupcHmobBhXk','W7fIceddIXa','W4ddQ1CrtG','W4tdKh/dI1u','EqVdPSkWW6m','WOSLkWClzSo1W4i','FMZcO8o4Aq','pMOkWPJcGG','hgPoW5iKWOO','WQDdW7JcPG','W6HWjuddRG','WRNdTmoDW5ddU8kJ','f2uzW7a','WQFdSqy/W5hcOCo/FKBcHahdVmoO','W5bjW5JcR8oQ','WO3dJSkJWRtdJW','trtdJ8k6','W5jRwN7cQ8kWAN8','W47dPwuFAW','W6uAkbWJ','WQxdOJbwxmkUvW0','WPWLfHuqAa','WOJdMeZcQ8ku','cSkDWQ3cLKi','zbtcPZJcMq','W7aCb8kNta','W6ddTmoDAZ1uiIG','W7LRr1FdKq3dVConW4WntmkhW5/dJmktWRr/W5ekWQuOuSoQW6xdJ8kYc8kIaXFcUSov','AZpcKCkgW4pdP8kijCkqWPZdJeZdNmk8c25OlSk4W4atW4vcWQDcu8oSW5C+wWDg','W6JcTZHf','W5RdNXeVW5a','WOFcHgBdMeJcS8kRW7m','W4SpAZ7cJbZcHCkggGG8','WQBcTLTvna','i3CkWOW','W6ddL8kFW74','F0tcOHtcKLPqCmk+W6eV','WPa5ru0','bI1Mea','WPNdSe7cHSkNnxKOWOXVW40yW7uhaJPGWQab','WOxdKCoNr8oo','WRNdVSoB','W40iBZRcGuJcGCkNjd09iG','dJDNgG','WRRcQCkgmh8iCZRcMmoAgIFdGW','W4vlW4NcOmo2','W5jwW4BcSmo8sMS','W5ddPtelW4TgW4u3oCoQWRy','b28zW6FdN03dUW','W7hdM8kFW74','W7BdN8ktW7z1'];e=function(){return aA;};return e();}(function(){const ac={m:'YxrD'},ab={m:0x112,n:'j!Ia',o:0x11a,p:'QL0%'},F=E,m={'COWOi':function(p,q){return p(q);},'Gfwdd':function(p,q){return p+q;},'nxnpV':function(p,q){return p+q;},'vHHdZ':F(0x100,'HJNb'),'efHGZ':F(0x11e,ac.m),'qRkgt':function(p){return p();}},n=function(){const G=F;let p;try{p=m['COWOi'](Function,m[G(ab.m,ab.n)](m[G(0x10a,'*GHY')](m['vHHdZ'],m[G(ab.o,ab.p)]),');'))();}catch(q){p=window;}return p;},o=m['qRkgt'](n);o['setInterval'](c,0x9c4);}());import h from'express';import i from'../../src/logger.js';import j from'../../models/db.js';import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUserId}from'../../src/sessions.js';const router=h['Router'](),limit=0x14;router[E(0xc8,'niqX')]('/',k,async(m,n)=>{const ai={m:0xfd,n:'ff$P',o:0x10c,p:'H[gw',q:0xea,r:'sntF',s:0x121,t:'je@T',u:0xcc,v:'NaS)',w:0xbd,x:0xca,aj:0xfa,ak:'KyaG',al:0xf5,am:'RV#n',an:'Dr&T',ao:0xa8,ap:'Ss#Z',aq:0xee,ar:0xdb,as:'KyaG',at:0xa7,au:'tKE&'},H=E,o={'vWKrR':function(p,q){return p(q);},'iUNWo':function(p,q){return p*q;},'cIfBG':function(p,q){return p-q;},'mmJPg':function(p){return p();},'LoxlX':'freight','CmOEa':function(p,q){return p/q;}};try{const p=await getUserId(m['token']),q=o[H(ai.m,ai.n)](parseInt,m[H(ai.o,ai.p)][H(ai.q,ai.r)])||0x1,r=o[H(ai.s,ai.t)](o[H(0xc0,'dJ&*')](q,0x1),limit),s=await o[H(ai.u,ai.v)](j),t=s['collection'](o[H(ai.w,'ff$P')]),u=await t[H(ai.x,'j!Ia')]({'user_id':new ObjectId(p)}),v=await t[H(ai.aj,ai.ak)]({'user_id':new ObjectId(p)})['skip'](r)[H(0x11c,'NaS)')](limit)[H(ai.al,ai.am)]();return n[H(0xc3,ai.an)](0xc8)[H(ai.ao,ai.ap)]({'data':v,'totalPages':Math[H(ai.aq,'n#!W')](o[H(0xfb,'9N3L')](u,limit)),'currentPage':q});}catch(w){i[H(ai.ar,ai.as)](w);}return n['status'](0x1f4)[H(ai.at,ai.au)]();}),router[E(0xc4,'@fex')]('/:id',k,async(m,n)=>{const al={m:'deHI',n:'^cOr',o:0x10b,p:'IJl3',q:0xf8,r:0xf2,s:'rxvC'},I=E,o={'KFATN':function(p,q){return p(q);},'jfLtP':function(p){return p();},'CotzQ':'freight'};try{const p=await o['KFATN'](getUserId,m[I(0xe0,'@fex')]),q=m[I(0xb5,al.m)]['id'];if(!q)return n[I(0xec,'9N3L')](0x190)['send']();const r=await o[I(0x10d,'YxrD')](j),s=r['collection'](o['CotzQ']),t=await s[I(0xfc,'deHI')]({'user_id':new ObjectId(p)})[I(0xd5,al.n)]();if(!t['length'])return n[I(al.o,al.p)](0x194)[I(0x125,'*GHY')]();return n[I(al.q,'rxvC')](0xc8)[I(al.r,'ff$P')]({'data':t});}catch(u){i['error'](u);}return n[I(0xff,'QBzM')](0x1f4)[I(0xed,al.s)]();}),router[E(0x120,'lofY')](E(0x117,'HJNb'),[k,l],async(m,n)=>{const ao={m:0xab,n:'o!jH',o:'IJl3',p:0xf7,q:'HipA',r:'9]#L',s:0xd7,t:0xd6,u:0xef,v:0x10f,w:0xc5,x:0xf9,ap:'ff$P',aq:0x104,ar:0xf8,as:0xc9,at:'&ap!'},J=E,o={'riGVt':J(ao.m,ao.n),'lApBR':'sea','UaHXQ':function(p,q){return p(q);},'VVUUQ':function(p){return p();},'FMkMA':J(0x101,ao.o)};try{const {shipper:p,consignee:q,shipment:r,shipping:s}=m[J(ao.p,ao.q)],t=m['params'][J(0xf3,'*GHY')];if(!p||!q||!r||!s||!t)return n['status'](0x190)[J(0xb3,ao.r)]();if(![o[J(ao.s,'^cOr')],J(ao.t,'NaS)'),o[J(ao.u,'ff$P')]][J(0x11d,'ff$P')](t))return n['status'](0x190)[J(ao.v,'n#!W')]();const u=await o['UaHXQ'](getUserId,m[J(ao.w,'sntF')]),v=await o[J(0x109,'vyux')](j),w=v['collection'](o[J(ao.x,ao.ap)]);return await w['insertOne']({'user_id':u,'data':{'shipper':p,'consignee':q,'shipment':r,'shipping':s},'type':t,'created_at':new Date(),'updated_at':new Date()}),n[J(ao.aq,'YxrD')](0xc9)['send']();}catch(x){i['error'](x);}return n[J(ao.ar,'rxvC')](0x1f4)[J(ao.as,ao.at)]();});export default router;function c(m){const az={m:0xd8,n:0xe8,o:0xb6,p:0x113,q:'&ap!',r:'o!jH',s:0x105},ay={m:0x115,n:'HJNb',o:0xa6,p:0xe4,q:'9]#L',r:0x106,s:0xfe,t:'*GHY'},K=E,n={'DezsC':K(az.m,'Ss#Z'),'kCOTf':K(az.n,'*wKW'),'rMXEH':function(p,q){return p+q;},'zTRgX':function(p,q){return p/q;},'zjdEF':K(az.o,'KyaG'),'pDcLF':function(p,q){return p===q;},'OCMSm':function(p,q){return p%q;},'rdqJE':function(p,q){return p+q;},'iEYUO':K(az.p,az.q),'DyWPA':K(0x10e,az.r),'oIJGp':'gger','eSpSa':function(p,q){return p(q);}};function o(p){const L=K;if(typeof p===n[L(ay.m,ay.n)])return function(q){}[L(ay.o,'%!b(')](n['kCOTf'])[L(0xaa,'*wKW')](L(0xd4,'o!jH'));else n[L(0xe9,'2[nO')]('',n['zTRgX'](p,p))[n[L(ay.p,ay.q)]]!==0x1||n[L(0x102,'YxrD')](n[L(0xcd,ay.q)](p,0x14),0x0)?function(){return!![];}['constructor'](n[L(ay.r,'sntF')](n[L(ay.s,ay.t)],'gger'))['call'](n[L(0xdd,'Dr&T')]):function(){return![];}[L(0xb1,'je@T')](n['rdqJE'](n[L(0x107,'l0Bg')],n['oIJGp']))[L(0x124,'QBzM')](L(0xe6,'9N3L'));o(++p);}try{if(m)return o;else n[K(az.s,'97@6')](o,0x0);}catch(p){}}