import{r as s,j as r}from"./kqbr3HuW.js";import{d as t}from"./DWDQ6s8s.js";import{c as m,o as i,q as o,a as e}from"./CueHWfgz.js";import{P as a,i as j}from"./Di4QKvtO.js";import{p}from"./Bca_0VB-.js";import{d as c}from"./DFarnK1O.js";import{C as n,h as l,i as d}from"./3mtQAFxj.js";import"./BgRKNlhe.js";import"./BYT_-xmR.js";import"./DDgh_DGL.js";import"./uhX4GmSj.js";import"./CxGBFDck.js";import"./c0eKk1Db.js";import"./BbX1BUwh.js";import"./CQYGjB7w.js";import"./DbzcfNKS.js";import"./BGKE3O6B.js";import"./DJeUPDeV.js";import"./B0UoamS-.js";import"./DdgNchEJ.js";import"./omosduih.js";import"./D3yCfJ5s.js";import"./BXEMiIsG.js";import"./CgN-7aKy.js";import"./B60PFSOe.js";import"./_iZV8NMP.js";import"./CJ2-25UQ.js";import"./BqHrj3jM.js";import"./CFK1l90-.js";const f=()=>{const f=a(),x=c(),[h,u]=s.useState([]),[v,w]=s.useState(!1),b=m(t,"messages");return s.useEffect((()=>{i(o(b,e("timestamp")),(s=>{const r=new Map;let t=[];s.docs.forEach((s=>{const m={id:s.id,...s.data()};t.includes(m.ref)||(r.set(m.ref,m),t.push(m.ref))}));const m=Array.from(r.values());u(m)}))}),[]),r.jsxs(r.Fragment,{children:[v&&r.jsx("div",{className:"loading-overlay",children:r.jsx(n,{color:"primary",variant:"grow"})}),j()?r.jsx("div",{className:"row d-flex justify-content-center mx-0 mb-4",children:r.jsx(l,{children:h.map(((s,t)=>r.jsxs(d,{as:"a",onClick:()=>x(`/customer/${s.ref}`),children:[r.jsxs("div",{className:"d-flex w-100 justify-content-between",children:[r.jsxs("h5",{className:"mb-1",children:["#",s.ref]}),r.jsx("small",{children:p(s.timestamp)})]}),r.jsx("p",{className:"mb-1",children:s.text}),r.jsx("small",{children:"admin"===s.sender?"You":"Client"})]},t)))})}):x(`/customer/${f.ref}`)]})};export{f as default};
