import{R as N,r as j,j as e}from"./react-t0FXqAAQ.js";import{F as r,n as _,p as f,o as C}from"./@fortawesome-BIu79hCY.js";import{R as b}from"./react-google-recaptcha-DtYr4tPR.js";import{a as R}from"./js-cookie-Cz0CWeBA.js";import{a as v}from"./axios-CCb-kr4I.js";import{d as E}from"./react-router-Cj39RNwK.js";import{c as F,E as I,F as A,G as q,H as D,I as P,J as t,K as o,L as n,M as S,N as w}from"./@coreui-D1Oy9q0R.js";import"./core-js-Bohkx0y1.js";import"./prop-types-BwQq7MVh.js";import"./react-async-script-kXYQ3c8E.js";import"./hoist-non-react-statics-BhEK_q3m.js";import"./react-is-8JwjhRSi.js";import"./@remix-run-D_05oOQ-.js";import"./react-dom-B8-4x3Di.js";import"./scheduler-CzFDRTuY.js";import"./@popperjs-BQBsAJpH.js";import"./chart.js-DpsrBYWd.js";import"./@kurkle-BZxJdD1U.js";const Z=()=>{const g="",c=E(),l=N.useRef(),[i,p]=j.useState({email:"",first_name:"",last_name:"",password:"",repeat_password:"",recaptcha_ref:""});j.useEffect(()=>{R.get("")!==void 0&&c("/")},[]);const a=m=>{const{id:d,value:s}=m.target;p(u=>({...u,[d]:s}))},y=async m=>{if(m.preventDefault(),i.password!==i.repeat_password)return alert("Passwords do not match");const d=await l.current.executeAsync();p(s=>({...s,recaptcha_ref:d}));try{const s=new FormData;for(const x in i)s.append(x,i[x]);const h=(await v.post("/api/auth/register",s,{headers:{}})).data.status;if(h==201)return c("/");alert(h)}catch(s){console.error(s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(F,{children:e.jsx(I,{className:"justify-content-center",children:e.jsx(A,{md:8,lg:6,xl:5,children:e.jsx(q,{className:"mx-4",children:e.jsx(D,{className:"p-4",children:e.jsxs(P,{onSubmit:y,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(b,{ref:l,size:"invisible",sitekey:g}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:_})}),e.jsx(n,{id:"email",placeholder:"Email",autoComplete:"email",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:f})}),e.jsx(n,{id:"first_name",placeholder:"First Name",autoComplete:"given-name",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:f})}),e.jsx(n,{id:"last_name",placeholder:"Last Name",autoComplete:"family-name",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:C})}),e.jsx(n,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(o,{children:e.jsx(r,{icon:C})}),e.jsx(n,{id:"repeat_password",type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(S,{children:[e.jsx(w,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(w,{color:"primary",className:"me-2 rounded",onClick:()=>c("/login"),children:"Login"})]})})]})})})})})})})};export{Z as default};
