import{r as e,R as s,j as r}from"./B29SdWEC.js";import{E as t}from"./DShVK1TZ.js";import i from"./D9496bDv.js";import{b as n}from"./BnDGulg8.js";import{k as a,d as c}from"./BFKNndIN.js";import{c as o,a as l,b as d,Q as j,R as m,ac as h,ag as p,ae as x,ah as u,i as f}from"./Cn0dVUrX.js";import"./ucIcx5RQ.js";import"./CjjZDEdp.js";import"./K-dupnmX.js";import"./BIw_sdFo.js";import"./CIdotNGq.js";import"./yJGO6Amu.js";import"./BjhGVRpM.js";import"./BFk34ZWe.js";import"./BmTZu7tj.js";import"./CxXfFpkk.js";import"./DPENoFOj.js";import"./Ba2eFa9Y.js";import"./E8MUDNEF.js";import"./D0A342eN.js";import"./DPAjA2jz.js";import"./CvqRn_6q.js";import"./OBe_9qlD.js";import"./BXEMiIsG.js";import"./Bb7MnDjl.js";import"./CA9thugF.js";import"./BPjVUy-D.js";import"./C_n0TLp5.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";const g=()=>{const{id:g}=a();c();const{addToast:y}=n(),[b,v]=e.useState(!0),[S,k]=e.useState(null),N=s.useRef(),w=s.useRef(),R=s.useRef();return e.useEffect((()=>{(async()=>{axios.get(`/invoices/${g}`).then((e=>k(e.data))).catch((e=>{var s,r;const t=(null==(r=null==(s=e.response)?void 0:s.data)?void 0:r.error)||"Server is offline or restarting please wait";y(t)})).finally((()=>v(!1)))})()}),[]),b?r.jsx("div",{className:"loading-overlay",children:r.jsx(o,{color:"primary",variant:"grow"})}):S?r.jsx("div",{ref:N,children:r.jsx(j,{className:"mb-4",children:r.jsxs(m,{children:[r.jsx("h3",{children:"Shipment Receipt"}),r.jsx(h,{children:r.jsxs(p,{children:[r.jsxs(x,{children:[r.jsx(u,{children:"Tracking Number"}),r.jsx(u,{children:S.freight_tracking_number})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Reference Number"}),r.jsx(u,{children:S.invoice_id.slice(-8)})]}),r.jsxs(x,{children:[r.jsx(u,{children:"User ID"}),r.jsx(u,{children:S.user_id})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Amount"}),r.jsx(u,{children:new Intl.NumberFormat("en-US",{style:"currency",currency:S.currency}).format(S.amount)})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Status"}),r.jsx(u,{children:S.status})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Date"}),r.jsx(u,{children:new Date(S.created_at).toLocaleString()})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Last update"}),r.jsx(u,{children:new Date(S.created_at).toLocaleString()})]})]})}),r.jsxs("div",{ref:R,className:"text-center",children:["https://core1.axleshift.com/invoices/",g]}),r.jsx(f,{className:"btn btn-primary px-4",ref:w,onClick:()=>{w.current.style.display="none",R.current.style.display="block";const e=getComputedStyle(document.body).backgroundColor;i(N.current,{scale:2,backgroundColor:e}).then((s=>{const r=s.toDataURL("image/png"),i=new t("p","mm","a4"),n=210*s.height/s.width;i.setFillColor(e),i.rect(0,0,i.internal.pageSize.getWidth(),i.internal.pageSize.getHeight(),"F"),i.addImage(r,"PNG",0,10,210,n),i.save(`Invoice-${g}.pdf`)})).catch((e=>{})).finally((()=>{w.current.style.display="block",R.current.style.display="none"}))},children:"Print"})]})})}):r.jsx(l,{className:"justify-content-center my-5",children:r.jsx(d,{md:6,children:r.jsxs("div",{className:"clearfix",children:[r.jsx("h1",{className:"float-start display-3 me-4 text-danger",children:"OOPS"}),r.jsx("h4",{children:"There was no shipment invoice found."}),r.jsx("p",{children:"Double check tracking number for any mistake."})]})})})};export{g as default};
