const L=f;(function(o,p){const U={o:'[Z4N',p:0x1b5,q:'pBQ^',r:'OsX#'},D=f,q=o();while(!![]){try{const r=parseInt(D(0x1f6,'1Let'))/0x1+-parseInt(D(0x1e8,U.o))/0x2*(parseInt(D(U.p,'!)bb'))/0x3)+parseInt(D(0x1d8,'6G$4'))/0x4+-parseInt(D(0x19e,'E!0I'))/0x5*(parseInt(D(0x209,'NZNr'))/0x6)+-parseInt(D(0x1c6,'6G$4'))/0x7*(parseInt(D(0x1f3,U.q))/0x8)+parseInt(D(0x1fb,'F&TE'))/0x9+parseInt(D(0x1b3,U.r))/0xa;if(r===p)break;else q['push'](q['shift']());}catch(s){q['push'](q['shift']());}}}(e,0xc220d));const d=(function(){let o=!![];return function(p,q){const r=o?function(){const E=f;if(q){const s=q[E(0x1b9,'lm9m')](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}());(function(){const a3={o:'mrn9',p:'wJY2',q:'qNY%'},a2={o:0x1ee,p:'HhHd',q:0x1f0,r:'1Let',s:0x1de},F=f,o={'CSFOC':F(0x1e5,'7oK]'),'lUllZ':F(0x1e0,a3.o),'BbZum':function(p,q){return p(q);},'LYsUJ':F(0x1a4,a3.p),'BfFaJ':function(p,q){return p+q;},'wTgmX':F(0x1a5,a3.q),'pOrHC':function(p){return p();}};d(this,function(){const G=F,p=new RegExp(o[G(a2.o,a2.p)]),q=new RegExp(o['lUllZ'],'i'),r=o['BbZum'](c,o[G(a2.q,')03K')]);!p[G(0x1dd,'7UnZ')](r+G(0x1da,'9gUn'))||!q[G(0x1fe,a2.r)](o[G(a2.s,'PArm')](r,o['wTgmX']))?r('0'):o['pOrHC'](c);})();}());const b=(function(){let o=!![];return function(p,q){const a4={o:0x1f2},r=o?function(){const H=f;if(q){const s=q[H(a4.o,'jsKa')](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}()),a=b(this,function(){const ac={o:0x1a9,p:'HhHd',q:0x1eb,r:')03K',s:0x1c7,t:0x1b2,u:0x1a8,v:'NZNr',w:0x1a0,x:'Arbj',y:'OsX#',z:0x1dc,A:'9gUn',B:0x1cb,C:'uED4',ad:0x1f7,ae:'F&TE',af:0x1db,ag:'1^dn',ah:0x197,ai:'cZ#E',aj:0x1bc,ak:'8BT0'},I=f,o={'uBxvW':function(s,t){return s(t);},'mzdHA':function(s,t){return s+t;},'AoHMs':function(s,t){return s+t;},'YxRkN':I(ac.o,ac.p),'GYfYI':I(ac.q,ac.r),'WtTVu':'warn','BgBlz':I(ac.s,'FL&]'),'NOVGV':'error','QSGed':I(ac.t,'4F!M'),'oYIHj':I(0x1c3,'Mr%m'),'zyvUD':I(ac.u,'HzxA'),'pEBeK':function(s,t){return s<t;}};let p;try{const s=o[I(0x1df,ac.v)](Function,o[I(ac.w,ac.x)](o[I(0x1ff,ac.y)](o[I(0x1b6,'HzxA')],o[I(0x1b7,'EJ^w')]),');'));p=s();}catch(t){p=window;}const q=p['console']=p[I(0x1c5,'EJ^w')]||{},r=[I(ac.z,ac.A),o['WtTVu'],o[I(0x205,'lm9m')],o[I(0x1af,'9gUn')],o[I(0x1be,'6G$4')],o[I(ac.B,ac.C)],o[I(0x1c4,'qNY%')]];for(let u=0x0;o[I(0x1ad,'RlY2')](u,r[I(0x1ab,'3$R4')]);u++){const v=b['constructor'][I(ac.ad,ac.ae)][I(0x20d,')S&!')](b),w=r[u],x=q[w]||v;v[I(ac.af,ac.ag)]=b['bind'](b),v[I(ac.ah,'[Z4N')]=x[I(0x1e1,ac.ai)][I(ac.aj,ac.ak)](x),q[w]=v;}});a();import g from'dotenv';(function(){const ah={o:0x1bd,p:'wJY2',q:0x1bb},ag={o:0x1f8,p:'RlY2'},J=f,o={'DsWWS':function(r,s){return r(s);},'aVOlr':function(r,s){return r+s;},'xHbxr':'return\x20(function()\x20','QmEXj':J(0x1b4,'vqU%'),'eXypd':function(r){return r();}},p=function(){const K=J;let r;try{r=o['DsWWS'](Function,o[K(0x1e7,'1Let')](o[K(ag.o,'!)bb')](o[K(0x19f,'OsX#')],o[K(0x1e3,ag.p)]),');'))();}catch(s){r=window;}return r;},q=o[J(ah.o,ah.p)](p);q[J(ah.q,')S&!')](c,0x9c4);}()),g[L(0x1fc,'7UnZ')]();import{ObjectId}from'mongodb';import h from'express';import i from'moment';import j from'ua-parser-js';function f(a,b){const c=e();return f=function(d,g){d=d-0x196;let h=c[d];if(f['LVVWCU']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['KouGPR']=m,a=arguments,f['LVVWCU']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['yWeBBr']===undefined&&(f['yWeBBr']=!![]),h=f['KouGPR'](h,g),a[k]=h):h=l,h;},f(a,b);}function e(){const aC=['umkSCse9','gZ8Qca','d8kEbI8Q','W6u/WQ7cIq','cCoUq8k2W4O','W5rsWRusWOtdHCkNWRCCWP4HW7ldOa','WQ5JoCkXweVdLcddTSoOW5NcMa','nmoIW6qUWPy','WPtdOSk0nmo2nxpdS8kJ','o8oLW6i','WPpdP2/cRa','wq3dM8oMWR8','WOqcte1i','fKrwymo4dCo+WQnnqSoAhLVdO8ktW7RdTv0zwsapW5JcKYVdOSo9ACkycmkfW63dQ2G','WRT+cCkTq1BdNYq','md3dMge','tSkFFSowWQe','WRpdUx4yW7a','W6jkWQ3dQ8kQW6e0WRaBCSkGWOFdNColFSok','fSotkcCz','W7NcTsGIW6C','n8kHbbO+WRRdPZu','eCksmcGVW6y','W6LxW7W+W5f1W6eAj8kW','W5hcSmkmW5f5W7dcTgGCrCkQW6BdOCoAW6rygbtdKSk/WP3cIeOsW6pcISkJWOVdQae1ca','qSkhWOlcSq','B8k9WRzZW4NcM8oMhCkxWR9yW5W','j8krW7FdJvO','gXxdKN0P','W6BcLmorW6DC','dghcK8kSda','WPpcQmk9fCo/','yLldTCkbgmkIW7accvG','WPhcT8kJcSoYWQ4LW7VdI8oRW4S','W6mpWRJcKCof','WQVdKL53WQa1WRWqWPHaEW0','W7KrlmkEWRtdNZFdQK8','hNRcSCklcW','zCk7WRnZW43cMSkbAmkmWPf2W4C1WO4','WRNcM8k8fSoW','WRHvCmozW6pcNN/dMgZcH8oAWOdcPW','WOtdRxlcVLaJ','WOqZuuLaW4ClWRpdHdK','W6ZcHHq6','W4a1WOtcSCo3','W69oW5iCWOS','W6hdMfSCWQS','WRbUW7RdI8k0mSkJcCoWW4ThWPPu','WPaJqfjWW4G','iSooW64TAMu','dmomW4iMza','WPldVCkvWOnxW7/cOgOjxa','W7ddH1qk','W6RdGs/dMXG','W4L3bW8UWPi/WPpdPs/cICkx','BCo0WQ1NkCoAbSkYW4O','W4pcHr8b','WReLvG','W4VcNX4l','bmoXWOZcQmk0','CSo+gIWuWONdNZO','DmkhwCokuW','lCoeW6WME27cH8oCWP57','W4Gan8kdWQ3dJG','WOyOxvD6WOzeWQldMdJcHConpSodWR0','WQhdJSkRka','W6vBWQ7dOCkW','W7NdRKhcIHtdT8kima','W7KsWQ7cHmo2','WRyyWQPgW5i','D8kTxSo5CmkmWQO','e8kGcWur','CeuIWPZdSa','ASkSDSo/','CLVcKZVdKG','W7DlWRhdOCkWW68','ucJcL8oK','WOJcUMNcOdW','fSkNW4xdT2VdTuJcH1VcKsBdMSokj8oBW4JdUb1J','jYy6oSkL','WOhcV8knufjx','W5JdLLm+WQC','B8k3ECoRWOa','WP7cUMFcTcOfWQa','gCofW5maWQ4','nWlcSW','W7xdH2GaWRu','WOpdU1aKW67cSHXOFq','WRnRW7RdImkXmCkNB8o9W4XYWQvSW4a','W6bCWPCAWORcH1zNcSkmqSkwW4/cMWOcEbnEqbr2WQLdWPixyXOGWPtdHxe','tb/dHSorssNcJCkwACoFW7hdMG','WQxcSfRcQbC','WPumrsRcLq','WR/cHa/dGG3dLmoxga','l8oBW7aMzW','cmoXvmkDha','W5RcKWqMgSk+k8oEW7lcS1G','l8orxCka','zSkAzSo7zG','WRq1W4raW5a','BCoOiGea','W7JcJSo8CmkPDNBdGmkmASkrnW','W53dTCow','Bmkxsmo9WQjbWP7dLG','sxiPWOJdRa','yuZcLrVdOG','WRe6tqdcS8oRW5m','W51wWRquW7xcKSoWWPCIWRK','hSonpIq','xCozW4jkE0S','kSoDrW','lazKlW','W55aWRmWW7a','pCkosI87','WRKlWObRW7C','W5RcGHeBaCk5','lSoxxCkxjSoAWRRcPLJdP8oM','W5tcSYxdOqX2Cqe/W6lcQmoM','kNZcPmkWpq','WQpcVKdcVbq'];e=function(){return aC;};return e();}import k from'../../models/db.js';import l from'../../components/logger.js';import m from'../../components/scm.js';import n from'../../middleware/auth.js';import{getUser}from'../../components/sessions.js';const router=h[L(0x1c8,'3LXG')]();router[L(0x1b0,'pBQ^')]('/',n,async(o,p)=>{const ao={o:'F&TE',p:'RlY2',q:0x19d,r:'7oK]',s:0x19c},an={o:0x196,p:'grU[',q:0x200,r:'vqU%',s:0x199,t:'lm9m',u:'mrn9',v:'!)bb',w:'DNhZ',x:'wJY2'},al={o:0x20a,p:'HzxA',q:0x1e2,r:0x1ec,s:0x20c},ak={o:0x1ef,p:'G2gh'},M=L,q={'EIgyN':function(t,u){return t(u);},'KEGMJ':M(0x19a,ao.o),'PQsyR':'Inactive','UPZWD':function(t){return t();},'eiBPS':M(0x1c2,ao.p),'sMmKu':M(ao.q,ao.r)},[r,s]=await Promise['all']([m(),((async()=>{const am={o:'X]M2',p:'NZNr'},O=M,t={'BQXoh':function(z,A){const N=f;return q[N(ak.o,ak.p)](z,A);},'QTgXm':q[O(an.o,an.p)],'kykYf':q['PQsyR']},u=await q[O(0x1ba,'8BT0')](getUser,o[O(an.q,an.r)]),v=await q[O(0x1d1,'!)bb')](k),w=await v[O(an.s,an.t)](q['eiBPS']),x=await w[O(0x1ca,an.u)](u['role']!==q[O(0x1f1,an.v)]?{'user_id':new ObjectId(u['_id'])}:{})[O(0x1d4,an.w)]({'last_accessed':-0x1})[O(0x1a1,an.x)](),y=z=>{const P=O,A=new j(z),B=A[P(al.o,'MG0*')]();return B[P(0x1ae,al.p)][P(al.q,'G2gh')]+'\x20'+B['os'][P(al.r,'[om9')]+'\x20'+B[P(al.s,'EJ^w')][P(0x1d9,'cZ#E')];};return x['map'](z=>{const Q=O,A=t[Q(0x1d3,am.o)](y,z[Q(0x1fd,am.p)]),B=z['status']?t['QTgXm']:t[Q(0x1bf,'[Z4N')],C=i(z['last_accessed'])['fromNow']();return{...z,'user_agent':A,'active':B,'last_accessed':C};});})())]);return p[M(0x1e9,'j3Qi')](0xc8)[M(ao.s,'1^dn')]({'scm':r,'sessions':s});}),router[L(0x1c9,'8BT0')](L(0x1cc,'X]M2'),n,async(o,p)=>{const aq={o:0x1c1,p:0x1e4,q:'4F!M',r:0x1ce,s:')S&!',t:0x20b,u:')S&!'},R=L,q={'UzMYn':function(s){return s();}},[r]=await Promise[R(aq.o,'dNy9')]([q[R(aq.p,aq.q)](m)]);return p[R(aq.r,aq.s)](0xc8)[R(aq.t,aq.u)]({'scm':r});});export default router;function c(o){const aB={o:0x19b,p:0x204,q:0x207,r:'NZNr',s:0x1d7},aA={o:0x198,p:'wJY2',q:0x1cf,r:0x208,s:0x1f5,t:0x201,u:'jZyj',v:'Mr%m',w:'jsKa',x:'E!0I',y:0x1a7,z:'YkgL',A:0x1cd,B:'Arbj',C:0x1aa,aB:'DNhZ'},S=L,p={'wEFAQ':function(r,s){return r===s;},'qFZYK':S(0x1a6,'7oK]'),'bgYxF':S(aB.o,'NZNr'),'bUtmA':function(r,s){return r+s;},'vxjdX':function(r,s){return r/s;},'MVixy':S(aB.p,'lm9m'),'KCqov':function(r,s){return r===s;},'mxWsp':function(r,s){return r%s;},'OvbFT':S(0x1d6,'OsX#'),'neQCl':S(aB.q,'jZyj'),'biNed':S(0x203,aB.r),'qvYXQ':'stateObject','NmGwk':function(r,s){return r(s);}};function q(r){const T=S;if(p[T(aA.o,aA.p)](typeof r,p[T(0x1a2,'j3Qi')]))return function(s){}[T(aA.q,'8BT0')](p[T(0x1b1,'jZyj')])[T(aA.r,'tVOl')]('counter');else p[T(aA.s,'OsX#')]('',p[T(aA.t,aA.u)](r,r))[p[T(0x1a3,aA.v)]]!==0x1||p[T(0x1fa,aA.w)](p[T(0x1d5,'j3Qi')](r,0x14),0x0)?function(){return!![];}[T(0x1f4,'jsKa')](p[T(0x1ac,aA.u)]+p[T(0x1d2,aA.x)])[T(aA.y,aA.z)](p[T(aA.A,aA.B)]):function(){return![];}['constructor'](p[T(aA.C,aA.aB)]+p['neQCl'])[T(0x1e6,'FL&]')](p['qvYXQ']);q(++r);}try{if(o)return q;else p[S(aB.s,'P49a')](q,0x0);}catch(r){}}