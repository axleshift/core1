const D=f;(function(m,n){const I={m:0x1bb,n:0x186,o:'hRho',p:'rjuB',q:0x16e,r:'o(Pk',s:0x1b8,t:0x1b0,u:0x1ad},w=f,o=m();while(!![]){try{const p=-parseInt(w(0x19b,'o(Pk'))/0x1+-parseInt(w(0x19f,'3%6u'))/0x2*(parseInt(w(I.m,'i%iS'))/0x3)+parseInt(w(I.n,')#2n'))/0x4*(parseInt(w(0x189,I.o))/0x5)+-parseInt(w(0x16a,'LB4q'))/0x6*(-parseInt(w(0x198,I.p))/0x7)+-parseInt(w(I.q,I.r))/0x8+parseInt(w(I.s,'!jYJ'))/0x9+parseInt(w(I.t,'DeCE'))/0xa*(parseInt(w(I.u,'(iCk'))/0xb);if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x3969a));const d=(function(){let m=!![];return function(n,o){const p=m?function(){const x=f;if(o){const q=o[x(0x1ab,'b8cj')](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const T={m:0x199,n:0x1c4,o:'Y2MO',p:0x16f,q:'rjuB',r:'EiEa'},S={m:'yHK9',n:0x1a9,o:'Y2MO',p:0x18f,q:'*h$K',r:'0lP4',s:0x1cc,t:0x192,u:'n&Nn'},y=f,m={'MQrQq':y(T.m,'EiEa'),'YhLek':y(T.n,T.o),'smzvN':function(n,o){return n(o);},'sojrx':y(T.p,T.q),'qflEx':function(n,o){return n+o;},'NHnFP':function(n,o){return n+o;},'yhJoo':y(0x168,T.r),'qcjQy':function(n){return n();},'sGpsG':function(n,o,p){return n(o,p);}};m[y(0x188,'0lP4')](d,this,function(){const z=y,n=new RegExp(m[z(0x1c0,S.m)]),o=new RegExp(m[z(S.n,S.o)],'i'),p=m['smzvN'](c,m[z(S.p,'hRho')]);!n[z(0x1cf,S.q)](m[z(0x1a2,S.r)](p,'chain'))||!o[z(S.s,'yHK9')](m['NHnFP'](p,m[z(0x16d,'i%iS')]))?m[z(S.t,'3Wef')](p,'0'):m[z(0x1a1,S.u)](c);})();}());const b=(function(){let m=!![];return function(n,o){const U={m:0x1d3},p=m?function(){const A=f;if(o){const q=o[A(U.m,'yHK9')](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a2={m:0x1a7,n:'[KA&',o:0x166,p:'0lP4',q:'sbvg',r:'Dx09',s:0x1be,t:'dhUA',u:0x194,v:0x1c7,a3:'Dx09',a4:0x1d5,a5:0x1d4,a6:'iNPH',a7:0x19e,a8:'CV5u',a9:0x196,aa:'rjuB',ab:0x17e,ac:0x1c2,ad:'lbqs',ae:0x1ac},a1={m:'nR%T'},B=f,m={'uRKHj':function(r,s){return r+s;},'YyVPl':function(r){return r();},'QToKn':'log','IcOlL':B(0x1bc,'@EAV'),'cHpEr':B(a2.m,a2.n),'BhbrF':B(a2.o,a2.p),'EMTSh':B(0x17f,a2.q),'grpul':function(r,s){return r<s;}},n=function(){const C=B;let r;try{r=Function(m[C(0x19d,a1.m)](C(0x1b5,'*h$K')+'{}.constructor(\x22return\x20this\x22)(\x20)',');'))();}catch(s){r=window;}return r;},o=m[B(0x1c3,'LB4q')](n),p=o[B(0x1b4,a2.r)]=o['console']||{},q=[m[B(0x1ae,a2.p)],m['IcOlL'],m[B(0x170,'25^*')],m[B(a2.s,a2.t)],m['EMTSh'],B(a2.u,')#2n'),B(a2.v,a2.a3)];for(let r=0x0;m[B(a2.a4,'(iCk')](r,q['length']);r++){const s=b[B(a2.a5,a2.a6)][B(a2.a7,a2.a8)]['bind'](b),t=q[r],u=p[t]||s;s[B(a2.a9,a2.aa)]=b[B(a2.ab,'P&HX')](b),s[B(a2.ac,'CV5u')]=u[B(0x1b3,a2.ad)][B(a2.ae,a2.p)](u),p[t]=s;}});a();import g from'dotenv';function f(a,b){const c=e();return f=function(d,g){d=d-0x166;let h=c[d];if(f['JApyMv']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['wysdMc']=m,a=arguments,f['JApyMv']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['fGDjdo']===undefined&&(f['fGDjdo']=!![]),h=f['wysdMc'](h,g),a[k]=h):h=l,h;},f(a,b);}g['config']();function e(){const an=['cmoNiXW','sWzOWR91mumkta','W5hcManDWRVcL1KzW50nWPZcPW','sH9/WRS','WO87W5RdR8og','W6NdTW7cLmorWRfWW78','WPBcP8oUWQW4xWK','W5xcTCowWOyCdxD3n8kLd8klbttcSa','DIe/y8o4WQ5p','c8o+prrv','xuj4DcS','q8oXzwZdQmkbqmo6iCk1W7bbWRi','vqmLWRLQk1KrumkSqSoddSk2sWKacsWgEmkGW6r7W4TtW5mgW4HhW6dcIW','mmo7lZfH','lJJdNSoGW545','xqPQWQ5WnG','W4OLWQif','aCkUoI7cPq','W6HVW4/cL8o4xG','W7Lkiua9wG','W6XznCkGsq','ls3dJCo1W4y5','nJOmsCoC','WPizW7/dSSoGv0KgiCk5iq','WQ4DWRP2WOpdNSoSW4tdGW','xruTeCoMiaHHW45WW4yPW7WDimkmvmkQWQm','W4zZW78YW53dNCoiW4JdI8oJgq','W5dcS8okdSkPxcVcPmk4W7i2fCohWOhdJCkI','aCkOgZtcNW','W7zvWOHWjIadWPLsF3XM','WOOok8oTW5ldSmoEeSkOWO3dGW','WQ5UWQCIbW','W7/dSgvdWRlcSmkkW6jp','rCkHW67dPLNdKZtcQCo5d8k4W70','WOBdIv09W7e','W782W4RdVqq','x2nKqHq','W449ymkYqsZdRa','W7O6W4VdIrm','jCkFW7ro','WRSooLG8smkTmW','uCkzWQbH','W41EjH8LwWVcOwCb','W4ZcRKNdUCoo','W64uxCkRcW','WOamW7VdL8o3','tgXMyW','f0HTuCkLEr8aW5fKW6aCW50','F1fNtai','W50HWRGa','WRG8W4hcKSoJutdcNa','W5lcQmomWOi','lItdLSoKW5SJWRfZ','WO55WRFcRCkZwCkzW60','ECotW5jSq2vw','wvurqqKlW7vTWOFcMIxcUSoCcSosWRNcHGyG','W6ZdGqRdHmkCgMD7W6DYWOBcUW3dNCkAsSk5WQBcUwtcKCkAWPpdLxKrWP9ol8kMcgDeBSkCWRldGSk7W4VdOIO','WRP9WQqz','WOFcRSorW7TyW7hdVCo6WRlcPSo1WPJcLG','WRL8WQuyuqi','WO/cJSomW4TMcGn2WPmm','WQNdLmoTgqVdNCky','W7pcOqDO','W6dcLcrJWRy','WQ7cLmolW5Hu','w0uwxa','W7v/mc8G','jCoAlYT6','W7VdRvLdWQ/cRCkDW7u','WRRcHIlcH8kx','W4NdRvNcT8kfgmogkCkiCCobqmkIrCkfWQpcGM7dVMZdLJmnW4JdGYifWRCFWQGdWQhdJwu','W5ldL8k6AcS','qSokpSkIAd0','BSooW518sq','W7BcIZzTWOS','WRPzW4NcRmoCyHC','W4VdG8kyrXC','W5ddJeBdOCoorYlcI8kSnc0D','W4XlmqO','W7HtkSkK','qmktWPrnxq','x1uwqa','aMqtiNi/xmoOmSovlW','W709W4NdNa3cI3SCdCoXWPFcGYPQWPFcPSoEgmkZWQOTW7ZcU3a','WPzWWOxcG8ki','W5LEmHiO','WQLNWRKcsXFcS8oPWQuOW48','saiPeCo4','s3D6Ab4','WRuwW6TGWRfFBd/cLCkTW5dcQc4mdSoshCoYW4uRW7FdUM02jfFdVCoT','W5/cQmougmkP','W57cTLpcIa','W5hdIZdcLCkCir/cUq','drRdUSk4','WRHtBSk8jLBdMCow','W6pdQCovjc8','W7zzWOP3jcLNWQjRteH3WRG','WPGSWQnW','W5OiWRWKWRq','r8kIW6NdOfNdLNxcOmobp8k8W6eA','W4HBmry','WQlcP1pdKCkqW68PW5fxrtldQSor','W5tcN8oVWRia','AmoDnCkSEZ1xW4zfytKMW53dNSkoWPJcMW','eSo3WR7cPq','WO9MWOdcUmk1vCktW5vLW5q','W47dSctdHSki','qcrfzsjbcmoAgmooe8olW7y','WRaojSkY','dtVdKCoHW64','cJeMy8oU','qKBdPmocW7TlrsddQuxdUW'];e=function(){return an;};return e();}import{ObjectId}from'mongodb';import h from'express';import i from'../../components/logger.js';import j from'../../models/db.js';import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUser}from'../../components/sessions.js';const router=h['Router']();router['get'](D(0x17a,'3Wef'),k,async(m,n)=>{const a6={m:0x175,n:0x174,o:'ihx1',p:0x1a4,q:'n&Nn',r:0x193,s:'mN(A',t:0x191,u:0x16b,v:'tvXh',a7:0x18c,a8:'mN(A',a9:'lctR',aa:0x1bf,ab:'*h$K',ac:0x1a8,ad:'yHK9',ae:'ihx1',af:'lbqs',ag:0x172,ah:'iNPH',ai:0x1d1,aj:'n&Nn',ak:0x1af,al:'25^*',am:0x167,an:0x1aa},E=D,o={'vBPXy':function(p,q){return p(q);},'xElSS':function(p){return p();},'QGqRV':E(a6.m,'4A9y'),'PysSw':function(p,q){return p!==q;},'dBdIc':E(0x1b6,'Ybjr'),'dswUJ':'on\x20route'};try{const p=await o[E(a6.n,a6.o)](getUser,m[E(a6.p,a6.q)]),q=m[E(a6.r,a6.s)]['id'];if(!q)return n[E(a6.t,'y^wU')](0x190)[E(a6.u,a6.v)]();const r=await o['xElSS'](j),s=await r['collection'](E(0x1a3,'Dr*!'))[E(0x169,'cVxW')]({'user_id':new ObjectId(p['_id']),'_id':new ObjectId(q)})['toArray']();if(!s['length'])return n[E(a6.a7,a6.a8)](0x194)[E(0x1a5,a6.a9)]();const t=[];t[E(a6.aa,a6.ab)]({'date':s[0x0]['created_at'],'description':o['QGqRV']});if(o['PysSw'](s['created_at'],s[E(a6.ac,a6.ad)]))t[E(0x1b1,a6.ae)]({'data':s[0x0][E(0x177,a6.af)],'description':'Freight\x20info\x20was\x20updated'});t[E(a6.ag,a6.ad)]({'date':s[0x0][E(0x1ba,'dhUA')],'description':'We\x20are\x20preparing\x20to\x20ship\x20your\x20shipment'}),t[E(0x1b7,a6.ah)]({'date':s[0x0]['created_at'],'description':o['dBdIc']});const u=[{'lat':37.7749,'lng':-122.4194},{'lat':34.0522,'lng':-118.2437},{'lat':40.7128,'lng':-74.006}];return n[E(0x18d,'sbvg')](0xc8)['json']({'events':t,'origin':s[0x0][E(0x181,'sbvg')][E(0x1b2,a6.s)][E(a6.ai,a6.aj)],'destination':s[0x0][E(a6.ak,a6.al)][E(0x183,'gun3')][E(a6.am,'Gl33')],'status':o[E(a6.an,'GQQs')],'markerPositions':u});}catch(v){i['error'](v);}return n['status'](0x1f4)[E(0x18e,'25^*')]();}),(function(){const aa={m:0x18a,n:'sbvg',o:0x1c1,p:'mN(A',q:'@EAV',r:0x1a0,s:'XaG2',t:'b8cj'},F=D,m={'OTbSV':function(o,p){return o(p);},'PwnuE':function(o,p){return o+p;},'dTQeL':F(0x197,'(iCk'),'dijSz':F(aa.m,aa.n),'qtlXc':function(o){return o();}};let n;try{const o=m[F(aa.o,'P&HX')](Function,m[F(0x17b,aa.p)](m[F(0x1bd,aa.q)],m[F(aa.r,aa.s)])+');');n=m['qtlXc'](o);}catch(p){n=window;}n[F(0x195,aa.t)](c,0x9c4);}());export default router;function c(m){const am={m:0x185,n:0x1c6,o:0x176,p:'3%6u',q:0x1d0,r:'N&Cd',s:0x178},al={m:0x17d,n:'SMj@',o:'P&HX',p:0x182,q:0x1d2,r:'@EAV',s:0x1c5,t:')#2n',u:0x176,v:0x190,am:0x1ca,an:'2y9y'},G=D,n={'xdRCE':function(p,q){return p===q;},'Pfyuc':G(0x1b9,'iNPH'),'lzLFB':G(am.m,'ihx1'),'nGQTH':function(p,q){return p+q;},'lfaZI':function(p,q){return p/q;},'rKCkq':G(am.n,'4A9y'),'HjHFW':function(p,q){return p%q;},'siKhB':function(p,q){return p+q;},'ZpTrR':G(0x1cd,'3Wef'),'OrTbj':G(am.o,am.p),'yIHki':G(am.q,am.r),'ZubIM':function(p,q){return p(q);},'dCKks':function(p,q){return p(q);}};function o(p){const H=G;if(n[H(0x1ce,'[KA&')](typeof p,n['Pfyuc']))return function(q){}[H(al.m,al.n)](n['lzLFB'])[H(0x187,al.o)]('counter');else n[H(al.p,'b8cj')]('',n[H(al.q,'lbqs')](p,p))[n[H(0x1c8,al.r)]]!==0x1||n[H(al.s,'2y9y')](n[H(0x17c,al.t)](p,0x14),0x0)?function(){return!![];}[H(0x17d,'SMj@')](n[H(0x19a,'hRho')](H(al.u,'3%6u'),n['ZpTrR']))['call'](H(al.v,'DeCE')):function(){return![];}['constructor'](n['OrTbj']+'gger')[H(al.am,al.an)](n['yIHki']);n[H(0x18b,'P&HX')](o,++p);}try{if(m)return o;else n[G(am.s,'Ybjr')](o,0x0);}catch(p){}}