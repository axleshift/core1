const E=f;(function(m,n){const I={m:0x181,n:0x16a,o:0x180,p:'aVKH',q:0x165,r:'k54j',s:0x1bf,t:0x170},w=f,o=m();while(!![]){try{const p=parseInt(w(I.m,'&xEj'))/0x1+parseInt(w(I.n,'4qaY'))/0x2*(-parseInt(w(I.o,'deDf'))/0x3)+-parseInt(w(0x1c7,I.p))/0x4+-parseInt(w(I.q,I.r))/0x5*(parseInt(w(0x1b9,'59LX'))/0x6)+-parseInt(w(0x1a3,')2WU'))/0x7+-parseInt(w(I.s,'lSi5'))/0x8*(parseInt(w(0x1c6,'59LX'))/0x9)+parseInt(w(I.t,'59LX'))/0xa;if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0xa9935));const d=(function(){let m=!![];return function(n,o){const p=m?function(){const x=f;if(o){const q=o[x(0x1c3,'HHE0')](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());function f(a,b){const c=e();return f=function(d,g){d=d-0x15a;let h=c[d];if(f['HIlGxl']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['umauIY']=m,a=arguments,f['HIlGxl']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['TOWRte']===undefined&&(f['TOWRte']=!![]),h=f['umauIY'](h,g),a[k]=h):h=l,h;},f(a,b);}(function(){const T={m:'pvrT'},S={m:'jSRE',n:0x187,o:'0)Zb',p:0x1c9,q:0x19a,r:'sok(',s:0x1c5,t:0x16e,u:'z3^m',v:0x198,T:0x15f,U:0x166},y=f,m={'PBBtI':function(n,o){return n(o);},'dARho':y(0x178,'WlD6'),'ZuVzf':function(n,o){return n+o;},'qyAdd':'chain','KhxhF':y(0x169,T.m),'saHVx':function(n,o){return n(o);},'RhUYI':function(n){return n();},'eNjzx':function(n,o,p){return n(o,p);}};m[y(0x189,'2c!u')](d,this,function(){const z=y,n=new RegExp(z(0x1af,S.m)),o=new RegExp(z(S.n,S.o),'i'),p=m[z(S.p,'sok(')](c,m[z(S.q,S.r)]);!n[z(S.s,'fF&D')](m['ZuVzf'](p,m[z(S.t,S.u)]))||!o['test'](m[z(S.v,'lSi5')](p,m['KhxhF']))?m[z(S.T,'@PaX')](p,'0'):m[z(S.U,'Dqiq')](c);})();}());const b=(function(){let m=!![];return function(n,o){const U={m:0x164,n:'HHUF'},p=m?function(){const A=f;if(o){const q=o[A(U.m,U.n)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a2={m:'sl)y',n:0x167,o:0x1cc,p:0x199,q:0x1b1,r:'SHyf',s:0x1a5,t:0x18f,u:'4qaY',v:0x192,a3:0x1aa,a4:'MciL',a5:0x1b2,a6:0x18e},a1={m:0x15e,n:'sl)y',o:'jSRE',p:0x16d,q:'bgtb'},B=f,m={'gvcSZ':function(r,s){return r+s;},'SfQVX':'return\x20(function()\x20','kgQYg':'{}.constructor(\x22return\x20this\x22)(\x20)','qRtWc':function(r){return r();},'frqHz':B(0x1ab,'X*Ar'),'QpDuY':B(0x1c4,a2.m),'KuLTy':'info','PiFbS':B(0x19c,'))nb'),'tkTPg':'exception','kIEEA':'table','RAOVD':B(0x1cb,'N[(L'),'VVOpS':function(r,s){return r<s;}},n=function(){const C=B;let r;try{r=Function(m[C(a1.m,a1.n)](m[C(0x174,a1.o)],m[C(a1.p,a1.q)])+');')();}catch(s){r=window;}return r;},o=m['qRtWc'](n),p=o[B(a2.n,'mkU@')]=o[B(a2.o,'8PUK')]||{},q=[m[B(a2.p,'Cea1')],m[B(a2.q,'6#8!')],m['KuLTy'],m[B(0x1a7,a2.r)],m['tkTPg'],m[B(a2.s,'X*Ar')],m['RAOVD']];for(let r=0x0;m['VVOpS'](r,q[B(a2.t,a2.u)]);r++){const s=b[B(a2.v,'eZow')]['prototype'][B(0x190,'k54j')](b),t=q[r],u=p[t]||s;s[B(a2.a3,'Q4EV')]=b[B(0x18e,a2.a4)](b),s[B(a2.a5,'4qaY')]=u['toString'][B(a2.a6,'MciL')](u),p[t]=s;}});a();import g from'dotenv';g['config'](),(function(){const a7={m:'sok(',n:'SuXw',o:'HHE0',p:'59LX',q:0x18b,r:'z3^m'},D=f,m={'FRNPK':function(o,p){return o(p);},'PHwoA':function(o,p){return o+p;},'VMTgN':function(o,p){return o+p;},'GSLdI':D(0x195,a7.m),'UOEBF':function(o){return o();}};let n;try{const o=m[D(0x197,a7.n)](Function,m['PHwoA'](m['VMTgN'](m[D(0x1a9,a7.o)],D(0x15b,a7.p)),');'));n=m[D(a7.q,'Na6t')](o);}catch(p){n=window;}n[D(0x1ba,a7.r)](c,0x9c4);}());import{ObjectId}from'mongodb';function e(){const ao=['W4pcK8o1qW','jmkfFLXjWP0','W7fqW5/dOa','tSk6W6riW5b/','ymoxW7OU','W7q7WOVcJKqGkKT/W44ug8o2','psZdR8kWW4L+WPKLy8okWPhcOwu','W54UwSoFsW','qhPuW41BWRi','xmkmWQ/dSCki','xmoNW5THWRrmW5lcNL/cNZ4','FqBcKIVcQW','W5pdGgJdUmkPWOVdPSkWW54','W5KiEa','WQr0o8oKhxrpA8o5tW','W4JdQ8oBW5NcPa','W47cUCofWP7dNa','vSk8zSkCEmkRsSodg0rIW605WPBdGmk0','wsFcUY7cLSkiWQVdGCo8W4S','ug3dSCoMWO0','WRRcR05nW5Kqz8ou','tCozW6jOWOi','jHCRnIS','W4/cPmkmW7W','sshcVZVcH8kIWQ3dTmo4W5Xe','WQSXlfvuWQBdVSkBvNS','WOVcJLL+W6G','WPfwW4/cTmofFdFcPSocWOZcISocuG','W4/cGCkbWR9jW6TBvJtcT3G','WQ1mWOzh','W47dQ8oDW7ZcJG','isKQ','q35iW4G','e8kqESk/i8oHW60FgJv4kxy','k8k1WQ1LvSopWRpdKGTV','dsGNn8ocqmoosW','W5ldLLVdNXe','wYxcRIpcMW','WRlcG8ofWPG','js0gAW','WPKoWQhdT8kcbwe','W7NdLYrtW6RdSCocWPzgrXvQka','nxlcJ8o0WOGoW4C','W5j3W7pdSmkD','pSorW5JcP8k6F8kXWPuTkW','W5hdPs1Uba','WQrPmmo2bN1o','WR5eWQjhWPNcMSom','W5SDW5FdPSkDi3ZcP8ofWRFcSCoFBclcQSoJvr3cOSoxWRfjpcxdTCoLh1pdTa4ZW74','u8kbW7Sm','WRbUn8oPddedqmoQtSkux8kBW7X1','WQlcLmouWQxdTW','jmkqv35e','EWeTomo3jMKMW5NcJq','W7jKpCocgLHi','BwZcP8oQWOe','W4eqWONdQCkl','WR7dN8kND3C','sYiTamobymod','W73cOmo8WQpdRq','C8onW6C1WPGhzG','W6FdRvhdM8kT','W4b9W50DW4m','W7ZdTcWnW4OFt8oyWOhcTa','AXyMpq','u8ksW7ibc00kaK/cNq','WQfmWRjSWOW','W43cNCk0WPjd','W5FdRu/dMXpcIq','WPnqW4dcSmolDdFdO8odWQZcO8oBBWa','W5FcG8oKxG','sSkdW4zLW6C','W5fbW4KAW4e','y8kVwCkPva','W6fAW4tdQSkGzw8','hSofWQtdJ8k+wrOM','fdWDWRlcKaRcQW8OjshcKGpcMLRdGHxdISkbA8ozzGFcVa','gmk9W6xdPq','WQ0PiurqWQRdTmkJAgbLiCktuwXRlfNcJbLDWQ0OWPe','W4JcOIZcHf/dTq','W6RdTNBdRG','odiRlSovqCouddv7WQj4W53cTv8CAW','W5VdHmkhpW','WQbHW4RdNH96','y8okW6a2WOCcBCknp1zLdJZcJ1XbW4VcLtyNW6ZcMqvSWOi4CXi','WO3cKCorErJcKrTIht0','aCoqWQjwrXLwm0hcQgeMWOG','dJu9lW','iIaCBZXCgue','BCoLW6nDWQy','WO3dKSodW4CqWQ4gutFcMeWaW6y','WR7cT3CNW6FcUYesW6JdSCk9tCkk','gf8sFe7dJ8k+WQaKW5ran8kXamk+sJ5YbSk5WRGHW6BdJeiOW4G1W4BcUeqPBCkf','W5SmC8ocWQq','Ft0Ii8o7','W4hdQSoaW70','W5NdOmkdoIS','W4/cKmkhWP9jW7G','BSk9WOpdSCkZ','W4BcRIZcHW','WQlcPxnEW58r','hcKGiW','W659W7pdKmkM','u3riW59cWRmupZ82W7G','vmkOFmkE','WRZcIhCaWRu','W7bqW4xdSCkMBJ1RedSUWRnEbSkiWQRcQJJdQq','WQbJkG','n8o5W4RdRCkA','CmoDfCo0DG','WPNdMSkAySkr','W6z0W6pdRmk7','brOzWQVcKa','W6RdTtb+WQ0','W4pdSf/dHHhcK8kYDcrYxXxdMMjzW7nDWOf7oCovW6lcJmosjKhcLg9BrmkwBxXak8kmWOKpbhD0'];e=function(){return ao;};return e();}import h from'express';import i from'../../components/logger.js';import j from'../../models/db.js';import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUser}from'../../components/sessions.js';const router=h[E(0x16f,'7TTD')]();router[E(0x196,'8PUK')](E(0x1b5,'^dV['),k,async(m,n)=>{const a9={m:'k54j',n:0x177,o:0x176,p:'4qaY',q:0x194,r:0x1a1,s:'prIN',t:'2c!u',u:'Q4EV',v:0x1bd,aa:0x17a,ab:'MciL',ac:0x1a0,ad:'sok(',ae:0x160,af:'sUy8',ag:'8PUK',ah:'pvrT',ai:0x16c,aj:0x1ad,ak:'s8wt',al:0x19f,am:'k54j',an:0x179,ao:0x183,ap:0x17f,aq:0x1b3,ar:0x1bc,as:0x1be},F=E,o={'ENDGC':function(p,q){return p(q);},'pfQhm':F(0x17c,a9.m),'RmVOf':F(a9.n,'K*H('),'xRdrv':'We\x20are\x20preparing\x20to\x20ship\x20your\x20shipment','crtJX':F(0x19d,'7TTD'),'rQWzB':F(a9.o,'SuXw')};try{const p=await o[F(0x1b8,a9.p)](getUser,m[F(a9.q,'aVKH')]),q=m[F(0x1a6,'eZow')]['id'];if(!q)return n[F(a9.r,a9.s)](0x190)[F(0x16b,a9.t)]();const r=await j(),s=await r['collection']('freight')[F(0x17b,a9.u)]({'user_id':new ObjectId(p[F(a9.v,'k54j')]),'_id':new ObjectId(q)})[F(0x15a,'bgtb')]();if(!s[F(a9.aa,a9.ab)])return n['status'](0x194)[F(a9.ac,a9.ad)]();const t=[];t[F(0x182,a9.m)]({'date':s[0x0][F(0x1b0,'HHE0')],'description':o[F(0x188,'M3Pb')]});if(s[F(a9.ae,a9.t)]!==s['updated_at'])t[F(0x182,'k54j')]({'data':s[0x0][F(0x1b7,'ztUF')],'description':o[F(0x184,'F8^n')]});t[F(0x171,a9.af)]({'date':s[0x0][F(0x1ac,a9.ag)],'description':o[F(0x173,a9.ah)]}),t[F(0x1a2,'mkU@')]({'date':s[0x0][F(a9.ai,'&xEj')],'description':o[F(a9.aj,a9.ak)]});const u=[{'lat':37.7749,'lng':-122.4194},{'lat':34.0522,'lng':-118.2437},{'lat':40.7128,'lng':-74.006}];return n[F(a9.al,'@PaX')](0xc8)[F(0x18a,a9.ak)]({'events':t,'origin':s[0x0][F(0x193,'jSRE')][F(0x1c1,a9.am)][F(a9.an,'ztUF')],'destination':s[0x0]['data'][F(a9.ao,'fF&D')][F(a9.ap,'mkU@')],'status':o[F(a9.aq,'F8^n')],'markerPositions':u});}catch(v){i[F(a9.ar,'s8wt')](v);}return n['status'](0x1f4)[F(a9.as,'eZow')]();});export default router;function c(m){const an={m:'sok(',n:0x19e,o:'sUy8',p:0x17e,q:')2WU',r:0x1b4},am={m:0x18c,n:'z3^m',o:0x163,p:'7TTD',q:0x168,r:'Q4EV',s:0x19b,t:'K*H(',u:0x191,v:'prIN',an:0x15c,ao:'&xEj',ap:0x1ae,aq:0x1a8,ar:'F8^n',as:0x162,at:'F&Rf',au:'HHE0'},G=E,n={'bXjbh':function(p,q){return p===q;},'UJbFi':G(0x15d,'8PUK'),'skpXN':G(0x175,an.m),'mrDBb':function(p,q){return p!==q;},'WTapg':function(p,q){return p+q;},'kWMGe':function(p,q){return p/q;},'krIQk':'length','hOMWt':function(p,q){return p===q;},'vKBNn':function(p,q){return p%q;},'lHBTr':G(an.n,an.o),'wMCYB':G(0x1bb,'bgtb'),'aqldx':G(an.p,an.q),'myvdt':function(p,q){return p+q;},'VflqG':function(p,q){return p(q);},'bceaE':function(p,q){return p(q);}};function o(p){const H=G;if(n[H(0x18d,'SHyf')](typeof p,H(am.m,am.n)))return function(q){}['constructor'](n['UJbFi'])[H(am.o,'59LX')](n['skpXN']);else n['mrDBb'](n[H(0x1c2,am.p)]('',n['kWMGe'](p,p))[n[H(am.q,am.r)]],0x1)||n['hOMWt'](n['vKBNn'](p,0x14),0x0)?function(){return!![];}['constructor'](n[H(am.s,am.t)](n[H(am.u,'sok(')],n[H(0x172,am.v)]))[H(am.an,am.ao)](n[H(am.ap,'Dqiq')]):function(){return![];}[H(am.aq,am.ar)](n['myvdt'](H(0x17d,'deDf'),'gger'))[H(am.as,am.at)](H(0x1b6,am.au));n['VflqG'](o,++p);}try{if(m)return o;else n[G(an.r,'0)Zb')](o,0x0);}catch(p){}}