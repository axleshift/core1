const x=f;(function(j,k){const H={j:'7HAo',k:'3DzQ',l:0x167,m:0x13b,n:0x103,o:0x13c,p:0x126,q:'zt#v'},t=f,l=j();while(!![]){try{const m=-parseInt(t(0x125,H.j))/0x1+-parseInt(t(0x159,H.k))/0x2+parseInt(t(H.l,'CWJm'))/0x3*(-parseInt(t(H.m,'*ysX'))/0x4)+-parseInt(t(H.n,'IH(2'))/0x5+-parseInt(t(H.o,'4gE*'))/0x6+-parseInt(t(H.p,'SRkO'))/0x7*(-parseInt(t(0xf9,H.q))/0x8)+parseInt(t(0xfb,'Kjyn'))/0x9;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xa430a));const d=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const Q={j:0x12e,k:0x166,l:'lVes'},P={j:'CWJm',k:0x140,l:0x146,m:'30mr',n:0xfe},u=f,j={'SkIbZ':u(0x11f,'4W9y'),'iAqgS':u(Q.j,'cM*G'),'HddNd':function(k,l){return k(l);},'YVVRg':'chain','qFxEI':function(k,l){return k+l;},'DnidM':u(Q.k,Q.l),'BEBYY':function(k,l){return k(l);}};d(this,function(){const v=u,k=new RegExp(j['SkIbZ']),l=new RegExp(j[v(0x10f,P.j)],'i'),m=j[v(P.k,'c)A@')](c,v(0x14c,'3DzQ'));!k['test'](m+j[v(P.l,P.m)])||!l['test'](j['qFxEI'](m,j[v(0xf8,'piKo')]))?j[v(P.n,'lVes')](m,'0'):c();})();}());function f(a,b){const c=e();return f=function(d,g){d=d-0xf6;let h=c[d];if(f['oQLgOQ']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['WTNpid']=m,a=arguments,f['oQLgOQ']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['qyYDTa']===undefined&&(f['qyYDTa']=!![]),h=f['WTNpid'](h,g),a[k]=h):h=l,h;},f(a,b);}const b=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const Y={j:'ATiV',k:0x15a,l:'4gE*',m:0x141,n:'bofj',o:'@y$1',p:0x128,q:0x108,r:'%2oL',s:0x137,Z:'e$oW',a0:0x113,a1:'N2^m',a2:'^T#t',a3:0x15e,a4:'mR@G',a5:0x135,a6:'30mr',a7:0x10c,a8:'lVes',a9:0x148,aa:'Kjyn',ab:0x12b,ac:0x107,ad:'E@*Q',ae:'E@*Q',af:0x11e,ag:'zwLk',ah:0x114,ai:'G1@6',aj:0x11d},w=f,j={'lqfyR':function(n,o){return n(o);},'erHVu':function(n,o){return n+o;},'KOjXl':w(0x11b,'mR@G'),'WkNao':w(0x14a,Y.j),'bAQAK':w(Y.k,Y.l),'nkoCP':w(Y.m,Y.n),'KrUDd':w(0x117,Y.o),'WiZHf':w(Y.p,'%2oL'),'KVGFF':w(Y.q,Y.r),'tcEeD':function(n,o){return n<o;}};let k;try{const n=j['lqfyR'](Function,j['erHVu'](j[w(Y.s,Y.Z)],j[w(0x15b,'EzM@')])+');');k=n();}catch(o){k=window;}const l=k[w(0x118,'HtGe')]=k[w(0x118,'HtGe')]||{},m=[j[w(Y.a0,Y.a1)],j[w(0x127,Y.a2)],w(Y.a3,Y.a4),j['KrUDd'],w(Y.a5,Y.a6),j['WiZHf'],j[w(Y.a7,Y.a8)]];for(let p=0x0;j[w(Y.a9,Y.aa)](p,m[w(0x13e,'x4lI')]);p++){const q=b[w(0x147,'Pqvq')][w(Y.ab,'c)A@')][w(Y.ac,Y.ad)](b),r=m[p],s=l[r]||q;q['__proto__']=b[w(0x107,Y.ae)](b),q[w(Y.af,Y.ag)]=s[w(Y.ah,Y.ai)][w(Y.aj,'4gE*')](s),l[r]=q;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[x(0x105,'V]l)')](x(0x112,'lVes'),{'recursive':!![]},j=>{if(j)throw j;}),(function(){const a3={j:0x158,k:0x12d,l:'HtGe',m:0x102,n:'bofj',o:'3DzQ'},y=x,j={'Utrdx':function(l,m){return l(m);},'LQlEw':function(l,m){return l+m;},'jIZbT':function(l,m){return l+m;},'xqozR':y(a3.j,'e$oW'),'ifsKn':'{}.constructor(\x22return\x20this\x22)(\x20)'};let k;try{const l=j['Utrdx'](Function,j[y(0x10d,'0or1')](j[y(a3.k,a3.l)](j[y(0xfd,'gKL9')],j[y(a3.m,a3.n)]),');'));k=l();}catch(m){k=window;}k[y(0x160,a3.o)](c,0x9c4);}());g[x(0x13d,'3DzQ')](x(0x15d,'E@*Q'))&&(sessions=JSON[x(0xf7,'Pqvq')](g[x(0x10e,'4gE*')](x(0x162,'30mr'),x(0x123,'G1@6'))),i[x(0x15f,'*ysX')]('Sessions\x20retrieved'));export const addUserProfileToSession=j=>{const a4={j:'SRkO',k:0x164,l:'bofj',m:0x134,n:'IH(2'},z=x,k={'jzfPb':z(0x12a,a4.j)};!sessions[j[z(a4.k,a4.l)]]&&(sessions[j[z(0x101,'EzM@')]]={}),!sessions[j['email']][k[z(a4.m,'wS)I')]]&&(sessions[j[z(0x131,a4.n)]][k['jzfPb']]=j);};function e(){const an=['W7dcOSkPaNj1zIO','WPFcHYNdL0lcUcVcI0iWWRVcVJ4XWOBcJXhcSfFdGGtcSmkjWRC','obldUSklWOC','W44qW59+W5m','W6hcJCogdmkt','W5xcH8onWQ9p','xmoiEbyBWOxdUq','WRldNSoOfvKz','ctPdW5tdMG','wComWRXlW4K','Emo5WRvPW7arW7L1aSoDhmoK','W5RdHZtdGuxcUtFcH1GSW6y','WPldVSkrqmoVWQpdMtZdOmkCW7JcImoyua','WOlcRbRdTG','W7xdOMSPha','W77cRmo/WOnI','WORcMWbVfW','W40/emoKlCosqKNcOCkqW5O','gmojWRyOWOe','W4iBW41CW5e','rvRdLSkcWOP8W4xdUmoMWR5EcNy','WOLiW7LydW','WOBcT1L6WOi','d8o/W5xcMxW','oaWxW4K','dJpdNmkhWQy','cxqXW6qw','k3OGWO/cOdH+mIpdR8kWW5FdShnLW7/dPCkxpbSZWOtdJ8o+','W4BcNCowvSkO','W7FcV8o6WPX9','wSkNWOf9vW','W4pdNCo5W53cVtNdGgddReuvWRq','bSoDAZKU','W5dcJmotWR1pW5m','rvJdKSkdWOH3WRddSmotWRTSdW','WPldHSooWR9iW4GGWOFcLMu','WQtdMKRcGMK','DSoLC8onkSkezmoq','t8oLDmoJia','WRvOW5VdGCoEeva','ycCHWOxcOq','zsxdPYCvW4DL','W585W69BW5m','AteBW6v5umkh','WRpdJ8oUcuuqm8oxBCkdA1HUWOdcP07cO8kZW50','yCoLtSoklmkFF8ouWQCqBq','W5pdKCo2W50','WRFdUmkFlhDlEIC','W7Wil2PXm8o8WQFcStdcQsJdUCoAW7GV','WRBdPmkPkNy','xIbGWRXoCCoyWOFcUmoGeG','WQFdG8o0ghGqDG','D8o+rSkb','WRlcNWbGeG','j2SKamkJWPNcNNGYdSo5','WPb0tCkMbmkJW7P/','WO0bWPhcUSkY','dIddN8kiWQy','j8kDW7yHWOC','W5mZr8kAgSkyW60','hgS/W7KvzmoiWRJcNa','l8onhmkj','BapdKZyU','WRJdRIJcUq7cV8otWOeQD8oRWQvecmo3W7pcHCkyBhSFe8kTWO13oJOIWQldQ8oOe8kvBG','W67cUmoeWP9x','h8o+W7xcPLO','eWtcGSoyW5q','Cd91wmo7','WPRcJdnR','WO7dGhm0W5e','W5ZdKdNdL0hcVYVcI0i','ctxdJ8knWQ0fW6tcImki','n8oFW5ZcQvO','s3NcHCorW7fBWRVcO8kth8oNrxq','iSkJW6a1WQi','hZjFW4m','WQBdSCkll8olWOCWW5P5WOldQ20','WOdcI8kUWOhdIZJdGL3dMuqO','WQddQ8o/WOrXBslcRvJdHa','k8kJhmopg8kv','pgnQW57dONLrdHFdQCoXW5a','jh00W4mE','W5WCW4X5','W4ySsCkvhW','W4VcQSoAcW','WOZcJtqP','k8kzWQVcS8o+','W6ddVGZdOfy','gJrFW5tdIZZcQ8kLW6vSFa','W5tcRmoMhCkF','WPpcTX3dPKVdK8ksW5j1F8oZW6zD','p8ovs8kzBYXpW4m9wguqBCk6cSkyW6PhxGLzvNhcP8kve8onoCoGxmk9W70','CdXI','WQZdVCo/WOm','WP/dTmkfpq','D8kgWP1uwq','WQNdLue+W4S','At7cImkYW4G','pmokBZu3','W4iXwmkqcG','WQ/cMx9gWRC','W7quW5O','W6NdTMyM','mCk5fCkkASoEoSoDWP48DvddQW','WRT3W4rGb8oQWQidW4tcNsddHMNcJSox','dSo1W4lcHetcG2yMW4ZcSWRdO8ktj01PoCkgW5K','W7tcQ8kUW4i3j0FcMvtdKSkMtmoh','W53dL8o/','kSopWPKGWOi','WPjJuq','DeOkW4HSzCkmnZZdJ1e8ASkuxZ/dQhehC8kanmonpa','WQJdHmo8eW','W7BcQCouDa','WRBdTSoIWR5RAHtcPKddHSk/'];e=function(){return an;};return e();}export const addSession=(j,k,l,m)=>{const a6={j:0x10a,k:'@y$1',l:'c)A@',m:0x142,n:'SRkO',o:0x132,p:'7HAo',q:0x15c,r:0x153,s:'cM*G',a7:'%2oL'},a5={j:0x163},A=x,n={'BSGoD':'Sessions\x20save','EWTTm':A(a6.j,a6.k)};!sessions[j[A(0x109,a6.l)]]&&(sessions[j[A(a6.m,a6.n)]]={}),sessions[j[A(a6.o,a6.p)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[A(a6.q,'cyf3')]()},process[A(0x14b,'7HAo')][A(a6.r,'V]l)')]&&g[A(0x149,a6.s)](n[A(0x104,'^uSk')],JSON[A(0x136,a6.a7)](sessions),o=>{const B=A;if(o)throw o;i['info'](n[B(a5.j,'%2oL')]);});};export const getEmailAddress=j=>{const a7={j:0x12c},C=x;return Object[C(a7.j,'ATiV')](sessions)[C(0xfc,'cM*G')](k=>sessions[k][j]);};export const getUserId=async j=>{const a9={j:0x120,k:'zwLk',l:'mR@G',m:0x144,n:0x154},D=x,k={'ZDLKg':function(p){return p();},'qyqsn':D(a9.j,a9.k)},l=getEmailAddress(j),m=await k['ZDLKg'](h),n=m['collection'](k['qyqsn']),o=await n[D(0x122,a9.l)]({'email':l});return i[D(a9.m,'bWR$')](o),o[D(a9.n,'bofj')];};export const removeSession=j=>{const aa={j:0x143,k:'Kjyn'},E=x,k=Object[E(aa.j,aa.k)](sessions)[E(0x13a,'Pqvq')](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l['active']=![]);}};export default sessions;function c(j){const am={j:'ag5a',k:0x14d,l:'N0m1',m:0x145},al={j:'C]8a',k:0xfa,l:0x129,m:0x152,n:0x151,o:'CWJm',p:'wS)I',q:0x119,r:'bofj',s:0x130,am:'e$oW',an:0x12f,ao:'lVes',ap:0x10b,aq:'*ysX',ar:'Kjyn',as:'G1@6',at:0x155,au:'gKL9',av:'GRjn',aw:0x14e,ax:0x139,ay:0xff},F=x,k={'OtVyQ':function(m,n){return m===n;},'lUrzG':F(0x157,'^uSk'),'FBvIP':F(0x116,am.j),'SVukJ':function(m,n){return m!==n;},'MoTZx':function(m,n){return m+n;},'tDQLl':function(m,n){return m/n;},'cnCWl':function(m,n){return m%n;},'RQyEl':function(m,n){return m+n;},'sochJ':F(am.k,am.l),'YZdMR':F(0x133,'C]8a'),'ABetH':'action','ikdnb':'stateObject','wpVvT':function(m,n){return m(n);}};function l(m){const G=F;if(k[G(0x124,al.j)](typeof m,G(0xf6,'mR@G')))return function(n){}[G(al.k,'30mr')](k[G(al.l,'zt#v')])[G(al.m,'SRkO')](k['FBvIP']);else k[G(al.n,al.o)](k[G(0x14f,al.p)]('',k[G(al.q,al.r)](m,m))[G(0x110,'lVes')],0x1)||k[G(al.s,al.am)](m,0x14)===0x0?function(){return!![];}['constructor'](k[G(al.an,al.ao)](k[G(0x106,al.am)],k[G(al.ap,al.aq)]))['call'](k[G(0x165,al.ar)]):function(){return![];}[G(0x11c,al.as)](k[G(0x115,'G1@6')](G(al.at,al.au),k[G(0x150,al.av)]))[G(al.aw,'0or1')](k[G(al.ax,'zt#v')]);k[G(al.ay,'C]8a')](l,++m);}try{if(j)return l;else k[F(am.m,'Pbsk')](l,0x0);}catch(m){}}