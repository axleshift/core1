const H=f;(function(n,o){const N={n:0x172,o:0x141,p:'UuTt',q:0x128,r:'8n[u',s:'J%jB',t:0x164},A=f,p=n();while(!![]){try{const q=parseInt(A(0xfe,'YP^m'))/0x1+-parseInt(A(N.n,'F!Y('))/0x2+parseInt(A(N.o,N.p))/0x3+-parseInt(A(0xff,'Xsbj'))/0x4*(parseInt(A(N.q,N.r))/0x5)+parseInt(A(0x14a,'*@SZ'))/0x6+-parseInt(A(0x156,N.s))/0x7*(parseInt(A(0x14f,'k9K5'))/0x8)+-parseInt(A(N.t,'fwbK'))/0x9;if(q===o)break;else p['push'](p['shift']());}catch(r){p['push'](p['shift']());}}}(e,0x97984));const d=(function(){const O={n:0x11d};let n=!![];return function(o,p){const q=n?function(){const B=f;if(p){const r=p[B(O.n,'Uny3')](o,arguments);return p=null,r;}}:function(){};return n=![],q;};}());(function(){const Y={n:'T4JI'},X={n:'Swyl',o:'YP^m',p:'u*8i',q:0x149,r:'Xsbj',s:0x12f,t:'Xsbj',u:0x15f,v:'Q!La',w:0x117,x:'Swyl'},C=f,n={'VjuhA':'function\x20*\x5c(\x20*\x5c)','xSfTz':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','rTIBw':function(o,p){return o(p);},'KmEvZ':function(o,p){return o+p;},'ltpdK':C(0x152,'Swyl'),'EHAqA':'input','MmbmV':function(o,p){return o(p);},'ZQqUO':function(o){return o();},'Wvzif':function(o,p,q){return o(p,q);}};n[C(0x130,Y.n)](d,this,function(){const D=C,o=new RegExp(n[D(0x148,X.n)]),p=new RegExp(n[D(0x15a,X.o)],'i'),q=n[D(0x10e,X.p)](c,'init');!o['test'](n['KmEvZ'](q,n[D(X.q,X.r)]))||!p[D(X.s,'GKR[')](q+n[D(0x12a,X.t)])?n[D(X.u,X.v)](q,'0'):n[D(X.w,X.x)](c);})();}());const b=(function(){const Z={n:0x163,o:'u*8i'};let n=!![];return function(o,p){const q=n?function(){const E=f;if(p){const r=p[E(Z.n,Z.o)](o,arguments);return p=null,r;}}:function(){};return n=![],q;};}()),a=b(this,function(){const a6={n:0x11c,o:0x158,p:0x103,q:'^^9X',r:'66wD',s:0x146,t:0x125,u:'u*8i',v:'khG!',w:'Xj2!',x:'Lwx&',y:0x161,z:'GXE2',a7:'J%jB',a8:'k9K5',a9:0x16f,aa:0x140,ab:0x13b,ac:'6Fv4',ad:'Q!La'},F=f,n={'gwYVL':function(r,s){return r(s);},'YLKem':function(r,s){return r+s;},'QtVhI':F(a6.n,'qpRT'),'diOgv':F(0x137,'XR$3'),'sMwKI':F(a6.o,'9j0V'),'TkYCU':'trace','cDBFW':function(r,s){return r<s;}};let o;try{const r=n[F(a6.p,'MS%C')](Function,n[F(0x16c,a6.q)](n['QtVhI']+F(0x16d,a6.r),');'));o=r();}catch(s){o=window;}const p=o[F(a6.s,'^^9X')]=o['console']||{},q=['log','warn',F(a6.t,a6.u),F(0xfd,a6.v),n[F(0x132,a6.w)],n[F(0x145,a6.r)],n[F(0x13f,a6.x)]];for(let t=0x0;n[F(a6.y,a6.z)](t,q[F(0x135,a6.a7)]);t++){const u=b[F(0x11f,a6.a8)]['prototype'][F(a6.a9,'mDLM')](b),v=q[t],w=p[v]||u;u[F(0x166,a6.r)]=b[F(a6.aa,'WRWa')](b),u[F(a6.ab,'hKV$')]=w[F(0x16b,a6.ac)][F(0x160,a6.ad)](w),p[v]=u;}});a();import g from'dotenv';(function(){const a8={n:0x11b,o:'apcV'},G=f,n={'XVvFT':function(p,q){return p(q);},'qWSoI':G(0xfb,'36^1')};let o;try{const p=n[G(0x113,'Swyl')](Function,n[G(0x157,'EFmN')]+G(0xfc,'XR$3')+');');o=p();}catch(q){o=window;}o[G(a8.n,a8.o)](c,0x9c4);}()),g[H(0x108,'T4JI')]();import h from'express';import i from'bcryptjs';function e(){const av=['f0OffbS','xtlcRCkgWQxdQYPWW6mnuG','WRjdW5u','W6j6W5FdSCka','W4zSrvCwjW','WOJdNxaeWQe','CKZcKCk4','W5dcMs5foa','WPyaWR3cPa','D1LXm8kL','W41bW7NdRG','zSkVfN/dJq','WPmpW7juexj5WQ1Lea','W5/dKWWlW6u','dIe1W5OvW4q','aCkjjhH5W6ddIHldHmkJWPS','vrGBisZdPZFdK2y','bmkpjg9cW7ZdMG','d3ldMmkrWONdGW','FmoAW4FcKW','FSkOWPD4WQZcJqbz','W6vsW5qpFq','cM3dJ8ke','WR1EW4X8','W7RdHmoJkSoH','WRtdM8opWRG','FNGgn8o5r8kFWRiBCmohlei','WRxcLLnLwW','W7ldPJi','WO4YW77cUW','W6tdHtmQW5K','W4bFW5WuzCoTWQy','aMaUaq','tLxcI8k+oW','W4TgW6BdPmkk','rCo7WOu7FHBcV05zWOLYtrS','W6hdRH8AWORdUhBdT8kN','sZWkW5RcUa','W4qPWOS+WOK','CSkPkMW','wrToz8ofW5VdRSkGW4f9','gw3dICkEWONdG8kV','WOqfkqH4oIZdNCkpWPq','E1FcN8k/fa','xJ3cQ8kdWQtcRuLqW7a+Bd4W','W5ldHue','meizbSoz','v3nPWOSOW51eBYJcPq','kCoLm2BcJa','bM4/gqW','WO48W77cU0BdP8ofoIKw','CdCMW73cRG','ACktWPtdQH0','uw3cJSkMlq','W4yJweGeyCo5WOrVuSoHFZC','W5SjBG','f34oW7SI','ohOcW7i','W5zazIn0','WRlcQf8Y','W4nkWReoea','u8otEZK4WQBdMGNdL8kvWP5P','W7pcHGn0dW','W4JdLZqtW789w8k/aq','WOXCW50azCo0WRC','l8kbWP/dNqXTWO8','qh5eg1C','WQpcP0mjWQW','W58vWRepWQ7dH8obWOq','W7P8W7KczW','W6ZdTwOcW78Nr8kulmo1WRpdHCoJW5GywSoQW4tdQWxcNSkfuLddOsSgWRLxWRVcOCkF','WO/dPwajFtiOs2aSWQ4k','uLLflW','W4zcW6BdRmk4','bvjpCw3cOWZdLuj+o1W','W5jyCLeSAqRdNCkQWQpdHmkI','ru5Kcmko','WQuPWPNcHHq','t8oaW4ldVfZdOxmGW6CQagjrW5ddJ8oAW48caW','sX1wjZpdVs3dIhPsphWkb8oUoCojW5zRWOzkW4r+kLTUW4pcS8kSWPP/Bq','W5/dKKTzyW','pv15WPJdPIbkWQDJw8kkva','WPadWQtdOCkLwYhdKmoe','W4VcOZrjoW','rCoXWOu7C1VdKh5fWQ5w','W5epsuqv','WRFcGgvHwG','W43dNCoFcmoagxaSWRKA','W7VdRsOgW6qH','cSkhowm','W6VdGHFdLW','q0bLpmkQWOi','xrDeymkpWRVdICkJW7PibCo8','AmksWPVdIWb5WOu','WR3cRKKO','W5bFWQWnhujiWO9ZexngWPC','EGCkW5ZcNG','W5bUWOGGhG','WRtdNCofWQu','W7vtWQuvcG','W6jFW7FdQCkTeGddNmkWWOtdTc1QyCo3rCoWW7yYvu1SW44','F8k0WQf+W7pcHqLBxmoT','qgNcImkqlG','hIbaCSkObG','lwVdMmkhWP4','WQZdSX4e','qM7cJ8kdnq','W7pdOsmeW6m9','F1JcM8kK','gMK9W5itW5TMtGNcGLSNWRtdPmoG','venXWPZcR8k4wNW9WQBdNa','CSksWO7dMHDLW5BcIq/cVSkpWRZcKXP8WOhdJSkeW78','n8kyWRbBW7q','WRnrohaWxmoUWR9+','c0etiSojW7ZdQ8kfW4DHlq','mwKfeaa','qLRcLmkYla','E1dcKmkLdSoyW7FcOGRdQ3i','W7hdOvTJFq','WRfeW412AquV','W4TuWQCn','vrikkY4'];e=function(){return av;};return e();}import j from'crypto';import k from'../models/db.js';import l from'../logger.js';import{addSession,addUserProfileToSession,removeSession}from'../src/sessions.js';import m from'../middleware/auth.js';const router=h[H(0x114,'UuTt')]();function f(a,b){const c=e();return f=function(d,g){d=d-0xfb;let h=c[d];if(f['lSmEYC']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['TJJgpR']=m,a=arguments,f['lSmEYC']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['NkrMGM']===undefined&&(f['NkrMGM']=!![]),h=f['TJJgpR'](h,g),a[k]=h):h=l,h;},f(a,b);}router[H(0x14e,'Xj2!')](H(0x14b,'&lxQ'),async(n,o)=>{const ab={n:'z7t^',o:0x111,p:'9j0V',q:0x14d,r:'6Fv4',s:0x124,t:'OEht',u:'slxa',v:0x162,w:0x143,x:'66wD',y:0x15d,z:'WToA'},I=H,p={'CfXei':function(q,r){return q||r;},'oSiEU':function(q){return q();},'MPtbT':I(0x100,ab.n),'HgMaS':I(ab.o,'Xsbj')};try{const {email:q,firstName:r,lastName:s,password:t,recaptchaRef:u}=n[I(0x116,'&lxQ')];if(p[I(0x120,ab.p)](!q,!t)||!r||!s||!u)return o['json']({'status':0x191});const v=await p[I(ab.q,ab.r)](k),w=v[I(0x151,'F!Y(')](p['MPtbT']),x=await w[I(ab.s,ab.t)]({'email':q});if(x)return l['error'](p['HgMaS']),o[I(0x13a,ab.u)]({'status':0x199});const y=await i[I(ab.v,'kuGE')](t,process[I(ab.w,ab.x)][I(ab.y,ab.z)]);return await w['insertOne']({'email':q,'firstName':r,'lastName':s,'password':y,'emailVerifiedAt':null,'createdAt':new Date(),'updatedAt':new Date()}),o[I(0x13e,'OEht')]({'status':0xc9});}catch(z){l[I(0x126,'XR$3')](z),o['json']({'status':0x1f4});}}),router[H(0x147,'9j0V')]('/login',async(n,o)=>{const ag={n:'wBcN',o:0x154,p:'khG!',q:'J%jB',r:0x169,s:'YP^m',t:0x159,u:'rFLB',v:0x138,w:'fwbK',x:0x131,y:0x129,z:'OEht',ah:0x15c,ai:'Swyl',aj:0x107,ak:'!c%[',al:'Lwx&',am:'UeLt',an:'66wD',ao:'u*8i',ap:0x15b,aq:0x10a,ar:0x102,as:'WToA'},J=H,p={'pNoPb':function(q,r){return q||r;},'CXJsl':function(q){return q();},'ZejdV':J(0x134,ag.n),'IRppW':function(q,r){return q!=r;},'FmpFE':J(ag.o,ag.p),'eEXar':J(0x11a,ag.q),'idnEx':function(q,r,s,t,u){return q(r,s,t,u);},'UoCUA':J(0x112,'hKV$')};try{const {email:q,password:r,recaptchaRef:s}=n[J(0x10f,'WRWa')];if(p[J(ag.r,'mDLM')](!q,!r)||!s)return o['json']({'status':0x191});const t=await p[J(0x14c,ag.s)](k),u=t[J(ag.t,ag.u)](p[J(0x121,'Swyl')]),v=await u[J(ag.v,ag.w)]({'email':q});if(!v)o[J(ag.x,'Xsbj')]({'status':0x194});const w=await i[J(0x106,'fwbK')](r,process[J(ag.y,ag.z)]['BCRYPT_SECRET']);if(p[J(ag.ah,ag.ai)](w,v['password']))o[J(ag.aj,ag.ak)]({'status':0x191});addUserProfileToSession(v);const x=j[J(0x104,ag.al)](J(0x12b,'GXE2'))[J(0x139,ag.am)](v[J(0x15e,'WToA')]+Date['now']())[J(0x118,ag.an)](p['FmpFE']),y=n['headers'][p[J(0x127,'9j0V')]]||n['connection'][J(0x10c,ag.ao)];p[J(ag.ap,'qpRT')](addSession,v,x,y,n[J(ag.aq,'qpRT')][p[J(ag.ar,ag.as)]]),o[J(ag.aj,'!c%[')]({'status':0xc8,'token':x});}catch(z){l[J(0x12e,'tEem')](z),o['json']({'status':0x1f4});}}),router['post'](H(0x168,'qpRT'),m,function(n,o,p){o['json']({'status':0xc8});}),router[H(0x13d,'UeLt')](H(0x167,'^^9X'),m,function(n,o,p){const aj={n:0x12d},K=H,q={'RKnnQ':function(r,s){return r(s);}};q['RKnnQ'](removeSession,n['token']),o[K(aj.n,'Swyl')]({'status':0xc8});});export default router;function c(n){const au={n:0x150,o:'66wD',p:'Swyl',q:0x173},at={n:0x174,o:'GKR[',p:0x136,q:'kuGE',r:0x123,s:'u*8i',t:0x165,u:0x115,v:'UeLt',w:'rFLB',x:0x10d,y:'YP^m',z:0x122,au:'Swyl',av:0x13c,aw:'^^9X',ax:0x142},L=H,o={'SgFZW':function(q,r){return q===r;},'GLWVe':'string','ynoSR':L(au.n,'UeLt'),'KAbUl':function(q,r){return q!==r;},'Widwc':function(q,r){return q+r;},'MVROG':L(0x105,au.o),'iBgjr':function(q,r){return q===r;},'rcJuJ':'action','Fbfhw':function(q,r){return q+r;},'DXQlt':'debu','XldWd':L(0x119,au.p),'eaoRM':function(q,r){return q(r);}};function p(q){const M=L;if(o['SgFZW'](typeof q,o[M(at.n,at.o)]))return function(r){}[M(at.p,'fwbK')]('while\x20(true)\x20{}')[M(0x170,'Xsbj')](o[M(0x16a,at.q)]);else o[M(at.r,'khG!')](o[M(0x110,at.s)]('',q/q)[o[M(at.t,'z7t^')]],0x1)||o['iBgjr'](q%0x14,0x0)?function(){return!![];}['constructor'](o[M(at.u,at.v)]('debu',M(0x10b,'kuGE')))[M(0x144,at.w)](o[M(at.x,at.y)]):function(){return![];}[M(at.z,at.au)](o[M(at.av,at.aw)](o[M(0x12c,'Vb#S')],o[M(0x155,'k9K5')]))['apply']('stateObject');o[M(at.ax,'MS%C')](p,++q);}try{if(n)return p;else o[L(au.q,'T4JI')](p,0x0);}catch(q){}}