import{r as s,j as i}from"./Oq9P1Wj_.js";import{L as e,G as r,M as t}from"./D35SuL7S.js";import"./8eN9xtIw.js";import{l as a,V as o,b as n}from"./5NSyFHVX.js";import{k as m,d as c}from"./Ce_fjdqS.js";import{c as l,a as j,b as d,P as p,a7 as h}from"./C7J1C3Pw.js";import"./deeEeel3.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./NdsU5MZw.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./BKB6Vojr.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./BYNIthp4.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";const x=()=>{const[x,f]=s.useState(!0),[v,g]=s.useState(!1),[u,y]=s.useState({events:[],origin:"",destination:"",status:"",markerPositions:[]}),{id:b}=m(),N=c();return s.useEffect((()=>{(async()=>{await axios.get(`${o}/api/v1/track/${b}`,{headers:{Authorization:`Bearer ${cookies.get(n)}`}}).then((s=>y(s.data))).catch((s=>{g(!0)})).finally((()=>f(!1)))})()}),[]),i.jsxs("div",{children:[x&&i.jsx("div",{className:"loading-overlay",children:i.jsx(l,{color:"primary",variant:"grow"})}),v&&i.jsx(j,{className:"justify-content-center my-5",children:i.jsx(d,{md:6,children:i.jsxs("div",{className:"clearfix",children:[i.jsx("h1",{className:"float-start display-3 me-4",children:"OOPS"}),i.jsx("h4",{children:"There was no shipment found."}),i.jsx("p",{children:"Double check tracking id for any mistake."})]})})}),u.origin&&i.jsx(i.Fragment,{children:i.jsxs(j,{xs:{cols:1},sm:{cols:2},children:[i.jsx(d,{children:i.jsxs("div",{className:"mb-4",children:[i.jsxs(p,{className:"mb-3 bg-dark text-white p-3",children:[i.jsxs(h,{children:[" #",b]}),i.jsxs("div",{className:"small",children:[i.jsx("b",{children:"From"}),": ",u.origin," ",i.jsx("br",{}),i.jsx("b",{children:"To"}),": ",u.destination," ",i.jsx("br",{}),i.jsx("b",{children:"Status"}),": ",u.status]}),i.jsx("div",{className:"d-flex justify-content-end align-items-center text-primary",onClick:s=>N(`/v/${b}`),children:"View shipment information"})]}),i.jsx(e,{googleMapsApiKey:a,children:i.jsx(r,{mapContainerStyle:{height:"400px",width:"100%"},center:u.markerPositions[0],zoom:10,children:u.markerPositions.map(((s,e)=>i.jsx(t,{position:s},e)))})})]})}),i.jsx(d,{children:i.jsx("div",{className:"timeline",children:u.events.map(((s,e)=>i.jsxs("div",{className:"timeline-event",children:[i.jsx("div",{className:"text-primary px-4",children:s.date}),i.jsx("div",{className:"px-4 py-1 mb-2",children:i.jsx("p",{children:s.description})})]},e)))})})]})})]})};export{x as default};
