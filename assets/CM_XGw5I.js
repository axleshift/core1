import{r as s,R as e,j as r}from"./B29SdWEC.js";import{E as t}from"./B1ETHe3Q.js";import{F as i,c as a,m as n,a2 as o}from"./CPF8VAmO.js";import c from"./D9496bDv.js";import{H as l}from"./CIAn0bGm.js";import{b as m}from"./C5yGwDec.js";import{k as d,d as j}from"./BFKNndIN.js";import{d as p,b as h,c as x,a as f}from"./BYX7WaHQ.js";import"./ucIcx5RQ.js";import"./CjjZDEdp.js";import"./K-dupnmX.js";import"./E8MUDNEF.js";import"./BPg_iBjA.js";import"./Dcib5x9m.js";import"./07vdr7AR.js";import"./BIw_sdFo.js";import"./CIdotNGq.js";import"./yJGO6Amu.js";import"./BjhGVRpM.js";import"./BFk34ZWe.js";import"./BmTZu7tj.js";import"./CxXfFpkk.js";import"./DPENoFOj.js";import"./Ba2eFa9Y.js";import"./CLdVYh6z.js";import"./DPAjA2jz.js";import"./fZjk1EK6.js";import"./BXEMiIsG.js";import"./Bb7MnDjl.js";import"./CA9thugF.js";import"./BPjVUy-D.js";import"./C_n0TLp5.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";const b=()=>{const{id:b}=d();j();const{addToast:g}=m(),[u,y]=s.useState(!0),[N,v]=s.useState(null),_=e.useRef(),k=e.useRef();return s.useEffect((()=>{(async()=>{axios.get(`/invoices/${b}`).then((s=>v(s.data))).finally((()=>y(!1)))})()}),[]),u?r.jsx("div",{className:"loading-overlay",children:r.jsx(p,{color:"primary",variant:"grow"})}):N?r.jsxs("div",{ref:_,children:[r.jsx(l,{children:r.jsxs("title",{children:[b," - Invoice | Axleshift"]})}),r.jsxs("div",{className:"font-monospace",children:[r.jsx("h1",{className:"text-uppercase fw-bold text-center",children:"Axleshift"}),r.jsxs("p",{className:"text-center",children:[r.jsx(i,{icon:a,className:"me-1"})," 4108 IM Bestlink College of the Phillippines",r.jsx("br",{}),r.jsx(i,{icon:n,className:"me-1"})," axleshift@gmail.com",r.jsx("br",{}),r.jsx(i,{icon:o,className:"me-1"})," +63 912 345 6789"]}),r.jsxs("div",{className:"bg-body-secondary p-4 mb-1",children:[r.jsxs("span",{className:"d-block",children:[r.jsx("strong",{children:"Invoice ID"}),": ",N.invoice_id]}),r.jsxs("span",{className:"d-block",children:[r.jsx("strong",{children:"Tracking Number"}),": ",N.freight_tracking_number]}),!0===N.freight_details.is_import?r.jsxs("span",{children:[r.jsx("strong",{children:"Name"}),": ",N.freight_details.to[0].name]}):r.jsxs("span",{children:[r.jsx("strong",{children:"Name"}),": ",N.freight_details.from[0].name]}),r.jsx("br",{}),r.jsx("br",{}),!0===N.freight_details.is_import?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"d-block",children:N.freight_details.to[0].address}),r.jsxs("span",{className:"d-block",children:[N.freight_details.to[0].city," ",N.freight_details.to[0].zip_code]}),r.jsx("span",{children:N.freight_details.to[0].country})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"d-block",children:N.freight_details.from[0].address}),r.jsxs("span",{className:"d-block",children:[N.freight_details.from[0].city," ",N.freight_details.from[0].zip_code]}),r.jsx("span",{children:N.freight_details.from[0].country})]}),r.jsx("div",{className:"mb-4"}),"PAID"===N.status&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"d-flex justify-content-between",children:[r.jsx("strong",{children:"Date Paid"}),r.jsx("span",{className:"flex-grow-1 mx-3 border-bottom border-secondary mb-2 border-opacity-25"}),r.jsx("span",{children:new Date(N.updated_at).toLocaleString()})]}),r.jsxs("div",{className:"d-flex justify-content-between",children:[r.jsx("strong",{children:"Payment Method"}),r.jsx("span",{className:"flex-grow-1 mx-3 border-bottom border-secondary mb-2 border-opacity-25"}),r.jsx("span",{children:N.payment_method})]})]}),r.jsxs("div",{className:"d-flex justify-content-between",children:[r.jsx("strong",{children:"Amount Due"}),r.jsx("span",{className:"flex-grow-1 mx-3 border-bottom border-secondary mb-2 border-opacity-25"}),r.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:N.currency}).format(N.amount)})]})]})]}),r.jsx("div",{className:"text-center p-2 small mb-2",children:r.jsxs("small",{className:"d-block",children:["This invoice has been issued to userEmail",r.jsx("br",{}),"in reference to shipment ",b,".",r.jsx("br",{}),"https://core1.axleshift.com","/invoices/",b]})}),r.jsxs("div",{className:"d-flex",children:["PENDING"===N.status&&r.jsx(f,{className:"btn btn-primary px-4 mb-3 me-2",onClick:s=>window.location.href=`https://checkout-staging.xendit.co/web/${N.invoice_id}`,children:"PAY NOW"}),r.jsx(f,{className:"btn btn-primary px-4 mb-3",ref:k,onClick:()=>{k.current.style.display="none";const s=getComputedStyle(document.body).backgroundColor;c(_.current,{scale:2,backgroundColor:s}).then((e=>{const r=e.toDataURL("image/png"),i=new t("p","mm","a4"),a=210*e.height/e.width;i.setFillColor(s),i.rect(0,0,i.internal.pageSize.getWidth(),i.internal.pageSize.getHeight(),"F"),i.addImage(r,"PNG",0,10,210,a),i.save(`Invoice-${b}.pdf`)})).catch((s=>{})).finally((()=>{k.current.style.display="block"}))},children:"Download PDF"})]})]}):r.jsx(h,{className:"justify-content-center my-5",children:r.jsx(x,{md:6,children:r.jsxs("div",{className:"clearfix",children:[r.jsx("h1",{className:"float-start display-3 me-4 text-danger",children:"OOPS"}),r.jsx("h4",{children:"There was no shipment invoice found."}),r.jsx("p",{children:"Double check tracking number for any mistake."})]})})})};export{b as default};
