import{r,j as s}from"./D3kDgYDB.js";import{L as x,G as h,M as j}from"./mZnv_0SL.js";import"./C794Y7R5.js";import{k as g,V as u,b as f}from"./Davggtsm.js";import{k as v}from"./o5tV6Bm-.js";import{C as P,G as S,H as o,S as k,a2 as C}from"./CIQNY0Wj.js";import"./CNSOrHVr.js";import"./tpRZQFqq.js";import"./CzFDRTuY.js";import"./WyM-ksIe.js";import"./CWoBZRFf.js";import"./Dw8pycEM.js";import"./8JwjhRSi.js";import"./CQ-yZ3vu.js";import"./BmHAl9XU.js";import"./B6-gGlhp.js";import"./DzfTGk6K.js";import"./hKczlkOd.js";import"./CXnULsF_.js";import"./CCb-kr4I.js";import"./Cz0CWeBA.js";import"./Cp7XljvA.js";import"./BQBsAJpH.js";import"./DRFurTTo.js";import"./BZxJdD1U.js";const Q=()=>{const[n,m]=r.useState(!0),[c,p]=r.useState(!1),[i,l]=r.useState({events:[],origin:"",destination:"",status:"",markerPositions:[]}),{id:a}=v(),d=async()=>{await axios.get(`${u}/api/v1/track/${a}`,{headers:{Authorization:`Bearer ${cookies.get(f)}`}}).then(t=>l(t.data)).catch(t=>{console.error(t),p(!0)}).finally(()=>m(!1))};return r.useEffect(()=>{d()},[]),s.jsxs("div",{children:[n&&s.jsx("div",{className:"loading-overlay",children:s.jsx(P,{color:"primary",variant:"grow"})}),c&&s.jsx(s.Fragment,{children:"Shipment not found"}),i.origin&&s.jsx(s.Fragment,{children:s.jsxs(S,{xs:{cols:1},sm:{cols:2},children:[s.jsx(o,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs(k,{className:"mb-3 bg-dark text-white p-3",children:[s.jsxs(C,{children:[" #",a]}),"Origin: ",i.origin," | Destination:"," ",i.destination," | Status: ",i.status]}),s.jsx(x,{googleMapsApiKey:g,children:s.jsx(h,{mapContainerStyle:{height:"400px",width:"100%"},center:i.markerPositions[0],zoom:10,children:i.markerPositions.map((t,e)=>s.jsx(j,{position:t},e))})})]})}),s.jsx(o,{children:s.jsx("div",{className:"timeline",children:i.events.map((t,e)=>s.jsxs("div",{className:"timeline-event",children:[s.jsx("div",{className:"timeline-date",children:t.date}),s.jsx("div",{className:"timeline-content",children:s.jsx("p",{children:t.description})})]},e))})})]})})]})};export{Q as default};
