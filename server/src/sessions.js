const z=f;(function(j,k){const H={j:'sBWM',k:'CLjq',l:0x185,m:'p9S9',n:0x1bc,o:'@^7O',p:0x1ad,q:'ez@x',r:'P!A^',I:0x1b0,J:'I4FP',K:0x1d5},s=f,l=j();while(!![]){try{const m=-parseInt(s(0x1c0,H.j))/0x1*(parseInt(s(0x17c,H.k))/0x2)+-parseInt(s(H.l,H.m))/0x3+-parseInt(s(H.n,'vkly'))/0x4+-parseInt(s(0x187,H.o))/0x5*(-parseInt(s(H.p,'vTl3'))/0x6)+-parseInt(s(0x1d2,H.q))/0x7+parseInt(s(0x1c4,H.r))/0x8*(parseInt(s(0x16d,'!nTZ'))/0x9)+-parseInt(s(H.I,H.J))/0xa*(-parseInt(s(H.K,'kZj&'))/0xb);if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x77221));const d=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());function f(a,b){const c=e();return f=function(d,g){d=d-0x16d;let h=c[d];if(f['ryLbON']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['BkKGKD']=m,a=arguments,f['ryLbON']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['PSayvN']===undefined&&(f['PSayvN']=!![]),h=f['BkKGKD'](h,g),a[k]=h):h=l,h;},f(a,b);}(function(){const R={j:'TBSa',k:'CLjq'},Q={j:0x1d9,k:'vkly',l:0x1da,m:'tRq]',n:0x1a6,o:0x197,p:0x179,q:0x176,r:'7d]B',R:'tRq]',S:0x1be,T:'vkly',U:0x1b4,V:'vTl3',W:0x18f,X:'@^7O'},t=f,j={'NdrjX':t(0x1d7,R.j),'whBql':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','Pgxkf':function(k,l){return k(l);},'MLWmS':function(k,l){return k+l;},'rQDAD':t(0x18b,R.k),'eUmng':'input','ZJDcr':function(k){return k();},'JLVlm':function(k,l,m){return k(l,m);}};j['JLVlm'](d,this,function(){const u=t,k=new RegExp(j['NdrjX']),l=new RegExp(j[u(Q.j,Q.k)],'i'),m=j[u(Q.l,Q.m)](c,u(Q.n,'I4FP'));!k[u(Q.o,'Zrcd')](j[u(Q.p,'bS$Y')](m,j[u(Q.q,Q.r)]))||!l[u(0x1b2,Q.R)](j['MLWmS'](m,j[u(Q.S,Q.T)]))?j[u(Q.U,Q.V)](m,'0'):j[u(Q.W,Q.X)](c);})();}()),(function(){const W={j:0x1de,k:'vkly',l:'Zrcd'},V={j:'ez@x',k:'o%mE',l:'vkly',m:0x1d0},v=f,j={'GAmfu':function(m,n){return m(n);},'cEuFs':function(m,n){return m+n;},'ZUpmy':v(W.j,'Pmm6'),'nbAXO':'{}.constructor(\x22return\x20this\x22)(\x20)','qPePo':function(m){return m();}},k=function(){const w=v;let m;try{m=j[w(0x1cd,V.j)](Function,j[w(0x1b5,V.k)](j[w(0x1ac,V.l)]+j[w(V.m,'o%mE')],');'))();}catch(n){m=window;}return m;},l=j[v(0x1dd,W.k)](k);l[v(0x1a0,W.l)](c,0x9c4);}());const b=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a6={j:0x1b6,k:')K&B',l:'wiSV',m:'TBSa',n:0x1a4,o:'N76]',p:0x1d6,q:0x1c3,r:'G7w9',a7:0x17e,a8:0x1b7,a9:'xfC)',aa:0x1b1,ab:'tRq]',ac:0x1d8,ad:'p5hK',ae:0x170,af:')@WX'},a5={j:'p5hK',k:0x181,l:0x18c},x=f,j={'nroRH':function(o,p){return o(p);},'dkfKr':function(o,p){return o+p;},'KhZTo':x(0x18d,'S3Qu'),'USJao':function(o){return o();},'SoXFm':x(0x1c6,'c2F!'),'FeUSG':x(a6.j,'Qslh'),'ezWPr':x(0x1d4,a6.k),'TbAID':x(0x184,a6.l),'ZVbxL':function(o,p){return o<p;}},k=function(){const y=x;let o;try{o=j[y(0x171,a5.j)](Function,j[y(a5.k,')K&B')](j[y(a5.l,'&BHQ')]+'{}.constructor(\x22return\x20this\x22)(\x20)',');'))();}catch(p){o=window;}return o;},l=j['USJao'](k),m=l['console']=l[x(0x1dc,'AlCc')]||{},n=[j['SoXFm'],j[x(0x183,a6.m)],x(a6.n,'nag6'),x(0x16f,a6.o),j[x(a6.p,'bS$Y')],x(a6.q,a6.r),j[x(a6.a7,'bS$Y')]];for(let o=0x0;j[x(a6.a8,a6.a9)](o,n[x(a6.aa,a6.ab)]);o++){const p=b[x(a6.ac,'TBSa')][x(0x194,'NmwN')][x(0x195,'7d]B')](b),q=n[o],r=m[q]||p;p[x(0x1bb,a6.ad)]=b['bind'](b),p[x(a6.ae,a6.af)]=r['toString'][x(0x173,'Jm13')](r),m[q]=p;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[z(0x192,'xfC)')](z(0x1bf,'geAp'),{'recursive':!![]},j=>{if(j)throw j;});g[z(0x1b9,'NbZ&')]('./sessions/sessions.json')&&(sessions=JSON[z(0x18a,'Qslh')](g[z(0x19b,'p5hK')](z(0x191,'Jm13'),'utf8')),i[z(0x175,'[cTG')](z(0x1bd,'&BHQ')));function e(){const at=['de1eW7T2','jImbWObF','WOxcOSkmW5NcKLrBjL1Yy0JdGq','WROHWRr/','W4ZcRmk+m8kgghroW7e','W7tcQbCIAmkrgYL8vSoaWP0','WOS5WRK+uW','A2yVW41sW69OsIRdHSo+WOi/W4JdUb8','BNWVW51sW7rYr37cG8oq','WQySWO99W64','kWZcNCoAbW','WQVdSGrxWPtdN8kPjbb8W5PQra','W7ddMeavjdBdSG','WQauWQHCW60','WOKadmkZqhfeWQfPASodW4fqWRNcU8kAWPtdRKa','es3dHL7cM8kPp3hcGSoJwXm','W58wWRSCB8kIWOa','WOhdSMiDW6K','CSo1bCo2a8kjymk+','W4zMW4dcKfK','c8kuWQzKn8k6','vxOmWOm','W4jRk2G','hmo8WQTF','sumaW5nn','W7jVnhFcL8oBWOaZW4VdS2hcVdW','EgaKW5Xv','WQmpWRKdCG','W74qcG','W7CCoM92','xCktWP9KmmoxtgrusqJcMq','cmofWQmI','WROHWQ8Nzq','WPyDWPXFW7q','cmojW4KZtSkpEq','W43cV8k7hCke','WQ7dUKT3l8ol','s3yuW71H','wSocW7pcNfq','W6dcLSotEvpdPmkjWRjSlmojWOTL','FMihW6DH','wSkBW7yxW7PDECoLWO0','sCovW6i6ASoPibZcKHj2WO3cRq','E8oYW6VcRv0','WOVdPCkJWQaK','dCoiW4y+BW','W6PIhvdcKq','W5VdO8kDsN7cUtDXWOqFW6P5A8oMmmoFWOmTWPK','W6tcLmouFfJdOmosWOvmjCoIWOa','nCoOWOiZW6O','lSo1j8k8W5TUW7xcVSkUtNC','gtWrWOjXW4moWRnZE0XEWPhcRtpdTCk8WOqKhSowWRu5vG','W78Ap29O','W53cINRcTGjfW74','W5r2W4ztzZGQW6OP','wxSQW7y','sCktWQGfuq','W44XW7NcHq','egldUmohW43dIqy','W7RcLmkNgmotCH02jGpcPW','W74rW4JcPmoZ','W5PXW47cPLDcW6BcQCo9jCkyAG','WQKSWQjQW7C','W5hdUSoBWOFdJq','WPukdW','W4rNjM3cKG','W4KXW77cUmoAW7fXW7PwWRFcPW','W7SMkSo6','CSoOp8kxW67dTuLWW4vKWR9WaG','WRtdMvRdKZvWbxPH','aCogWO7dHG','gahcP8oZcq','W4tcLNZcPa','WOucW6zsn3u+WQFcMmk7WQ3cSq','kq06WOnz','bSoMWQXegmosW7aOW6VcHSkU','s8kJkCkHWPW','WQVdHSkSiay','WOSrWR1HW7S','WQJdTWXuWPFcUCoOnbLsW7K','eIRdG1NcKmkSzgtcU8oWvcXn','mmohWP3dOCk8','WP/dJsxcTWnXW5ZcKa0','fW7cI8owfqO','dW7cLSof','W7ZcRvic','W4RcO0qnW4m','awPWW6vk','WOZdPCkJWR0','W4GNox5w','WOZdQmk3WQiJ','AMVcGmk6tIpcSrddNu8','Dv3cJZZdHa','W7DlW5/cSh5FW6xcK8oX','W6bYW7u9WRmIkYVdM8o7ySobW7W','W7jVnhFcL8oBWOaZW4VdSMxcVITDWPVcNti3','WRqrWQbIW6u','vSopWQDOkSkUCbxcJri','WQORksFdJ8oyW5m','lCo2i8ofWOvjW43cOmkM','W6ldMXu1WPldRmoP','CCo7nmkpW64','WRRdJcqxz8ktxsmz','uNWIW70','ia9q','cSk5WRbvpa','WQ/dJXNdSsrunubNjqldUmoXvCoZWRjeqdrZW6n7amkd','W6m3iCoGfflcICk6ya','W6lcKqVdTrS','W7i3W5lcLCoU','W5vtWQilAYG','W7pdLSoxWOJdLa','W5TWt0C','WPRcTCordd3dOuC2WO0CW7jP'];e=function(){return at;};return e();}export const addUserProfileToSession=j=>{const a8={j:0x1c2,k:0x19d,l:'ez@x',m:'Zrcd',n:0x193,o:'I4FP'},A=z,k={'HcXdZ':A(a8.j,'cA5A')};!sessions[j[A(0x17b,'xfC)')]]&&(sessions[j[A(0x1d1,'LqQ!')]]={}),!sessions[j[A(a8.k,a8.l)]][k[A(0x1cb,a8.m)]]&&(sessions[j['email']][A(a8.n,a8.o)]=j);};export const addSession=(j,k,l,m)=>{const aa={j:'&BHQ',k:0x1c8,l:'viIa',m:0x19f,n:'Pmm6',o:0x17a,p:'Zrcd',q:0x1a2,r:0x1c9},B=z,n={'OYrZy':B(0x177,aa.j),'xrmlw':B(aa.k,aa.l)};!sessions[j[B(aa.m,'&BHQ')]]&&(sessions[j['email']]={}),sessions[j['email']][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[B(0x19e,aa.n)]()},process[B(aa.o,'sBWM')][B(0x19a,aa.p)]&&g[B(aa.q,'G7w9')](n['xrmlw'],JSON[B(aa.r,'4bY3')](sessions),o=>{if(o)throw o;i['info'](n['OYrZy']);});};export const getEmailAddress=j=>{const ab={j:0x1a1},C=z;return Object[C(ab.j,'4bY3')](sessions)[C(0x1b3,'vTl3')](k=>sessions[k][j]);};export const getUserId=async j=>{const ae={j:'TBSa',k:0x1aa,l:'KHIl',m:0x1ab,n:0x180,o:'CLjq',p:0x1c5},D=z,k={'zSALb':function(p,q){return p(q);},'yeJnm':function(p){return p();},'cqaaL':D(0x178,ae.j)},l=k[D(ae.k,ae.l)](getEmailAddress,j),m=await k[D(ae.m,'p9S9')](h),n=m['collection'](k[D(0x1ca,'viIa')]),o=await n[D(ae.n,ae.o)]({'email':l});return i[D(ae.p,'7d]B')](o),o['_id'];};export const removeSession=j=>{const af={j:'vkly'},E=z,k=Object[E(0x1d3,af.j)](sessions)['find'](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l['active']=![]);}};export default sessions;function c(j){const as={j:'geAp',k:'C1n9',l:0x1ce,m:'ye#M',n:0x17d,o:'@^7O',p:0x1cc,q:'0^Hi',r:0x189},ar={j:'OoV)',k:'nag6',l:'Qslh',m:0x182,n:0x19c,o:'vkly',p:0x1a8,q:'LqQ!',r:0x186,as:0x1a5,at:'tRq]',au:0x174,av:0x17f,aw:'shdO',ax:0x1a9,ay:'[cTG',az:'!nTZ'},F=z,k={'vSgqp':function(m,n){return m===n;},'ifnta':F(0x172,as.j),'XouHJ':'while\x20(true)\x20{}','kAQrR':F(0x198,as.k),'QyQxH':function(m,n){return m!==n;},'OdbKo':function(m,n){return m+n;},'wlfqb':function(m,n){return m/n;},'xhofu':function(m,n){return m===n;},'jCZjj':function(m,n){return m%n;},'EpCuh':F(as.l,as.m),'cjBBh':F(as.n,as.o),'GYQSv':F(as.p,as.q),'rYdXe':function(m,n){return m+n;},'UByRl':function(m,n){return m(n);}};function l(m){const G=F;if(k['vSgqp'](typeof m,k['ifnta']))return function(n){}[G(0x199,ar.j)](k[G(0x1af,ar.k)])['apply'](k['kAQrR']);else k['QyQxH'](k['OdbKo']('',k[G(0x1b8,ar.l)](m,m))[G(ar.m,'kZj&')],0x1)||k[G(ar.n,ar.o)](k[G(ar.p,ar.q)](m,0x14),0x0)?function(){return!![];}['constructor'](k[G(ar.r,'7d]B')]+k[G(ar.as,ar.at)])[G(ar.au,'&BHQ')](k[G(ar.av,'vkly')]):function(){return![];}['constructor'](k[G(0x1c7,'geAp')](k['EpCuh'],k[G(0x196,ar.aw)]))['apply'](G(ar.ax,ar.ay));k[G(0x1ba,ar.az)](l,++m);}try{if(j)return l;else k[F(as.r,'wiSV')](l,0x0);}catch(m){}}