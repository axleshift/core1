import{r as s,j as a}from"./Oq9P1Wj_.js";import{M as e}from"./Bg0HqDUA.js";import{F as t,N as r,O as i,P as o}from"./sp1ODoSc.js";import{P as n}from"./NdsU5MZw.js";import{a1 as l,a as d,b as c,a2 as m,g as p,h as u,a3 as j,c as x}from"./B68AamsC.js";import{S as h,A as g}from"./BfuEg4ms.js";import{b as y}from"./6IyA7j_C.js";import{E as f}from"./BGB82IPO.js";import{A as b}from"./D2upNizI.js";import{d as N}from"./Ce_fjdqS.js";import"./deeEeel3.js";import"./DoV6T4jL.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./BzOa6JrD.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./fHQ1LRrH.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./BYNIthp4.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";const C=e=>{const o=s.useRef(null),n=s.useRef(null);return s.useEffect((()=>{document.documentElement.addEventListener("ColorSchemeChange",(()=>{o.current&&setTimeout((()=>{o.current.data.datasets[0].pointBackgroundColor=l("--cui-primary"),o.current.update()})),n.current&&setTimeout((()=>{n.current.data.datasets[0].pointBackgroundColor=l("--cui-info"),n.current.update()}))}))}),[o,n]),a.jsxs(d,{className:e.className,xs:{gutter:4},children:[a.jsx(c,{sm:6,xl:4,xxl:3,children:a.jsx(m,{color:"primary",value:a.jsxs(a.Fragment,{children:["26Hrs"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(-12.4% ",a.jsx(t,{icon:r}),")"]})]}),title:"Route Optimization",action:a.jsx(p,{alignment:"end",children:a.jsx(u,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(j,{ref:o,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Hours",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:l("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(c,{sm:6,xl:4,xxl:3,children:a.jsx(m,{color:"info",value:a.jsxs(a.Fragment,{children:["$6.200"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(40.9% ",a.jsx(t,{icon:i}),")"]})]}),title:"Freight Cost",action:a.jsx(p,{alignment:"end",children:a.jsx(u,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(j,{ref:n,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Costs",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:l("--cui-info"),data:[1334,18545,9454,1447,34444,2442,1441]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(c,{sm:6,xl:4,xxl:3,children:a.jsx(m,{color:"warning",value:a.jsxs(a.Fragment,{children:["92%"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",a.jsx(t,{icon:i}),")"]})]}),title:"Performance",action:a.jsx(p,{alignment:"end",children:a.jsx(u,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(j,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Score",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})})]})};C.propTypes={className:n.string};const k=()=>{const[r,i]=s.useState([]),[n,l]=s.useState(1),[m,p]=s.useState(0),[u,j]=s.useState(!0),{addToast:k}=y(),w=N();return s.useEffect((()=>{(async s=>{axios.post("/freight",{page:s}).then((s=>{i(s.data.data),p(s.data.totalPages)})).catch((s=>{const a=f[s.status]||"Server is offline or restarting please wait";k(a,"Submit failed!")})).finally((()=>j(!1)))})(n)}),[n]),a.jsxs("div",{children:[u&&a.jsx("div",{className:"loading-overlay",children:a.jsx(x,{color:"primary",variant:"grow"})}),!u&&0==r.length&&a.jsx(d,{className:"justify-content-center my-5",children:a.jsx(c,{md:6,children:a.jsxs("div",{className:"clearfix",children:[a.jsx("h1",{className:"float-start display-3 me-4",children:"OOPS"}),a.jsx("h4",{children:"There was no shipment yet."}),a.jsx("p",{children:"Check it out later"})]})})}),0!==r.length&&a.jsxs(a.Fragment,{children:[a.jsx(C,{className:"mb-4"}),a.jsx("h4",{children:"Shipments"}),a.jsx(b,{className:"mb-3 d-block d-md-none"}),a.jsx(e,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:r.map(((s,e)=>a.jsx(h,{shipment:s},e)))}),a.jsx("button",{className:"btn btn-primary rounded-circle position-fixed bottom-0 end-0 m-3",style:{width:"50px",height:"50px",fontSize:"20px"},onClick:s=>w("/customer"),children:a.jsx(t,{icon:o})}),r.length>20&&a.jsx(g,{currentPage:n,setCurrentPage:l,totalPages:m,setTotalPages:p,className:"mb-3"})]})]})};export{k as default};
