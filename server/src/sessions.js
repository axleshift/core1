const A=f;(function(j,k){const J={j:'wMI7',k:0x12b,l:'74MJ',m:0x130,n:0x174,o:'!vWu',p:0x188,q:'wy]]',r:'lWTO',s:'0kpa'},t=f,l=j();while(!![]){try{const m=parseInt(t(0x14f,J.j))/0x1+-parseInt(t(J.k,J.l))/0x2+parseInt(t(J.m,'9[hV'))/0x3*(parseInt(t(0x129,'I&Lg'))/0x4)+parseInt(t(J.n,J.o))/0x5+parseInt(t(J.p,'E0IH'))/0x6*(parseInt(t(0x170,'%)@!'))/0x7)+-parseInt(t(0x16d,J.q))/0x8+parseInt(t(0x132,J.r))/0x9*(-parseInt(t(0x159,J.s))/0xa);if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x7dbd8));const d=(function(){let j=!![];return function(k,l){const m=j?function(){const u=f;if(l){const n=l[u(0x17d,'XEP#')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const T={j:'2UXJ',k:0x180,l:'n6[u',m:0x186,n:')UCT'},S={j:'ziVs',k:0x13a,l:'%)@!',m:0x123,n:'qpP$',o:0x157,p:'n!eq',q:0x16c,r:'74MJ',s:0x16e},v=f,j={'dMTdo':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','ZybJH':function(k,l){return k(l);},'lJHVo':v(0x187,T.j),'fFmYS':function(k,l){return k+l;},'glODz':v(T.k,T.l),'eXbJV':v(T.m,T.n),'NLwOe':function(k,l){return k(l);},'eDSyg':function(k){return k();}};d(this,function(){const w=v,k=new RegExp(w(0x173,'Xpyl')),l=new RegExp(j[w(0x16b,S.j)],'i'),m=j[w(S.k,S.l)](c,j[w(S.m,S.n)]);!k[w(S.o,'!vWu')](j['fFmYS'](m,j[w(0x164,S.p)]))||!l[w(S.q,S.r)](j['fFmYS'](m,j[w(0x151,'9[hV')]))?j[w(S.s,'8AhY')](m,'0'):j['eDSyg'](c);})();}());const b=(function(){const U={j:'#t(T'};let j=!![];return function(k,l){const m=j?function(){const x=f;if(l){const n=l[x(0x13f,U.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a1={j:'nz*W',k:0x18c,l:'E0IH',m:0x15b,n:'ypqK',o:0x154,p:'#t(T',q:0x184,r:'&dCB',s:0x153,a2:0x17a,a3:0x18d,a4:0x125,a5:'xeOp',a6:0x124,a7:'#R#o',a8:0x162,a9:0x140,aa:0x18a},y=f,j={'cKjXW':function(n,o){return n(o);},'ZDIIY':function(n,o){return n+o;},'PQFut':'return\x20(function()\x20','EiMzi':y(0x13d,a1.j),'MbDsw':y(0x143,'%QI('),'npWMk':'info','QpsQF':y(a1.k,a1.l),'WvDmP':y(a1.m,'qpP$'),'woRXk':'table','gxyuL':y(0x15a,'%)@!'),'aaBYc':function(n,o){return n<o;}};let k;try{const n=j[y(0x14d,a1.n)](Function,j[y(a1.o,a1.p)](j['PQFut'],'{}.constructor(\x22return\x20this\x22)(\x20)')+');');k=n();}catch(o){k=window;}const l=k['console']=k[y(a1.q,a1.r)]||{},m=[j[y(a1.s,']*1L')],j[y(a1.a2,'#R#o')],j['npWMk'],j['QpsQF'],j['WvDmP'],j[y(0x14c,'nz*W')],j[y(0x17f,'&dCB')]];for(let p=0x0;j[y(0x126,'iW2p')](p,m['length']);p++){const q=b[y(0x136,'S)4M')][y(a1.a3,'74MJ')][y(0x172,'pO!z')](b),r=m[p],s=l[r]||q;q[y(a1.a4,a1.a5)]=b[y(a1.a6,a1.a7)](b),q[y(a1.a8,'!vWu')]=s[y(a1.a9,'0kpa')][y(a1.aa,'9[hV')](s),l[r]=q;}});(function(){const a4={j:'ypqK',k:'n!eq',l:0x179,m:'G@!a',n:0x128},z=f,j={'XTpcv':function(l,m){return l(m);},'RuGyv':function(l,m){return l+m;},'pbcrC':'return\x20(function()\x20','wcRTj':z(0x148,'Myll')};let k;try{const l=j[z(0x156,a4.j)](Function,j[z(0x16f,'n6[u')](j['RuGyv'](j[z(0x17b,a4.k)],j[z(a4.l,a4.m)]),');'));k=l();}catch(m){k=window;}k[z(a4.n,'n!eq')](c,0x9c4);}()),a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g['mkdir']('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g['existsSync'](A(0x181,'@oEp'))&&(sessions=JSON['parse'](g[A(0x12d,'GYhO')](A(0x152,'GYhO'),A(0x150,')UCT'))),i['info'](A(0x12a,'S)4M')));export const addUserProfileToSession=j=>{const a6={j:'J(ne',k:0x15d,l:'GYhO',m:'O^MM',n:0x185,o:'8AhY',p:0x122,q:0x13b},B=A,k={'VPoET':B(0x133,']*1L')};!sessions[j[B(0x165,a6.j)]]&&(sessions[j[B(a6.k,a6.l)]]={}),!sessions[j[B(0x17e,a6.m)]][k[B(a6.n,a6.o)]]&&(sessions[j[B(a6.p,'90qM')]][k[B(a6.q,'n!eq')]]=j);};export const addSession=(j,k,l,m)=>{const a8={j:0x155,k:'lWTO',l:0x176,m:'9[hV',n:0x183,o:'G@!a',p:']*1L',q:0x15c,r:0x158},a7={j:0x145,k:'nz*W'},C=A,n={'cWkDi':C(a8.j,a8.k),'iratX':'./sessions/sessions.json'};!sessions[j[C(a8.l,a8.m)]]&&(sessions[j[C(a8.n,a8.o)]]={}),sessions[j['email']][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date['now']()},process[C(0x144,a8.p)][C(0x171,'!vWu')]&&g[C(a8.q,'2UXJ')](n[C(0x135,'xMMi')],JSON[C(a8.r,'qpP$')](sessions),o=>{const D=C;if(o)throw o;i[D(a7.j,a7.k)](n['cWkDi']);});};export const getEmailAddress=j=>{const E=A;return Object['keys'](sessions)[E(0x15e,'Xs!o')](k=>sessions[k][j]);};function f(a,b){const c=e();return f=function(d,g){d=d-0x122;let h=c[d];if(f['wLRmYH']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['iDkxeB']=m,a=arguments,f['wLRmYH']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['EkheNw']===undefined&&(f['EkheNw']=!![]),h=f['iDkxeB'](h,g),a[k]=h):h=l,h;},f(a,b);}export const getUserId=async j=>{const ac={j:0x177,k:0x13c,l:'n!eq',m:0x168,n:'wy]]',o:0x12c,p:'y7LH',q:0x13e,r:0x146},F=A,k={'FaSzh':function(p,q){return p(q);},'ItIcg':function(p){return p();},'ifciD':F(ac.j,'VO(W')},l=k[F(ac.k,'8AhY')](getEmailAddress,j),m=await k['ItIcg'](h),n=m[F(0x169,ac.l)](k[F(ac.m,ac.n)]),o=await n[F(ac.o,ac.p)]({'email':l});return i[F(ac.q,'xzay')](o),o[F(ac.r,'eXQb')];};function e(){const ao=['qSokcmorWPi','o8k6W4jsvq','WPhdN2BdNmohFbjdW53cLmoQkrm','W4m5W78ZW7i','WOtcU8oQW4e','WQhdUCkOWOKWWOG1W4C+','WPRdNW0QW7rnW6xcU8kMw8k9WQ0','WQtdQSooWR5q','WRFdTCk5WOuUWPS1W44P','WONdSmkHWRVcJrfGW77dHcjzeSoI','j8kWrSk5W7G','sSkvyg8','pCoxnmoh','xmo4WRKSW6RdIa','emo/h8oCW7y','WOtcSCokW4fkW4pcHSkw','aLL7WPjIWQT3','qCoaWPZcMq0','r3lcM8kDW6m','DmoxjmoFWP7dT8oVWQXGFLa','W4/cTmoduGXbW5JdOSocW7uO','mmkyiblcJq','rCodWR/cSrlcG2pdUshcTa','d8oFhwpdVZRcR3ZdKmkcWP0Zjq','DSokWO55sW','lSoviSob','A8ojC0JdVK52WQvLW4y2ESo8','W7BcGCoymCo4','W4KTrbBcHW','W6lcQCkyWPfKWRNdVJzU','WRtcM8oBW6b/','W4VcKtNcQW','W5DNgXtdVmkKW4FcT1SrW54EcCkUBdG','W4tdP8kHWOCaWPNdNCkGpmkUWOC4WQi','kHFdTCkaW5ddSXdcOG','W7/dQSkWWQHl','h8ktpePT','pSoHWQqKW6PNkJFdVCo/yXO','W6VdSSkcpmoi','W69Db8otfa','vSooWRdcRZq','DHj+w8oS','W6H9atrc','Fu3dM8kVW5e','AxHJW5vG','W7GWyGBcNW','uCkIwSkJW4bSnCkAeMn5W6zxWRCyWO3dUstcHmo2WRVcNxdcVq','WRxdTmofWPbY','W7NdVmkXaCoo','Bw90W5ndBSkv','W67cNCoao8oj','wW9Pqmo2','WPFdRmkHWRS','F8ogW5z/mumTg2/dR1a','WPFcJ8ozW5aWzSoMW5ldOmoIW5FdSq','W7JdRSk/WQu','w8oYWQmH','kmkhWPePEW','kSocpSobW4KPqfdcUa','wmkftdNcPa','WR7dH8ksWRyX','W4bwlCoe','ig8RWQiOASkXqCob','A8k4W5voWRG','oHhcMMHlpuRcLSk6','vCojWQFcLbNcLhldOJJcU1W','wvLcWOTsWRXd','BSo+WR42W6ZdICkUp1v5W7m/x8oufqVdRaO','AmkayCkcWPzSdvNcVGXHoCoC','srhdOCopWO0dBa','mmk4rSk0W5jvWQrFF8kGeSk1','W6nxd8oIlG','v8oQWPOaW6q','WQ7cV8oIW7iwW4PtAbxdII4j','wSo8WQG3','W7dcJvRdQCodwG5a','D8orkSonWPldLmoO','W5/cShSjWPDD','WQhdUSkSj8k2','xSo0WQm2W7hdLmk1lWfKW6q','ufFdMq4','xfhcR27dJWzeW7/dTu4cnG','W73dOCkGbmoB','WORdOConWPD9','Cmo8WRZcMcm','W77cRmo8bmo1','wf3dNa','bW7dVJi','amkoW7T3Dq','W5ZcGwLTWReuW4/cLq','y1xdHe57','uCoeWRRcSrldGd/dPdZcR1xdGgxdI8oM','F0hdN0O','ySonmW','xvZdNrq','gH4c','WQpdMwhdHSoyDG','WPvHWQFdSmk1W5aJmX4DCSouW6K9FCkovCk9W4jaWOXGaSkBW4ldNZORWQBcMSkBAq','qmoaW4BcLhzaWOzzWOS6Cq','c8kqkvrN','WO1ZW6FdOmkUW4WLjbGhyW','q13dQspdMa','W7GMW6uiW5m','WRXnW5ddP8kn','f8kxWPNdLZmeWRDwWPWMsc8','rXv/dq','W7/dN8kZWOTX','BmoYvmk1W6DpWQfvqSkQu8kLdmkgW6LuwavtE8o8g1xdJa'];e=function(){return ao;};return e();}export const removeSession=j=>{const ad={j:0x147,k:'lWTO'},G=A,k=Object['keys'](sessions)[G(0x18b,'S)4M')](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[G(ad.j,ad.k)]=![]);}};export default sessions;function c(j){const an={j:0x142,k:0x163,l:0x134,m:'nz*W',n:0x15f,o:'74MJ',p:0x160,q:']*1L'},am={j:0x182,k:'%)@!',l:0x139,m:'G@!a',n:0x14e,o:'Myll',p:0x149,q:')UCT',r:0x12f,s:0x141,an:0x131,ao:'VO(W',ap:0x12e,aq:'#R#o'},H=A,k={'ldPew':function(m,n){return m===n;},'gauWC':'string','eljMG':H(an.j,'n!eq'),'JONiP':H(an.k,'I&Lg'),'RQYtW':function(m,n){return m+n;},'CFxtN':function(m,n){return m/n;},'QTXNd':H(an.l,'BMJd'),'AnLPH':function(m,n){return m%n;},'Dsgnn':function(m,n){return m+n;},'bVYoW':H(0x137,an.m),'jqWEa':H(an.n,an.o),'kuija':H(an.p,'S)4M'),'AhLBM':H(0x166,an.q)};function l(m){const I=H;if(k['ldPew'](typeof m,k['gauWC']))return function(n){}[I(0x167,'FiJt')](k[I(am.j,am.k)])[I(am.l,am.m)](k[I(0x161,'74MJ')]);else k[I(am.n,am.o)]('',k['CFxtN'](m,m))[k['QTXNd']]!==0x1||k['ldPew'](k['AnLPH'](m,0x14),0x0)?function(){return!![];}[I(am.p,'wMI7')](k[I(0x17c,am.q)](k['bVYoW'],k[I(am.r,'S)4M')]))['call'](k[I(am.s,'%QI(')]):function(){return![];}[I(0x14b,'Myll')](k['bVYoW']+I(am.an,'S)4M'))[I(0x14a,am.ao)](k[I(am.ap,am.aq)]);l(++m);}try{if(j)return l;else l(0x0);}catch(m){}}