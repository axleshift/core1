import{r as e,j as a}from"./B29SdWEC.js";import{a2 as t,a as s,b as i,a3 as l,a4 as o,i as r,a5 as n,a6 as d,d as c,e as m,f as u,g as p}from"./Ct7PKbLj.js";import{F as h,M as g,N as v}from"./DkRsNtTr.js";import"./ucIcx5RQ.js";import"./E8MUDNEF.js";import"./C_n0TLp5.js";import"./BjhGVRpM.js";import"./BFk34ZWe.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";const x=()=>{var x,j,f,b,y,C,W,O,w,R,F,N;const k=e.useRef(null),M=e.useRef(null),S=e.useRef(null),I=e.useRef(null),[J,D]=e.useState({smallDetailWidgets:{cancelled:[0,"0%"],toPay:[0,"0%"],toShip:[0,"0%"],toReceive:[0,"0%"],received:[0,"0%"]},invoicesInfoWidgets:{success:[0,"0%"],expired:[0,"0%"]}}),A=e=>{if(!e||0===e.length)return 0;return(e.reduce(((e,a)=>e+a),0)/e.length).toFixed(2)},B=[{color:"primary",value:a.jsx(a.Fragment,{children:A(null==(x=J.shipmetOvertime)?void 0:x.data)}),title:"Shipments",chartRef:k,pointColor:t("--cui-primary"),labels:(null==(j=J.shipmetOvertime)?void 0:j.labels)||["Jan","Feb","Mar","Apr","May","Jun"],data:(null==(f=J.shipmetOvertime)?void 0:f.data)||[0,0,0,0,0,0]},{color:"info",value:a.jsx(a.Fragment,{children:A(null==(b=J.costOvertime)?void 0:b.data)}),title:"Average Cost",chartRef:M,pointColor:t("--cui-info"),labels:(null==(y=J.costOvertime)?void 0:y.labels)||["Jan","Feb","Mar","Apr","May","Jun"],data:(null==(C=J.costOvertime)?void 0:C.data)||[0,0,0,0,0,0]},{color:"warning",value:a.jsx(a.Fragment,{children:A(null==(W=J.itemsOvertime)?void 0:W.data)}),title:"Items",chartRef:S,pointColor:t("--cui-warning"),labels:(null==(O=J.itemsOvertime)?void 0:O.labels)||["Jan","Feb","Mar","Apr","May","Jun"],data:(null==(w=J.itemsOvertime)?void 0:w.data)||[0,0,0,0,0,0]},{color:"danger",value:a.jsx(a.Fragment,{children:A(null==(R=J.weightOvertime)?void 0:R.data)}),title:"Weight",chartRef:I,pointColor:t("--cui-danger"),labels:(null==(F=J.weightOvertime)?void 0:F.labels)||["Jan","Feb","Mar","Apr","May","Jun"],data:(null==(N=J.weightOvertime)?void 0:N.data)||[0,0,0,0,0,0]}],E=e=>axios.get(e).then((e=>e.data)).catch((e=>{throw e}));e.useEffect((()=>{(async()=>{(async()=>{try{const e=E("/insights/shipment-overtime").then((e=>D((a=>({...a,shipmetOvertime:e}))))),a=E("/insights/cost-overtime").then((e=>D((a=>({...a,costOvertime:e}))))),t=E("/insights/items-overtime").then((e=>D((a=>({...a,itemsOvertime:e}))))),s=E("/insights/weight-overtime").then((e=>D((a=>({...a,weightOvertime:e}))))),i=E("/insights/shipment-info-widgets").then((e=>D((a=>({...a,smallDetailWidgets:e}))))),l=E("/insights/invoices-info-widgets").then((e=>D((a=>({...a,invoicesInfoWidgets:e})))));await Promise.all([e,a,t,s,i,l])}catch(e){}})()})()}),[]),e.useEffect((()=>{document.documentElement.addEventListener("ColorSchemeChange",(()=>{k.current&&setTimeout((()=>{k.current.data.datasets[0].pointBackgroundColor=t("--cui-primary"),k.current.update()})),M.current&&setTimeout((()=>{M.current.data.datasets[0].pointBackgroundColor=t("--cui-info"),M.current.update()})),S.current&&setTimeout((()=>{S.current.data.datasets[0].pointBackgroundColor=t("--cui-info"),S.current.update()})),I.current&&setTimeout((()=>{I.current.data.datasets[0].pointBackgroundColor=t("--cui-info"),I.current.update()}))}))}),[k,M,S,I]);const[P,T]=e.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(s,{className:"mb-4",xs:{gutter:4},children:B.map(((e,t)=>a.jsx(i,{sm:6,xl:4,children:a.jsx(l,{"data-aos":"fade-up",color:e.color,value:e.value,title:e.title,action:a.jsx(r,{className:"btn",onClick:()=>T(!0),children:a.jsx(h,{icon:g,size:"lg",className:"text-white"})}),chart:a.jsx(o,{ref:e.chartRef,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:e.labels,datasets:[{label:e.title,backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:e.pointColor,data:e.data}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:2,tension:.4},point:{radius:6,hitRadius:10,hoverRadius:4}}}})})},t)))}),a.jsxs(s,{children:[a.jsx(i,{xs:6,md:4,children:a.jsx(n,{"data-aos":"fade-up","data-aos-delay":"200",icon:a.jsx(h,{icon:v}),className:"mb-3",color:"danger",title:"Cancelled Shipments",value:J.smallDetailWidgets.cancelled[1]})}),a.jsx(i,{xs:6,md:4,children:a.jsx(n,{"data-aos":"fade-up","data-aos-delay":"300",icon:a.jsx(h,{icon:v}),className:"mb-3",color:"info",title:"Waiting For Payments",value:J.smallDetailWidgets.toPay[1]})}),a.jsx(i,{xs:6,md:4,children:a.jsx(n,{"data-aos":"fade-up","data-aos-delay":"400",icon:a.jsx(h,{icon:v}),className:"mb-3",color:"secondary",title:"Waiting For Pickup",value:J.smallDetailWidgets.toShip[1]})}),a.jsx(i,{xs:6,md:4,children:a.jsx(n,{"data-aos":"fade-up","data-aos-delay":"500",icon:a.jsx(h,{icon:v}),className:"mb-3",color:"warning",title:"On the Way",value:J.smallDetailWidgets.toReceive[1]})}),a.jsx(i,{xs:6,md:4,children:a.jsx(n,{"data-aos":"fade-up","data-aos-delay":"600",icon:a.jsx(h,{icon:v}),className:"mb-3",color:"primary",title:"Completed Shipments",value:J.smallDetailWidgets.received[1]})})]}),a.jsx("h5",{children:"Invoices"}),a.jsxs(s,{children:[a.jsx(i,{xs:6,children:a.jsx(d,{"data-aos":"fade-up","data-aos-delay":"700",className:"mb-3",icon:a.jsx(h,{icon:v}),progress:{color:"success",value:J.invoicesInfoWidgets.success[0]},title:"Successful",value:J.invoicesInfoWidgets.success[1]})}),a.jsx(i,{xs:6,children:a.jsx(d,{"data-aos":"fade-up","data-aos-delay":"800",className:"mb-3",icon:a.jsx(h,{icon:v}),progress:{color:"danger",value:J.invoicesInfoWidgets.expired[0]},title:"Expired",value:J.invoicesInfoWidgets.expired[1]})})]}),a.jsxs(c,{alignment:"center",scrollable:!0,visible:P,onClose:()=>T(!1),"aria-labelledby":"",children:[a.jsx(m,{children:a.jsx(u,{id:"",children:"Test"})}),a.jsx(p,{children:"Hello World"})]})]})};export{x as default};
