import{r as s,j as a}from"./Oq9P1Wj_.js";import{M as e}from"./Bg0HqDUA.js";import{F as r,L as t,M as i,N as l}from"./IXMtX5d7.js";import{P as n}from"./NdsU5MZw.js";import{_ as o,a as c,b as d,$ as m,o as p,p as j,a0 as u,c as h,P as x,Q as y,a1 as g,a2 as b}from"./zusKMQ8X.js";import{A as f}from"./T_Bh7xth.js";import{b as N}from"./BSZaAcM_.js";import{A as v}from"./BAxFTr-f.js";import{S as C}from"./F8J9LD82.js";import{d as k}from"./Ce_fjdqS.js";import"./deeEeel3.js";import"./DoV6T4jL.js";import"./B0pL_gbQ.js";import"./DhxmCZ7v.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./fHQ1LRrH.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./b9dqFv80.js";import"./VSWDZ_lP.js";import"./B2NO97j6.js";import"./BIq-TSdk.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./2aPQtUzY.js";const w=e=>{const l=s.useRef(null),n=s.useRef(null);return s.useEffect((()=>{document.documentElement.addEventListener("ColorSchemeChange",(()=>{l.current&&setTimeout((()=>{l.current.data.datasets[0].pointBackgroundColor=o("--cui-primary"),l.current.update()})),n.current&&setTimeout((()=>{n.current.data.datasets[0].pointBackgroundColor=o("--cui-info"),n.current.update()}))}))}),[l,n]),a.jsxs(c,{className:e.className,xs:{gutter:4},children:[a.jsx(d,{sm:6,xl:3,children:a.jsx(m,{color:"primary",value:a.jsxs(a.Fragment,{children:["95%"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(-12.4% ",a.jsx(r,{icon:t}),")"]})]}),title:"Fleet",action:a.jsx(p,{alignment:"end",children:a.jsx(j,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(u,{ref:l,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Hours",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:o("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(d,{sm:6,xl:3,children:a.jsx(m,{color:"info",value:a.jsxs(a.Fragment,{children:["10%"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(40.9% ",a.jsx(r,{icon:i}),")"]})]}),title:"Delivery Status",action:a.jsx(p,{alignment:"end",children:a.jsx(j,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(u,{ref:n,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Costs",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:o("--cui-info"),data:[1334,18545,9454,1447,34444,2442,1441]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(d,{sm:6,xl:3,children:a.jsx(m,{color:"warning",value:a.jsxs(a.Fragment,{children:["1 Ton"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",a.jsx(r,{icon:i}),")"]})]}),title:"Weight",action:a.jsx(p,{alignment:"end",children:a.jsx(j,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(u,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Score",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(d,{sm:6,xl:3,children:a.jsx(m,{color:"warning",value:a.jsxs(a.Fragment,{children:["1 Ton"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",a.jsx(r,{icon:i}),")"]})]}),title:"Deliveries by Destination",action:a.jsx(p,{alignment:"end",children:a.jsx(j,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(u,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Score",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})})]})};w.propTypes={className:n.string};const S=()=>{const[t,i]=s.useState([]),[n,o]=s.useState(1),[m,p]=s.useState(0),[j,u]=s.useState(!0),{addToast:S}=N(),R=k();return s.useEffect((()=>{(async s=>{axios.post("/freight",{page:s}).then((s=>{i(s.data.data),p(s.data.totalPages)})).catch((s=>{var a,e;const r=(null==(e=null==(a=s.response)?void 0:a.data)?void 0:e.error)||"Server is offline or restarting please wait";S(r,"Submit failed!")})).finally((()=>u(!1)))})(n)}),[n]),j?a.jsx("div",{className:"loading-overlay",children:a.jsx(h,{color:"primary",variant:"grow"})}):0==t.length?a.jsx(c,{className:"justify-content-center my-5",children:a.jsx(d,{md:7,children:a.jsxs("div",{className:"clearfix",children:[a.jsx("h2",{children:"Track your shipment"}),a.jsx(v,{className:"mb-3"}),a.jsxs(c,{xs:{cols:1},sm:{cols:2},children:[a.jsx(d,{onClick:s=>R("/freight"),className:"mb-3",children:a.jsx(x,{children:a.jsxs(y,{children:[a.jsx(g,{children:"Ship right now"}),a.jsx(b,{children:"Find the right service"})]})})}),a.jsx(d,{onClick:s=>R("/routes"),className:"mb-3",children:a.jsx(x,{children:a.jsxs(y,{children:[a.jsx(g,{children:"Get a qoute"}),a.jsx(b,{children:"Estimate cost and compare"})]})})})]})]})})}):a.jsxs("div",{children:[a.jsx(w,{className:"mb-4"}),a.jsx("h4",{children:"Shipments"}),a.jsx(v,{className:"mb-3 d-block d-md-none"}),a.jsx(e,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map(((s,e)=>a.jsx(C,{shipment:s},e)))}),a.jsx("button",{className:"btn btn-primary rounded-circle position-fixed bottom-0 end-0 m-3",style:{width:"50px",height:"50px",fontSize:"20px"},onClick:s=>R("/customer"),children:a.jsx(r,{icon:l})}),m>1&&a.jsx(f,{currentPage:n,setCurrentPage:o,totalPages:m,setTotalPages:p,className:"mb-3"})]})};export{S as default};
