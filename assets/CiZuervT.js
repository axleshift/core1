import{r as o,j as s}from"./D3kDgYDB.js";import{d as x}from"./BLqwzt7i.js";import{c as u,o as j,q as h,a as g}from"./tEDvo0RF.js";import{P as v,i as y}from"./zOQeB56e.js";import{p as b}from"./C2QnNB4K.js";import{d as C}from"./o5tV6Bm-.js";import{C as N,a5 as w,a6 as E}from"./DCCyG56P.js";import"./CNSOrHVr.js";import"./BT8GUUf_.js";import"./DOUhVDO5.js";import"./CWoBZRFf.js";import"./Dw8pycEM.js";import"./8JwjhRSi.js";import"./tpRZQFqq.js";import"./CzFDRTuY.js";import"./CQ-yZ3vu.js";import"./BmHAl9XU.js";import"./B6-gGlhp.js";import"./DiDpq0UU.js";import"./hKczlkOd.js";import"./CXnULsF_.js";import"./CCb-kr4I.js";import"./Cz0CWeBA.js";import"./WyM-ksIe.js";import"./Cp7XljvA.js";import"./BQBsAJpH.js";import"./DRFurTTo.js";import"./BZxJdD1U.js";import"./BXWtuYvb.js";const ts=()=>{const p=v(),i=C(),[n,c]=o.useState([]),[l,I]=o.useState(!1),d=u(x,"messages");return o.useEffect(()=>{j(h(d,g("timestamp")),r=>{const t=new Map;let a=[];r.docs.forEach(m=>{const e={id:m.id,...m.data()};a.includes(e.ref)||(t.set(e.ref,e),a.push(e.ref))});const f=Array.from(t.values());c(f)})},[]),s.jsxs(s.Fragment,{children:[l&&s.jsx("div",{className:"loading-overlay",children:s.jsx(N,{color:"primary",variant:"grow"})}),y()?s.jsx("div",{className:"row d-flex justify-content-center mx-0 mb-4",children:s.jsx(w,{children:n.map((r,t)=>s.jsxs(E,{as:"a",onClick:()=>i(`/customer/${r.ref}`),children:[s.jsxs("div",{className:"d-flex w-100 justify-content-between",children:[s.jsxs("h5",{className:"mb-1",children:["#",r.ref]}),s.jsx("small",{children:b(r.timestamp)})]}),s.jsx("p",{className:"mb-1",children:r.text}),s.jsx("small",{children:r.sender==="admin"?"You":"Client"})]},t))})}):i(`/customer/${p.ref}`)]})};export{ts as default};
