import{R as A,r as o,j as e}from"./D3kDgYDB.js";import{F as a,z as E,y as R,v as C,o as g}from"./OE35V6-p.js";import{R as _}from"./D0iU1EWp.js";import{E as I}from"./DJvUpxU9.js";import{d as F}from"./FDBtgKq2.js";import{c as T,C as q,I as L,J as P,P as D,R as K,Q as z,K as B,L as n,N as i,M as c,T as G,S as M,O as N}from"./Db3CzrIr.js";import"./CNSOrHVr.js";import"./WyM-ksIe.js";import"./dB90dn3U.js";import"./Dw8pycEM.js";import"./8JwjhRSi.js";import"./D3kAHpSt.js";import"./BQBsAJpH.js";import"./tpRZQFqq.js";import"./CzFDRTuY.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const ne=()=>{const w="6LcbAQopAAAAAPqiUSbgE4FWJrHdKfpFIK_s6rU-",d=F(),u=A.useRef(),[m,y]=o.useState({email:"",first_name:"",last_name:"",password:"",repeat_password:"",recaptcha_ref:""}),[v,h]=o.useState(!1),[x,b]=o.useState(!1),[f,j]=o.useState({error:!1,message:""});o.useEffect(()=>{if(cookies.get("RCTSESSION")!==void 0)return d("/")},[]);const t=l=>{const{id:p,value:r}=l.target;y(s=>({...s,[p]:r}))},k=async l=>{l.preventDefault(),h(!0);const p=await u.current.executeAsync(),r=new FormData;for(const s in m){if(s=="newsletter")return alert(m[s]);r.append(s,m[s])}r.append("recaptcha_ref",p),x&&r.append("newsletter","true"),await axios.post("http://142.93.121.73:5051/api/v1/auth/register",r,{headers:{}}).then(s=>{s.data.error||d("/login"),j({error:!0,message:s.data.error})}).catch(s=>{console.error(s);const S=I[s.status]||"An unexpected error occurred";j({error:!0,message:S})}).finally(()=>{h(!1)})};return e.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:[e.jsx("div",{className:"auth-bg"}),e.jsxs(T,{children:[v&&e.jsx("div",{className:"loading-overlay",children:e.jsx(q,{color:"primary",variant:"grow"})}),e.jsx(L,{className:"justify-content-center",children:e.jsx(P,{md:8,lg:6,xl:5,children:e.jsxs(D,{className:"p-1 p-md-4",children:[e.jsxs(K,{children:[f.error&&e.jsxs(z,{color:"danger",className:"d-flex align-items-center",children:[e.jsx(a,{className:"flex-shrink-0 me-2",icon:E,size:"xl"}),e.jsx("div",{children:f.message})]}),e.jsxs(B,{onSubmit:k,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(_,{ref:u,size:"invisible",sitekey:w}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(a,{icon:R})}),e.jsx(c,{id:"email",name:"email",placeholder:"Email",autoComplete:"email",onChange:t,required:!0})]}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(a,{icon:C})}),e.jsx(c,{id:"first_name",placeholder:"First Name",autoComplete:"given-name",onChange:t,required:!0})]}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(a,{icon:C})}),e.jsx(c,{id:"last_name",placeholder:"Last Name",autoComplete:"family-name",onChange:t,required:!0})]}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(a,{icon:g})}),e.jsx(c,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",onChange:t,required:!0})]}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(a,{icon:g})}),e.jsx(c,{id:"repeat_password",type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:t,required:!0})]}),e.jsx(G,{id:"newsletter",className:"mb-4",checked:x,onChange:l=>b(event.target.checked),label:"Subscribe to our newsletter"}),e.jsx("div",{className:"d-grid",children:e.jsxs(M,{children:[e.jsx(N,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(N,{color:"primary",className:"me-2 rounded",onClick:()=>d("/login"),children:"Login"})]})})]})]}),e.jsx("div",{className:"ms-auto",children:e.jsx("a",{href:"https://stats.uptimerobot.com/5l58Mua0Wi",target:"_blank",rel:"noopener noreferrer",className:"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",children:"System Status"})})]})})})]})]})};export{ne as default};
