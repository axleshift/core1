import{r as l,j as e}from"./react-t0FXqAAQ.js";import{a as y}from"./axios-CCb-kr4I.js";import{a as S}from"./js-cookie-Cz0CWeBA.js";import{S as F,C as I,a as N}from"./ShipmentForm-CqhCRKy9.js";import{d as q}from"./react-router-Cj39RNwK.js";import{C as D,J as P,a0 as O,a1 as t,M as p,a2 as k,O as d}from"./@coreui-DXUhNjn-.js";import"./core-js-Bohkx0y1.js";import"./prop-types-BwQq7MVh.js";import"./@remix-run-D_05oOQ-.js";import"./react-dom-B8-4x3Di.js";import"./scheduler-CzFDRTuY.js";import"./@popperjs-BQBsAJpH.js";import"./chart.js-DpsrBYWd.js";import"./@kurkle-BZxJdD1U.js";const Q=()=>{const _=q(),[r,o]=l.useState(1),[u,h]=l.useState(!1),[a,v]=l.useState({shipper:{shipper_company_name:"",shipper_contact_name:"",shipper_contact_email_address:"",shipper_contact_phone_number:"",shipper_company_address:""},consignee:{consignee_company_name:"",consignee_contact_name:"",consignee_contact_email_address:"",consignee_contact_phone_number:"",consignee_company_address:""},shipment:{shipment_description:"",shipment_weight:0,shipment_dimension_length:0,shipment_dimension_width:0,shipment_dimension_height:0,shipment_volume:0,shipment_value:0,shipment_instructions:""},shipping:{shipping_loading_port:"",shipping_discharge_port:"",shipping_sailing_date:"",shipping_estimated_arrival_date:"",shipping_cargo_type:1}}),s=(i,n)=>{const{id:b,value:j}=i.target;v(c=>({...c,[n]:{...c[n],[b]:j}}))},f=async()=>{try{h(!0),(await y.post("http://localhost:5050/api/freight/b/sea",a,{headers:{Authorization:`Bearer ${S.get("RCTSESSION")}`}})).status==201&&_("/")}catch(i){console.error(i)}finally{h(!1)}},C=()=>{o(1)},m=()=>{const{shipper:i}=a;if(Object.values(i).every(n=>n.trim()!==""))return o(2);alert("Please fill in all required fields in Shipper Information.")},g=()=>{const{consignee:i}=a;if(Object.values(i).every(n=>n.trim()!==""))return o(3);alert("Please fill in all required fields in Consignee Information.")},x=()=>{const{shipment:i}=a;if(Object.values(i).every(n=>n.trim()!==""))return o(4);alert("Please fill in all required fields in Shipment Details.")};return e.jsxs(e.Fragment,{children:[u&&e.jsx("div",{className:"loading-overlay",children:e.jsx(D,{color:"primary",variant:"grow"})}),r===1&&e.jsx(F,{formData:a,handleInputChange:s,handleConsigneeInfo:m}),r===2&&e.jsx(I,{formData:a,handleInputChange:s,handleShipperInformation:C,handleShipmentDetails:g}),r===3&&e.jsx(N,{formData:a,handleInputChange:s,handleConsigneeInfo:m,handleShippingInformation:x}),r===4&&e.jsxs(P,{children:[e.jsx(O,{value:100}),e.jsx("h3",{className:"mb-4",children:"Shipping Information"}),e.jsx(t,{htmlFor:"shipping_loading_port",children:"Loading Port"}),e.jsx(p,{type:"text",id:"shipping_loading_port",value:a.shipping.shipping_loading_port,onChange:i=>s(i,"shipping"),required:!0,className:"mb-4"}),e.jsx(t,{htmlFor:"shipping_discharge_port",children:"Discharge Port"}),e.jsx(p,{type:"text",id:"shipping_discharge_port",value:a.shipping.shipping_discharge_port,onChange:i=>s(i,"shipping"),required:!0,className:"mb-4"}),e.jsx(t,{htmlFor:"shipping_sailing_date",children:"Sailing Date"}),e.jsx(p,{type:"date",id:"shipping_sailing_date",value:a.shipping.shipping_sailing_date,onChange:i=>s(i,"shipping"),required:!0,className:"mb-4"}),e.jsx(t,{htmlFor:"shipping_estimated_arrival_date",children:"Estimated Arrival Date"}),e.jsx(p,{type:"date",id:"shipping_estimated_arrival_date",value:a.shipping.shipping_estimated_arrival_date,onChange:i=>s(i,"shipping"),required:!0,className:"mb-4"}),e.jsx(t,{htmlFor:"shipping_cargo_type",children:"Flight Type"}),e.jsx(k,{id:"shipping_cargo_type",value:a.shipping.shipping_cargo_type,onChange:i=>s(i,"shipping"),options:[{label:"Containerized Cargo",value:"1"},{label:"Bulk Cargo",value:"2"},{label:"Breakbulk Cargo",value:"3"},{label:"Reefer Cargo",value:"4"},{label:"RORO Cargo",value:"5"},{label:"Heavy Lift Cargo",value:"6"},{label:"Dangerous Goods",value:"7"}],required:!0,className:"mb-4"}),e.jsx(d,{color:"secondary",onClick:g,children:"Back"}),e.jsx(d,{color:"primary",onClick:f,disabled:disableSubmit,children:"Submit"})]})]})};export{Q as default};
