import{R as S,r as c,j as e}from"./BfF3Wqld.js";import{F as r,q as A,r as E,o as j,s as g}from"./CuE_PpW4.js";import{R}from"./D-NbB0As.js";import{a as _}from"./Cz0CWeBA.js";import{a as k}from"./CCb-kr4I.js";import{E as I}from"./De0mFXYB.js";import{d as F}from"./DVKfn1E0.js";import{c as q,C as L,I as P,J as T,N as D,P as K,O as B,K as G,Q as o,R as n,L as i,S as M,M as C}from"./BCdW2lb8.js";import"./DnfDba0r.js";import"./BGpjnhzs.js";import"./DvvY1obw.js";import"./6ijCBLRz.js";import"./8JwjhRSi.js";import"./D3kAHpSt.js";import"./BQBsAJpH.js";import"./DLZ1bwg6.js";import"./CzFDRTuY.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const ie=()=>{const N="6LcbAQopAAAAAPqiUSbgE4FWJrHdKfpFIK_s6rU-",l=F(),p=S.useRef(),[u,y]=c.useState({email:"",first_name:"",last_name:"",password:"",repeat_password:"",recaptcha_ref:""}),[v,h]=c.useState(!1),[x,f]=c.useState({error:!1,message:""});c.useEffect(()=>{if(_.get("RCTSESSION")!==void 0)return l("/")},[]);const a=m=>{const{id:d,value:t}=m.target;y(s=>({...s,[d]:t}))},w=async m=>{m.preventDefault(),h(!0);const d=await p.current.executeAsync(),t=new FormData;for(const s in u)t.append(s,u[s]);t.append("recaptcha_ref",d),await k.post("https://backend-core1.axleshift.com//api/v1/auth/register",t,{headers:{}}).then(s=>{s.data.error||l("/login"),f({error:!0,message:s.data.error})}).catch(s=>{console.error(s);const b=I[s.status]||"An unexpected error occurred";f({error:!0,message:b})}).finally(()=>{h(!1)})};return e.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:[e.jsx("div",{className:"auth-bg"}),e.jsxs(q,{children:[v&&e.jsx("div",{className:"loading-overlay",children:e.jsx(L,{color:"primary",variant:"grow"})}),e.jsx(P,{className:"justify-content-center",children:e.jsx(T,{md:8,lg:6,xl:5,children:e.jsxs(D,{className:"p-1 p-md-4",children:[e.jsxs(K,{children:[x.error&&e.jsxs(B,{color:"danger",className:"d-flex align-items-center",children:[e.jsx(r,{className:"flex-shrink-0 me-2",icon:A,size:"xl"}),e.jsx("div",{children:x.message})]}),e.jsxs(G,{onSubmit:w,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(R,{ref:p,size:"invisible",sitekey:N}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:E})}),e.jsx(i,{id:"email",placeholder:"Email",autoComplete:"email",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:j})}),e.jsx(i,{id:"first_name",placeholder:"First Name",autoComplete:"given-name",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:j})}),e.jsx(i,{id:"last_name",placeholder:"Last Name",autoComplete:"family-name",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:g})}),e.jsx(i,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-4",children:[e.jsx(n,{children:e.jsx(r,{icon:g})}),e.jsx(i,{id:"repeat_password",type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(M,{children:[e.jsx(C,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(C,{color:"primary",className:"me-2 rounded",onClick:()=>l("/login"),children:"Login"})]})})]})]}),e.jsx("div",{className:"ms-auto",children:e.jsx("a",{href:"https://stats.uptimerobot.com/5l58Mua0Wi",target:"_blank",rel:"noopener noreferrer",className:"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",children:"System Status"})})]})})})]})]})};export{ie as default};
