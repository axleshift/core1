import{r as s,j as e}from"./kqbr3HuW.js";import{u as a}from"./D0TlU___.js";import{j as t}from"./rqAixPsG.js";import{F as r,b as i}from"./CwLTBdlj.js";import{d as o}from"./DFarnK1O.js";import{C as n,M as d,N as c,r as m,m as l,n as j,o as p,p as h,Y as g,ao as x,T as u}from"./CUIyObC5.js";import"./BgRKNlhe.js";import"./CgN-7aKy.js";import"./D1Sfz1v5.js";import"./CR-CXyre.js";import"./CkTjnZ9-.js";import"./uhX4GmSj.js";import"./_iZV8NMP.js";import"./BbX1BUwh.js";import"./CQYGjB7w.js";import"./CJ2-25UQ.js";import"./BqHrj3jM.js";const b=()=>{const[b,f]=s.useState(""),[k,v]=s.useState(null),[N,w]=s.useState(!1),y=o(),{getRootProps:D,getInputProps:C}=a({onDrop:s=>{const e=s[0];if(e){const s=new FileReader;s.onloadend=()=>{v(s.result)},s.readAsDataURL(e)}},accept:"image/*"});return e.jsxs("div",{children:[N&&e.jsx("div",{className:"loading-overlay",children:e.jsx(n,{color:"primary",variant:"grow"})}),e.jsxs(d,{children:[e.jsx(c,{xs:3,className:"image-container d-none d-md-flex",children:e.jsx(m,{fluid:!0,rounded:!0,src:"/images/freight-track.jpg",className:"custom-image"})}),e.jsxs(c,{md:7,className:"mb-4",children:[e.jsx("h1",{children:"Enter Tracking ID"}),e.jsx(l,{className:"mb-3",onSubmit:()=>{y(`/track/${b}`)},children:e.jsxs(j,{children:[e.jsx(p,{"aria-label":"tracking id","aria-describedby":"basic-addon",value:b,onChange:s=>f(s.target.value)}),e.jsx(h,{id:"basic-addon",children:e.jsx(r,{icon:i})})]})}),e.jsxs("div",{children:[e.jsxs(g,{className:"d-inline-block",...D(),style:{border:"2px dashed #3498db",padding:"20px",textAlign:"center"},children:[e.jsx(p,{...C()}),!k&&e.jsxs(e.Fragment,{children:[e.jsx(x,{children:"Drag & Drop Image Here"}),e.jsx("p",{children:"or click to select an image"})]}),k&&e.jsx(m,{src:k,alt:"QRCode",style:{width:"128px",maxHeight:"128px",objectFit:"cover"}})]}),e.jsx(u,{color:"primary",className:"d-block my-2",onClick:()=>{if(!k)return;const s=document.createElement("img");s.src=k,s.onload=()=>{const e=document.createElement("canvas"),a=e.getContext("2d");e.width=s.width,e.height=s.height,a.drawImage(s,0,0);const r=a.getImageData(0,0,e.width,e.height),i=t(r.data,e.width,e.height);if(!i)return alert("No QR code found.");f(i.data),w(!0),setTimeout((()=>{w(!1),y(`/track/${i.data}`)}),2e3)}},children:"Scan"})]})]})]})]})};export{b as default};
