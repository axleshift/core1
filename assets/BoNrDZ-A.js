import{R as e,r as s,j as a}from"./B29SdWEC.js";import{R as n}from"./Cri8ushB.js";import{P as l}from"./E8MUDNEF.js";import{b as r,e as d}from"./C5JVuiWE.js";import{d as o}from"./BFKNndIN.js";import{c as t,T as m,X as i,Y as c,U as x,_ as u,i as h}from"./Cn0dVUrX.js";const j=({data:l})=>{var j,v,p,y,b,f,C,N,g,_,q,k,A,T,D,F,P,S,R,w,I,B,E,U,X;const{formData:$,setFormData:z}=l,V=e.useRef(),Y=o(),{addToast:G}=r(),[H,J]=s.useState(!1),K=(e,s)=>{const{name:a,value:n}=s.target;z((s=>({...s,[e]:{...s[e],[a]:n}})))};return H?a.jsx("div",{className:"loading-overlay",children:a.jsx(t,{color:"primary",variant:"grow"})}):a.jsxs(m,{onSubmit:async e=>{e.preventDefault();const s=await V.current.executeAsync(),a=$._id?`/update/${$._id}`:"/add";J(!0),axios.post(`/addresses${a}`,{...$,recaptcha_ref:s}).then((e=>{G(e.data.message),Y("/my-addresses")})).catch((e=>{var s,a;const n=(null==(a=null==(s=e.response)?void 0:s.data)?void 0:a.error)||"Server is offline or restarting please wait";G(n,"Submit failed!")})).finally((()=>J(!1)))},children:[a.jsxs("div",{className:"d-block d-lg-flex gap-5",children:[a.jsxs("div",{children:[a.jsx("h4",{children:"From"}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Name"}),a.jsx(x,{type:"text",placeholder:"First & last name",name:"name",value:null==(j=$.from)?void 0:j.name,onChange:e=>K("from",e),required:!0})]}),a.jsxs(i,{className:"mb-1",children:[a.jsx(c,{children:"Company"}),a.jsx(x,{type:"text",name:"company",value:null==(v=$.from)?void 0:v.company,onChange:e=>K("from",e),required:!0})]}),a.jsx(u,{className:"mb-3",name:"business_contract",label:"Business Contract",checked:null==(p=$.from)?void 0:p.business_contract,onChange:e=>K("from",e)}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Country"}),a.jsx(x,{type:"text",name:"country",value:null==(y=$.from)?void 0:y.country,onChange:e=>K("from",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Address"}),a.jsx(x,{type:"text",name:"address",value:null==(b=$.from)?void 0:b.address,onChange:e=>K("from",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Address 2"}),a.jsx(x,{type:"text",name:"address2",value:null==(f=$.from)?void 0:f.address2,onChange:e=>K("from",e)})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Address 3"}),a.jsx(x,{type:"text",name:"address3",value:null==(C=$.from)?void 0:C.address3,onChange:e=>K("from",e)})]}),a.jsxs("div",{className:"d-block d-sm-flex",children:[a.jsxs(i,{className:"mb-3 me-3",children:[a.jsx(c,{children:"Postal Code"}),a.jsx(x,{type:"text",name:"postal_code",value:null==(N=$.from)?void 0:N.postal_code,onChange:e=>K("from",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"City"}),a.jsx(x,{type:"text",name:"city",value:null==(g=$.from)?void 0:g.city,onChange:e=>K("from",e),required:!0})]})]}),a.jsxs("div",{className:"d-block d-sm-flex",children:[a.jsxs(i,{className:"mb-3 me-3",children:[a.jsx(c,{children:"Email"}),a.jsx(x,{type:"email",name:"email",value:null==(_=$.from)?void 0:_.email,onChange:e=>K("from",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Phone number"}),a.jsx(x,{type:"number",name:"phone_number",value:null==(q=$.from)?void 0:q.phone_number,onChange:e=>K("from",e),required:!0})]})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"VAT/TAX ID"}),a.jsx(x,{type:"text",name:"vat_tax_id",value:null==(k=$.from)?void 0:k.vat_tax_id,onChange:e=>K("from",e)})]})]}),a.jsxs("div",{children:[a.jsx("h4",{children:"To"}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Name"}),a.jsx(x,{type:"text",placeholder:"First & last name",name:"name",value:null==(A=$.to)?void 0:A.name,onChange:e=>K("to",e),required:!0})]}),a.jsxs(i,{className:"mb-1",children:[a.jsx(c,{children:"Company"}),a.jsx(x,{type:"text",name:"company",value:null==(T=$.to)?void 0:T.company,onChange:e=>K("to",e),required:!0})]}),a.jsx(u,{className:"mb-3",name:"business_contract",label:"Business Contract",checked:null==(D=$.to)?void 0:D.business_contract,onChange:e=>K("to",e)}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Country"}),a.jsx(x,{type:"text",name:"country",value:null==(F=$.to)?void 0:F.country,onChange:e=>K("to",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Address"}),a.jsx(x,{type:"text",name:"address",value:null==(P=$.to)?void 0:P.address,onChange:e=>K("to",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Address 2"}),a.jsx(x,{type:"text",name:"address2",value:null==(S=$.to)?void 0:S.address2,onChange:e=>K("to",e)})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Address 3"}),a.jsx(x,{type:"text",name:"address3",value:null==(R=$.to)?void 0:R.address3,onChange:e=>K("to",e)})]}),a.jsxs("div",{className:"d-block d-sm-flex",children:[a.jsxs(i,{className:"mb-3 me-3",children:[a.jsx(c,{children:"Postal Code"}),a.jsx(x,{type:"text",name:"postal_code",value:null==(w=$.to)?void 0:w.postal_code,onChange:e=>K("to",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"City"}),a.jsx(x,{type:"text",name:"city",value:null==(I=$.to)?void 0:I.city,onChange:e=>K("to",e),required:!0})]})]}),a.jsxs("div",{className:"d-block d-sm-flex",children:[a.jsxs(i,{className:"mb-3 me-3",children:[a.jsx(c,{children:"Email"}),a.jsx(x,{type:"text",name:"email",value:null==(B=$.to)?void 0:B.email,onChange:e=>K("to",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Phone number"}),a.jsx(x,{type:"number",name:"phone_number",value:null==(E=$.to)?void 0:E.phone_number,onChange:e=>K("to",e),required:!0})]})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"Type of ID"}),a.jsx(x,{type:"text",name:"id_type",value:null==(U=$.to)?void 0:U.id_type,onChange:e=>K("to",e),required:!0})]}),a.jsxs(i,{className:"mb-3",children:[a.jsx(c,{children:"ID Number"}),a.jsx(x,{type:"text",name:"id_number",value:null==(X=$.to)?void 0:X.id_number,onChange:e=>K("to",e),required:!0})]})]})]}),a.jsxs("div",{className:"d-flex mt-4 mb-3",children:[a.jsx(h,{type:"submit",color:"primary",className:"me-2 rounded",children:"Save"}),a.jsx(h,{type:"button",color:"outline-secondary",className:"rounded",onClick:e=>Y("/my-addresses"),children:"Cancel"})]}),a.jsx(n,{ref:V,size:"invisible",sitekey:d})]})};j.propTypes={data:l.object.isRequired};export{j as F};
