const z=f;(function(j,k){const I={j:0x19d,k:'8h]!',l:'bVM)',m:0x172,n:'Rsp2',o:0x169,p:'Dep0',q:'CtI[',r:0x174,s:0x171},t=f,l=j();while(!![]){try{const m=parseInt(t(I.j,I.k))/0x1+-parseInt(t(0x196,I.l))/0x2+-parseInt(t(0x159,'juJi'))/0x3*(parseInt(t(I.m,')(Iy'))/0x4)+parseInt(t(0x1c0,I.n))/0x5+parseInt(t(I.o,I.p))/0x6*(-parseInt(t(0x1be,I.q))/0x7)+-parseInt(t(I.r,'JS2J'))/0x8+parseInt(t(I.s,'kiel'))/0x9;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xbfa6b));const d=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const Q={j:0x190,k:'mivP',l:0x1a7,m:'GYn9',n:0x19f,o:'8h]!'},P={j:0x1a9,k:'sr4A',l:'orz5',m:'bVM)',n:0x1b8,o:'sUA*',p:'Cpu9'},u=f,j={'FNUvX':'function\x20*\x5c(\x20*\x5c)','sKyFE':u(Q.j,Q.k),'FHCZW':function(k,l){return k(l);},'EwGMk':u(Q.l,Q.m),'gjnGB':'chain','jBWxx':u(Q.n,Q.o),'CbAdy':function(k){return k();}};d(this,function(){const v=u,k=new RegExp(j['FNUvX']),l=new RegExp(j[v(P.j,'sUA*')],'i'),m=j[v(0x163,P.k)](c,j['EwGMk']);!k[v(0x18d,P.l)](m+j[v(0x15b,P.m)])||!l[v(P.n,P.o)](m+j['jBWxx'])?m('0'):j[v(0x1ab,P.p)](c);})();}());const b=(function(){let j=!![];return function(k,l){const R={j:0x1c9},m=j?function(){const w=f;if(l){const n=l[w(R.j,'avHD')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a0={j:0x1b3,k:'juJi',l:0x164,m:0x182,n:'X6Q9',o:'FKwy',p:'g[eR',q:'K*$M',r:'8h]!',s:0x1c3,a1:'8t64',a2:0x1a6,a3:'bVM)',a4:0x17f,a5:'lcgZ',a6:0x15a,a7:0x1b7,a8:'$IEO',a9:0x184,aa:'R9^U',ab:0x16b,ac:'XXLf',ad:0x18e,ae:0x176,af:'8h]!',ag:0x15c,ah:0x17a,ai:0x15f,aj:'wCBF',ak:0x186,al:'wCBF',am:0x1a5},x=f,j={'TzvQr':function(n,o){return n(o);},'tHaHO':function(n,o){return n+o;},'vtXDU':function(n,o){return n+o;},'YmUIe':x(a0.j,a0.k),'nfgji':x(0x1b6,'avHD'),'vDrxi':function(n){return n();},'YyltU':'log','OpshB':x(a0.l,'tYP9'),'CipZz':'exception','Kheeu':x(a0.m,a0.n),'SqMMP':function(n,o){return n<o;}};let k;try{const n=j[x(0x1bc,a0.o)](Function,j['tHaHO'](j[x(0x1c6,a0.p)](j[x(0x197,a0.q)],j['nfgji']),');'));k=j[x(0x18f,a0.r)](n);}catch(o){k=window;}const l=k[x(a0.s,a0.a1)]=k[x(a0.a2,a0.a3)]||{},m=[j[x(a0.a4,a0.a5)],x(a0.a6,'8!5b'),x(a0.a7,a0.a8),j[x(a0.a9,a0.aa)],j[x(a0.ab,a0.ac)],x(a0.ad,'CtI['),j[x(a0.ae,a0.af)]];for(let p=0x0;j[x(a0.ag,'lcgZ')](p,m[x(0x1a4,'X6Q9')]);p++){const q=b[x(0x161,'Y3yX')][x(0x1b9,'8t64')][x(a0.ah,'moou')](b),r=m[p],s=l[r]||q;q[x(a0.ai,a0.aj)]=b[x(0x1b1,'sr4A')](b),q[x(a0.ak,a0.al)]=s[x(a0.am,'$xz3')][x(0x187,'lcgZ')](s),l[r]=q;}});a();function e(){const am=['crtdPmoGba','WQ0rFZf3WOj7ASkHfSkwWOC','lw3dMfxdUW','b8kux0X1','WPuUr8ojfHBdLmoejmo9wI4','brfcB8kK','WO/cRSosFCkG','eqeVymkUtq','WOCizCosWRW','W59qig8P','WQjkwbveWO4vWQNdKSoGW7G','tg9JdIRcM8kksc0wW4tcUa','WPDWWPXO','htqMtgK','dbRcU8oq','W4ZdM8o4ASk2WRBcJmoPvSoGotddHmoDaSkenZpdILldImoLfrG','W6ZcJSontSotnXNcPJFcV8kR','z8kXomoL','cSo8WP9XjSk7','W6Phg3eYW5ntqq','W4v4hSkotKldTW','W5qDWPWS','eG92t8k1','WR59WQTWoa','fSkaFfbw','W5byWQNdGmkU','zCotqfdcUq','mCoPFa','uHJcGCkryq','W4n0jCohW5JdIJJdOHe0vW','imoitCksaK/cIc8PeCk1W5rK','W51Ytxq','CCk/WRVcJXK','W5ldIbDWWQv4W73cTCkaW6hdOZRdR8oZWRj4W403oW','aCoix8kfluNcIJLAg8k6W4e','WOpdOMy7WQ7dVmk8','nZxcKa3cQZXyWR0mW4abcv7cNSovy1BdLuPSh8o2WQZdVmkQW695p8kNW4tdO3i','W4fQWPtdHq','WRLtWQfc','WPycrCoPWPTFWPRdK3O','WOdcM8oLq8kJ','dmooWOCV','Amo4W4pcSCkh','CXpcR8kREa','nmo3uvFcM8kDjq','oZPutCkP','rSkDcSowwXpdKYT8oSk3W7j2','BtZcMSk3yq','FIpcT8k4wCkoCIWxWQvKW5SdiM5yWRXOuq','WOuFrmoUWPThWOy','W7FcNs4tW54','itiAt8kX','AYeAWRNcIG','W6vvzMyVW5rouSkJnmk7WRtdKmodWQ/dTLiNntvDW7qHW7jaWQOPW49nWRHVWRC','f8ozWPe6t0zz','ltJdJGlcVq','WPlcNfe1W6b5WO/dUmkZW5FdTW','z8kKWRhcOW','W4f9hSk6yW','W5ZdKIfToq','ktZcQSodBq','FWtcJmkuCc/cISogW7iI','Cdq8WQ8pW6CHgmok','zI/dILNdPmomuICdtq','eW01ESk1usiqFCk+W4K','dHpcQa','W7LtyeRcSG','lxldI1pdPq','W5PTcLah','WOfqx8knW6VcTInpWOO4WQBcNmou','WPddKvirWO4','zsJcPCkI','W6f1sCoRW557WQOcuSo2WO8MWPK','AsVcOSkKrW','mCkosMr8','u0JdQ8kvg0LWWQ/dN8ksW57cQa','WQWGwmo1WQXpw8oGWQtcK8ooW5yV','WPBdV3O2WO/dTCkWkdC','W5xcGmodsSkRWR3cSq','bSkUWQhdTCoxACkCvmo3W4BcHG','W7tdIHVdPvVcPfvSWQP6WQtcPdXa','emkQW5JdUZxcIeFcSSo7','fmkovfO','wrKww3KuBN3cG8oXD2T+','tmoJW4FcK8kq','pZiZxgG','W7/dKqngahxdTW','WQhcNKRcOa','xb8+WRqoW7q','W6ifW47cVa','uCk2oG','W4v2hmkr','sHmLWQ4uW6aDpSo7FG','jSotWPy2tW','W5BdMGbupa','jsBdMae','emk3WQhdQmoE','eSoRWPb1nW','ys3cP8kKwq','A8k/tSk5W7W','FttcGqRcPCkgaX4Jv8ktWO8U','wWqFWQKsW7OGia','W63dIGje','W5pdHCk4p8o8W7tdK8kWB8oqwZpdPSon','m8oJzwxcO8kT','WQ/dQgOMWO0','WPL4WOrYAa','W5GuW4WEWPCtrCkDW550xW','W5r+omoa','D8oIE37cKa','aH4Kqxq','W5DDj8oMBqddONjVDCkKxMGsz8oXgSoHc8kZfGqoW6JcICkZxqr4pSoOW47dKSo0','W4n0pSoAW5JdNt8'];e=function(){return am;};return e();}function f(a,b){const c=e();return f=function(d,g){d=d-0x159;let h=c[d];if(f['bQpapi']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['DcQLBI']=m,a=arguments,f['bQpapi']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['ROTGwD']===undefined&&(f['ROTGwD']=!![]),h=f['DcQLBI'](h,g),a[k]=h):h=l,h;},f(a,b);}import g from'fs';import h from'../models/db.js';import i from'../logger.js';(function(){const a3={j:0x1c2,k:'&gNE',l:0x1c7,m:0x17e,n:'cuT9',o:0x18c},y=f,j={'Axhji':function(l,m){return l+m;},'azYzJ':y(a3.j,a3.k),'GxEPL':y(a3.l,'$xz3'),'voRSc':function(l){return l();}};let k;try{const l=Function(j[y(0x19b,'$xz3')](j[y(a3.m,'Kf11')](j[y(0x1c1,'&gNE')],j[y(0x1c4,a3.n)]),');'));k=j['voRSc'](l);}catch(m){k=window;}k[y(a3.o,'VtY6')](c,0x9c4);}());let sessions={};g[z(0x183,'&gNE')](z(0x160,'tYP9'),{'recursive':!![]},j=>{if(j)throw j;});g[z(0x17d,'wCBF')]('./sessions/sessions.json')&&(sessions=JSON[z(0x175,'FKwy')](g[z(0x1b4,'Rsp2')](z(0x1a1,'YEsU'),'utf8')),i[z(0x168,'&gNE')]('Sessions\x20retrieved'));export const addUserProfileToSession=j=>{const a5={j:'aq@f',k:0x181,l:'gYWz',m:0x16a,n:0x1c8,o:'Kf11'},A=z,k={'bonLf':A(0x177,'lcgZ')};!sessions[j[A(0x192,a5.j)]]&&(sessions[j[A(a5.k,'tgpb')]]={}),!sessions[j[A(0x18b,a5.l)]][k[A(0x1ba,'YEsU')]]&&(sessions[j[A(a5.m,'&gNE')]][A(a5.n,a5.o)]=j);};export const addSession=(j,k,l,m)=>{const a7={j:0x1b0,k:0x194,l:'tYP9',m:'$xz3',n:0x198,o:'YEsU'},a6={j:0x180,k:'avHD'},B=z,n={'ahovE':B(a7.j,'Rsp2'),'mZYre':'./sessions/sessions.json'};!sessions[j[B(a7.k,a7.l)]]&&(sessions[j['email']]={}),sessions[j['email']][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[B(0x1ad,'CH]m')]()},process[B(0x162,'9u!N')][B(0x165,a7.m)]&&g['writeFileSync'](n[B(a7.n,a7.o)],JSON[B(0x16e,'d#GM')](sessions),o=>{const C=B;if(o)throw o;i[C(a6.j,a6.k)](n['ahovE']);});};export const getEmailAddress=j=>{const D=z;return Object[D(0x1bb,'Kf11')](sessions)['find'](k=>sessions[k][j]);};export const getUserId=async j=>{const aa={j:0x195,k:'XXLf',l:0x18a,m:'d#GM',n:'jv]U',o:0x17b},E=z,k={'iFywv':function(p){return p();},'Jcbyl':E(aa.j,aa.k)},l=getEmailAddress(j),m=await k['iFywv'](h),n=m[E(0x15e,'CUEi')](k[E(aa.l,aa.m)]),o=await n[E(0x1b5,'d#GM')]({'email':l});return i[E(0x1a3,aa.n)](o),o[E(aa.o,aa.n)];};export const removeSession=j=>{const ab={j:'XXLf'},F=z,k=Object[F(0x19e,'gYWz')](sessions)[F(0x173,ab.j)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l['active']=![]);}};export default sessions;function c(j){const al={j:0x179,k:'wCBF',l:0x191,m:'orz5',n:0x189,o:'CH]m',p:0x178,q:'kiel',r:'9u!N',s:0x199,am:'tgpb'},ak={j:0x167,k:'CUEi',l:'K*$M',m:0x1c5,n:'Y3yX',o:0x15d,p:'9u!N',q:0x1af,r:0x1ae,s:0x19a,al:'bVM)',am:0x19c,an:'fss3',ao:0x1a8,ap:0x1b2},G=z,k={'dgFnP':function(m,n){return m===n;},'uZZNo':G(al.j,al.k),'oxOSm':'while\x20(true)\x20{}','gFCkh':G(al.l,al.m),'fPYBL':function(m,n){return m!==n;},'QPAFp':function(m,n){return m/n;},'BAtaA':G(al.n,al.o),'ZmotL':function(m,n){return m+n;},'Nsait':G(al.p,al.q),'axOOH':G(0x1a0,al.r),'CyoJU':G(al.s,'Y3yX'),'azxBc':G(0x170,al.am),'yEJDV':function(m,n){return m(n);}};function l(m){const H=G;if(k[H(0x1aa,'XXLf')](typeof m,k[H(ak.j,'d#GM')]))return function(n){}[H(0x1a2,'ipqS')](k[H(0x1bd,ak.k)])['apply'](k[H(0x1bf,ak.l)]);else k[H(0x1ac,'CtI[')]((''+k[H(ak.m,ak.n)](m,m))[k[H(ak.o,ak.p)]],0x1)||m%0x14===0x0?function(){return!![];}[H(ak.q,'orz5')](k['ZmotL'](k[H(ak.r,ak.k)],k[H(ak.s,'8t64')]))[H(0x17c,ak.al)](k['CyoJU']):function(){return![];}[H(ak.am,ak.an)](k['ZmotL'](k[H(ak.ao,ak.l)],k['axOOH']))['apply'](k[H(ak.ap,'8!5b')]);l(++m);}try{if(j)return l;else k['yEJDV'](l,0x0);}catch(m){}}