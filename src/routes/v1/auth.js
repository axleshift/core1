const H=f;(function(p,q){const T={p:0x1a8,q:'UW2m',r:0x18c,s:'k06&',t:'l(hv',u:0x1a9,v:'Mnzd',w:0x155,x:'HCPC',y:'CbH@',z:0x1c6,A:'HE8h',B:0x1c2,U:0x173,V:'*^oD',W:0x11e},C=f,r=p();while(!![]){try{const s=-parseInt(C(T.p,T.q))/0x1+parseInt(C(T.r,T.s))/0x2*(parseInt(C(0x1b4,T.t))/0x3)+-parseInt(C(T.u,'G]]o'))/0x4+-parseInt(C(0x133,T.v))/0x5*(parseInt(C(T.w,T.x))/0x6)+parseInt(C(0x16a,T.y))/0x7+parseInt(C(T.z,T.A))/0x8*(-parseInt(C(T.B,'Mnzd'))/0x9)+parseInt(C(T.U,T.V))/0xa*(parseInt(C(T.W,'s!vV'))/0xb);if(s===q)break;else r['push'](r['shift']());}catch(t){r['push'](r['shift']());}}}(e,0x77b47));const d=(function(){const U={p:0x19e};let p=!![];return function(q,r){const s=p?function(){const D=f;if(r){const t=r[D(U.p,'fr$*')](q,arguments);return r=null,t;}}:function(){};return p=![],s;};}());(function(){const a1={p:'PVOZ',q:0x159,r:0x150,s:'Ukmf',t:'c4@f',u:0x1e0,v:0x1f6},p={'JDbmb':function(q,r){return q(r);},'PdEpX':function(q,r){return q+r;},'VOlWv':function(q,r,s){return q(r,s);}};p['VOlWv'](d,this,function(){const E=f,q=new RegExp(E(0x1ea,a1.p)),r=new RegExp(E(a1.q,'&wFl'),'i'),s=p['JDbmb'](c,E(a1.r,a1.s));!q[E(0x166,a1.t)](p[E(a1.u,'&wFl')](s,E(0x16d,'SnRy')))||!r['test'](p['PdEpX'](s,E(a1.v,'FlW3')))?s('0'):c();})();}());const b=(function(){let p=!![];return function(q,r){const a3={p:0x1a1,q:'L2Yk'},s=p?function(){const F=f;if(r){const t=r[F(a3.p,a3.q)](q,arguments);return r=null,t;}}:function(){};return p=![],s;};}()),a=b(this,function(){const aa={p:0x1b1,q:'K*l&',r:0x1ca,s:'*^oD',t:'YXQo',u:0x1df,v:0x1d2,w:0x1a3,x:0x1a7,y:'H!r2',z:'Ukmf',A:0x165,B:'Z73b',ab:'CbH@',ac:0x13b,ad:'@4^R',ae:0x1ad,af:'0Fiz',ag:'(4!0'},G=f,p={'Jmwfr':function(t,u){return t(u);},'zBzih':function(t,u){return t+u;},'JCGTs':G(aa.p,aa.q),'Bsvuh':function(t){return t();},'VABYV':'error','Czuwn':'exception','NZAeF':G(aa.r,aa.s),'xkKiW':G(0x158,aa.t)};let q;try{const t=p[G(aa.u,aa.q)](Function,p[G(0x1d1,'%p&U')](p['JCGTs'],G(aa.v,'Ya3q'))+');');q=p[G(aa.w,'I7(6')](t);}catch(u){q=window;}const r=q[G(aa.x,aa.y)]=q[G(0x1c8,aa.z)]||{},s=['log',G(aa.A,aa.B),G(0x1e2,aa.ab),p[G(0x1e5,'BV(U')],p[G(aa.ac,aa.ad)],p['NZAeF'],p[G(aa.ae,'CbH@')]];for(let v=0x0;v<s['length'];v++){const w=b[G(0x172,aa.af)][G(0x1d4,aa.ag)]['bind'](b),x=s[v],y=r[x]||w;w['__proto__']=b[G(0x137,'fr$*')](b),w['toString']=y['toString'][G(0x15a,aa.B)](y),r[x]=w;}});a();import g from'dotenv';g[H(0x194,'EgK3')]();import{ObjectId}from'mongodb';import h from'express';import i from'bcryptjs';import j from'crypto';import k from'../../models/db.js';import l from'../../components/logger.js';import{addSession,removeSession,getUser}from'../../components/sessions.js';import m from'../../middleware/auth.js';import n from'../../middleware/recaptcha.js';import o,{generateUniqueId}from'../../components/password.js';import{send}from'../../components/mail.js';const router=h[H(0x1e1,'Z73b')]();function e(){const b0=['rHqSW5xdLW','a2FcKCknqW','WP8cmHZcLa','ASowjG','DSoCjCkkdSo1q3xcHCo7E1JcUwbpWQW4w0q','mmomWQ4ClYqtB8oKWOeqWRO','WRPmW5ZcQxO','WQlcJSk2WRudWO3cQdRcONT6BW','WPZcISkRCSkxoSkTChmG','B8obE0pcQmkb','WOFcOmkHBmkw','WPLMW6hcUW','B8oGEWtcUa8','vaxdHSkDbq','WO3dTf/dRa','WRKOBahdSG','jhS+','yba7wmoDWPG','WPfSW6ZdHSk+WR8','bY3dLJJcJbqvcqhcPNC','uCkiW5uP','oSoeWQ0wkIzotCoBWRuFWRddPW','W6BcRYNcQW','WQ0+wt/dOmkU','WR0LtsxdOCk4W7a','rw/dSJVcSaS4lG','y8kXWPK','BSkpsb7dKLv1','WPG3W7GOWO0','EgORymor','C8kaWRjnDh0mx8oeWRK3WPBdR8kcW4xcKapdL8kzkGlcLmomW6zlpCk1n3JcS1qI','W7ZcSZxcSq','WPZcISkPBCkgk8kSEMGHyW','W50OhIpcLSkhyW','WRzCW6NdV8kS','W4K5WRhdSZyiWPBcK8o9xCol','gIa0svS','WPZdUH7dOCobWORdTsmSWO7dU8kKvColDSkbWOxcNSkpW7CoW6NdGh5vW7T2WP7cOxbyWQ8','W6lcSZe','WQ7dJCkbmr1/zdBdQq','W7BcJCkgo8ok','Fgq6Ea','FqST','aXaRquFcNYJcVs3cGG','EvxdR8o7ia','vdToWPZdJa','aG0Qwq','WOTOW7BcSxCTWRdcLa','FYaJpCkeWOixWRi','l0FdQH/cJa','tSoujSkzdG','kYVdTComW5S','WQSoW70iWRKx','vXebW5m','qSkxW580pq','icZcTcnmW7qhWRpcP1VdGG','d1tdOthcLa','atvQWQZdKmoD','WODFfSoYtq','WOdcJvy','BmoAAum','s8kWWOLxsc18W5FcUN7dRtRdPCk2BCk6','WRecpHpcQG','W7hdICklnXTTzgNdO8kugW','smkUW6dcHConsmoHW40wW48','WPRdVsNcUmkW','WQXlW5ZdImkD','Emo0u8omDW','WO7dNSkDnGvKBYlcRmknhSkTfmkCWOVcSY3dPmk2W5xdLNJcQmkGu8ojW5u+WPddHrvLwSkHWOCocmoDzCkzW6lcOSkyWQ1iC1DLh0KuWONdQSktW7FdOKWoWOXOWQGYAKKDn13cUwpcGv4aWQxcKu0NgvCZW6JcJaenW7JdJrK','ohBdLGhcSa','W5ddJGK','mXxcPSkExq','AH/dQmk5iG','zCoDtmoSAG','WOf3W6hdNSkUWQ/dGmkoiMm','WOZcKCkMASkhkG','v8ooWO3dSmkSis4','DmoZkCkEpG','W7/dJCo2W6Hf','fY7dG8oiW5WWfmoRW4u','FKldRq','a8orWQ5DWPCtzSkYWPqb','xSkuWOpdKSov','WOC3fdBcIG','WOjYhmoTyW','ECk7WP3dGW','d8kiy8k+kCkGW4FcNCoGWO5I','tCkvW4m+pu0HW7/cHW','W4FcQmkPma','vCoUWRhdH8ogBmo7','vdT6','WOxcIKNcOa','WPRcIKpcVa','WQFdOtJcP8kS','FmowWQPmrW','FSkXWO3dNmoXxW','rmkWWPJdLSo4qSkLBYfopG','kMhdGHZcT8kO','zHC/xSkfWORdGb5GW4a','WOddOfxdSa','W53dQCo8W7rV','zHC/xG','CCoknmkn','W6RdQSownqq','F387zCoAaa','fNdcLmk+yG','EmkTWOVdHq','pmoiWQ8BlN0RxSoxWPW5','W7BdTchcNCkN','F8owuSo9','vmoqmSoGzW','WO3cKeJcQG','ea09va','xmouoW','EWe7smonWPNdLa','W4/cPJpcSSob','scCSW6VdJW','WRfPpSo4CwpcO13cGJCF','zwe6n8kJ','qWuPx8oFWOtdLr8UW5NcMf9hChrSWOdcJ0NcK8kWtCkEkvBcKSkjhCk8fCoMaCoPWQH3WQSu','fWldVmoFW60','fCoiWOjUDG1AW6FcLtqKWRH5','hsBdNSoyW4WWea','smoim8oUA8kpW5ZcKmod','yHP0WQhdLW','WRVcUetcN8kO','WQ3dI8kpmqD4','WPG3hIO','iv1RfmkzW57cLH1JW43cPN5u','BrpdQCkbha','z2FdQCohmG','iGJcV8kuqq','zNGMyG','pwLqWPhdKG','W7zPwq','e8oxWQPiWPyf','zmkotXK','WO0oW6mzWRi','W4dcJ0pcVmkhyXiWW6NdGXddUgvXWOC','WOBdOSkDhGNcSCk/nCohFNW','WPf9W6pdLG','W6T+uItdGmkzW5iQ','WPVdPJ8','rw40dmoFjefsdSoY','W7BcKmkmpCob','j2tdRmkxWQn0xCk5WPRcKf1IC0rSW4RdHrCOWOOCkL/dGXrhxuddR3msWRepqW','WPSiW6yy','ixrAWOZdKCok','pWSQ','oMFdHGNcTSk+g8oJcmkk','W7rJqf0ZjW','W7NdKmoQW7rdW4JcSr3cHfLm','W57dR8ohW79G','WPVdHSklhtS','n3RdLa','WQVcICobW7bUW6RcIZm','jq8Vsv/dMIxcHMZcLZW7kmoBWRJdPSoxuaNdOSovWPX2','WO4aW7Os','W4BcSSoDxW','lxRdIa3cRa','W6FcJ8kmn8oi','WOrjW5NdK8k6','ceDuWORcUhBcVmodWOtcKuRdGmki','WOxcL1xcJ8kP','F8k/WOddK8o7rG','W5ldIGtcOmk5','EmkUWORdLSoGtSkoiqS','rCkGWP8','WPnDW5hcI00','v8kEW54/','WOf3W6pdGCk/WR7dGCkeowi+','pJ19pmowjsq1W6RcMq','aSk3WOjtvtDNW5ZdQa','W7hcH8kdoG','F8kfuHJdJ1CWqM0WdWddL3ZdOfvZWQNcOW','w8oDxe3cNa','WPeQW7exWRq','hthcNmkuxW','ubaq','cSkkymk/lSoyW7RcUmorWRjmW6m','WPzxW5/dSmk4','bapcOrTZ','hw5EW5JdSmoqW6BcN8ozF2JcI2CgWP1pEqXwl8kXvSoK','F8oMFXhcUrNdGN3cRYG','W6JcTshcOmoCWPW','W7ZdVCokpG','WONcKeJcQSkHAW4','os3dVConW40','WOWsW60o','sY/dGCkC','W71Rt1mR','F38OEmobfa','WOFdPI7cI8kHWR8','WOldTuldRCoC','iGhcRSkBFW','xs1KWR/dJmoa','js0OB8oMWRhdNq','kKBcNCk6FSkA','zv3dVSoZed8','W6hcJCkbmSobWR0+aGGZ','Fg4I','W5VcUCk3','cqW9ruhcJGpcJcK','WRqMwfSRjMJcJcKHW7ZdSbHIq0qnnSkHWO5QB8oXWQPJWOSgWRC','WPZcISkPEmkBpG','m8o2WQldLmody8oMWO8PW47dMuZcPa/cOeCjWQhdPmoFWPW','y8oXcmkCmW','vSoxDuhcKq','mIRcTannW64','WRq5vYu','EL7dTCo8','htxdOtZcUq','pgFdKqFcSa','FZ11Ese','WO7cIvBcOSkx','x8o8zSoYuq','WPGrW7GqWQu','rCklW4a3nG','xSkXWOzastC','iSoqWR1jWOS','BCkqW71hD0WjtSoeWQuYWPVdN8krWPK','W6RdKmo3W7m','W5FdIWVcRCkyWQDJ','F8oADetcSSkEWOe','d3JcMmoizComcGldVK4UEW','fmkyW4/cQCo0DN/dJCoucehcVSob','esVdHspcMW','WQ3dMSkaiq','W611s0G0'];e=function(){return b0;};return e();}router['post'](H(0x174,'PVOZ'),async(p,q)=>{const ag={p:0x13f,q:'k06&',r:0x1f1,s:'(4!0',t:0x11b,u:0x164,v:'E!h0',w:0x1c4,x:'HCPC',y:0x181,z:'pZCm',A:0x18b,B:0x15e,ah:0x147,ai:'qe!!',aj:'*9nj',ak:'p9#@',al:'@4^R',am:0x1fa,an:0x136,ao:'s!vV',ap:'&wFl',aq:0x1f0,ar:0x116,as:'l(hv',at:0x11f,au:'L2Yk',av:0x132,aw:'p9#@',ax:'EgK3',ay:'K*l&',az:'YXQo'},I=H,r={'ZRAcm':function(s,t){return s||t;},'aVpTQ':function(s,t){return s<t;},'wJsUV':I(ag.p,ag.q),'rFyaP':I(ag.r,ag.s),'pJxaB':function(s,t){return s!=t;},'iheox':'Password\x20does\x20not\x20match','BbMqN':function(s){return s();},'tGoUi':I(ag.t,'qe!!'),'LCqjn':I(ag.u,'%p&U'),'xEfrd':function(s,t){return s(t);}};try{const {email:s,first_name:t,last_name:u,password:v,repeat_password:w}=p[I(0x1b8,ag.v)];if(r['ZRAcm'](!s,!t)||!u||!v||!w)return q[I(ag.w,ag.x)](0x190)[I(ag.y,ag.z)]();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/['test'](s))return q[I(ag.A,'wz)v')](0xc8)[I(0x14c,'*^oD')]({'error':I(0x195,'6ZA$')});if(r[I(0x1c9,'Z73b')](v[I(ag.B,'EfoH')],0x8))return q['status'](0xc8)[I(ag.ah,ag.ai)]({'error':r[I(0x14a,ag.aj)]});if(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[\W_]).{8,}$/[I(0x11d,ag.ak)](v))return q[I(0x1be,'k06&')](0xc8)[I(0x1c3,ag.al)]({'error':r['rFyaP']});if(r[I(ag.am,'K*l&')](v,w))return q[I(0x1b6,'H!r2')](0xc8)['json']({'error':r[I(ag.an,ag.ao)]});const x=await r[I(0x183,ag.ap)](k),y=x['collection'](r[I(ag.aq,'FlW3')]),z=await y['findOne']({'email':s});if(z)return l[I(ag.ar,ag.as)](r[I(0x144,'wz)v')]),q['status'](0x199)[I(0x135,'FlW3')]();return await y[I(ag.at,ag.au)]({'email':s,'first_name':t,'last_name':u,'role':I(ag.av,ag.aw),'password':r[I(0x1b7,ag.ax)](o,v),'email_verify_at':'','created_at':Date[I(0x17a,'CbH@')](),'update_at':Date[I(0x1b0,ag.ay)]()}),q[I(0x1bf,'0Fiz')](0xc9)['send']();}catch(A){l[I(0x12f,ag.z)](A);}return q[I(0x15b,'6WB9')](0x1f4)[I(0x175,ag.az)]();}),router[H(0x1d6,'*^oD')](H(0x1e6,'wz)v'),n,async(p,q)=>{const am={p:0x161,q:'YXQo',r:0x182,s:'E!h0',t:0x119,u:0x17c,v:0x18e,w:'*9nj',x:'UW2m',y:'PVOZ',z:0x13a,A:'k06&',B:0x145,an:'fr$*',ao:0x178,ap:'Z73b',aq:0x199,ar:'HCPC',as:0x1be},J=H,r={'EyeXI':function(s,t){return s||t;},'JnZdH':function(s){return s();},'cmfqn':J(0x1ac,'EfoH'),'jrZSe':function(s,t){return s!=t;},'tORBs':'sha256','lOieQ':function(s){return s();},'TAbQF':'x-forwarded-for','hKykh':function(s,t,u,v,w){return s(t,u,v,w);},'nofGd':J(0x12a,'k06&')};try{const {email:s,password:t}=p['body'];if(r[J(am.p,'(4!0')](!s,!t))return q[J(0x1a2,'PVOZ')](0x190)[J(0x120,'Y()2')]();const u=await r['JnZdH'](k),v=await u[J(0x18f,am.q)](r['cmfqn'])[J(am.r,'fr$*')]({'email':s});if(!v)return q['status'](0x194)[J(0x135,'FlW3')]();if(r['jrZSe'](o(t),v[J(0x1dc,am.s)]))return q['status'](0x191)[J(0x185,'UW2m')]();const w=j[J(am.t,'I7(6')](r[J(am.u,'0Fiz')])[J(am.v,am.w)](r[J(0x1ba,am.x)](generateUniqueId))[J(0x180,'@4^R')](J(0x16f,am.y)),x=p[J(am.z,am.A)][r[J(am.B,am.an)]]||p[J(0x127,'p9#@')]['remoteAddress'];return r[J(am.ao,am.ap)](addSession,v,w,x,p[J(0x13a,am.A)][r[J(0x1ee,'n$Sx')]]),q['status'](0xc8)[J(am.aq,am.ar)]({'token':w});}catch(y){l[J(0x1aa,'HE8h')](y);}return q[J(am.as,'k06&')](0x1f4)['send']();}),router['post'](H(0x121,'6ZA$'),m,async function(p,q,r){const au={p:'fr$*',q:0x12d,r:0x19b,s:'HE8h',t:0x184,u:0x1a4,v:0x129,w:'qe!!',x:0x149,y:'UW2m',z:0x18a,A:'j2NT',B:0x1a2,av:0x1be,aw:'k06&',ax:0x1bb,ay:'Ya3q'},K=H,s={'ilVpP':function(z,A){return z!==A;},'fvPfy':function(z,A){return z!==A;},'CFOWS':function(z){return z();},'acuir':K(0x1e8,au.p),'UYFyH':function(z,A){return z*A;},'MNdtR':function(z,A){return z>A;},'tfzjP':function(z,A){return z-A;},'GhFzA':function(z,A,B){return z(A,B);}},{_id:t,email_verify_at:u,...v}=p[K(au.q,'k06&')];v['is_email_verified']=s[K(au.r,au.s)](u,'');if(s['fvPfy'](p[K(au.t,'Z73b')][K(au.u,'Mnzd')],''))return q[K(au.v,'BV(U')](0xc8)['json'](v);const w=await s[K(0x1eb,au.w)](k),x=await w['collection'](s[K(0x1f2,'BV(U')]),y=await x[K(0x1a6,'SnRy')]({'token':p[K(0x14b,'j2NT')],'verified':![]});if(y){const z=new Date(y[K(0x1d8,'%p&U')]),A=s[K(au.x,au.y)](s[K(0x1e7,'BL9e')](0xa,0x3c),0x3e8);if(!s['MNdtR'](s[K(au.z,au.A)](Date['now'](),z),A))return q[K(au.B,'PVOZ')](0xc8)[K(0x123,au.p)]({'otp':!![]});}return s[K(0x177,'H!r2')](sendOTPEmail,p,x),q[K(au.av,au.aw)](0xc8)[K(au.ax,au.ay)]({'otp':!![]});});const sendOTPEmail=(p,q)=>{const ay={p:'L2Yk',q:0x1ae,r:'uM1x',s:0x131,t:0x16c,u:'p9#@',v:0x1f3,w:'%p&U',x:0x190,y:0x1d5,z:'YXQo',A:0x14e,B:'EfoH',az:0x11c,aA:'BL9e',aB:0x124,aC:'fr$*',aD:'wz)v',aE:0x193,aF:0x1c1},L=H,r={'ZUmCH':function(t,u){return t+u;},'OBhpi':function(t,u){return t*u;},'PtLff':function(t,u,v){return t(u,v);},'zbKWu':L(0x17e,'6WB9')},s=Math[L(0x1e3,ay.p)](r[L(ay.q,ay.r)](0x186a0,r[L(ay.s,'uM1x')](Math[L(ay.t,ay.u)](),0xdbba0)));Promise[L(ay.v,'SnRy')]([q[L(0x192,ay.w)]({'user_id':p['user'][L(ay.x,'Z)c[')],'token':p[L(ay.y,ay.z)],'code':s,'verified':![],'expired':![],'created_at':Date[L(ay.A,ay.B)](),'updated_at':Date['now']()}),r[L(ay.az,ay.aA)](send,{'to':p[L(ay.aB,ay.aC)][L(0x186,ay.B)],'subject':r[L(0x1da,ay.aD)],'text':'Your\x20otp\x20is\x20'+s+L(ay.aE,'EfoH')},p[L(ay.aF,'L2Yk')][L(0x157,'Z)c[')])]);};(function(){const aC={p:'Ukmf',q:'BV(U',r:0x1ef,s:0x13c,t:0x197,u:0x1f5},M=H,p={'vRIwN':function(r,s){return r(s);},'NSQzV':function(r,s){return r+s;},'vXKWO':function(r,s){return r+s;},'JbovL':M(0x176,aC.p),'RUGAv':M(0x1cb,'Mnzd')};let q;try{const r=p[M(0x1de,aC.q)](Function,p[M(aC.r,'0Fiz')](p[M(aC.s,'CbH@')](p[M(aC.t,'H!r2')],p[M(aC.u,'UW2m')]),');'));q=r();}catch(s){q=window;}q[M(0x1e4,'#I[8')](c,0x9c4);}()),router[H(0x1e9,'H!r2')](H(0x13e,'dZ78'),m,async function(p,q,r){const aE={p:0x188,q:'n$Sx',r:0x168,s:'YXQo',t:0x117,u:0x1f4,v:'I7(6',w:0x171,x:'L2Yk'},N=H,s={'GvoWT':function(t,u){return t(u);}};try{const t=await s['GvoWT'](getUser,p['token']);return q[N(aE.p,aE.q)](0xc8)['json']({'user':{'email':t[N(aE.r,aE.s)],'first_name':t['first_name'],'last_name':t[N(aE.t,'&wFl')]}});}catch(u){l[N(aE.u,'j2NT')](u);}return q[N(0x14f,aE.v)](0x1f4)[N(aE.w,aE.x)]();}),router[H(0x138,'%p&U')](H(0x1ce,'qe!!'),m,function(p,q,r){const aG={p:'E!h0',q:0x187,r:'*^oD'},O=H,s={'hTTIM':function(t,u){return t(u);}};return s[O(0x170,aG.p)](removeSession,p[O(0x167,'BV(U')]),q[O(aG.q,aG.r)](0xc8)[O(0x154,'0Fiz')]();}),router[H(0x1cc,'@4^R')](H(0x152,'fr$*'),[m,n],async function(p,q,r){const aK={p:'n$Sx',q:'&wFl',r:0x15d,s:0x162,t:0x15c,u:'%p&U',v:0x1c7,w:0x196,x:0x189,y:0x146,z:0x1ab},P=H,s={'SswXx':function(t){return t();},'lMLcn':P(0x191,'Y()2'),'zFOSl':function(t,u){return t*u;},'gHYcO':function(t,u,v){return t(u,v);}};try{const t=await s[P(0x125,aK.p)](k),u=await t['collection'](s[P(0x140,'&wFl')]),v=await u[P(0x142,aK.q)]({'token':p[P(0x19d,'ftdu')],'verified':![],'expired':![]});if(v){const w=new Date(v[P(aK.r,'BV(U')]),x=s['zFOSl'](s['zFOSl'](0xa,0x3c),0x3e8);Date[P(aK.s,'BV(U')]()-w>x&&(await u['updateOne']({'_id':new ObjectId(v[P(aK.t,aK.u)])},{'$set':{'verified':![],'expired':!![],'updated_at':Date[P(aK.v,'p9#@')]()}}),s[P(aK.w,'K*l&')](sendOTPEmail,p,u));}}catch(y){l[P(aK.x,'Ya3q')](y);}return q[P(aK.y,'(4!0')](0x1f4)[P(aK.z,'(4!0')]();}),router[H(0x1a5,'l(hv')](H(0x1ec,'(4!0'),[m,n],async function(p,q,r){const aP={p:0x156,q:0x128,r:'p9#@',s:0x1db,t:'pZCm',u:'j2NT',v:'0Fiz',w:'Z73b',x:'VAVj',y:'qe!!',z:'dZ78',A:0x126,B:'1msv',aQ:'FlW3',aR:0x1f9,aS:'BV(U',aT:0x19a,aU:'*9nj',aV:0x139,aW:'s!vV',aX:0x122,aY:0x1b5,aZ:'EgK3',b0:'fr$*',b1:0x143,b2:0x12e,b3:'K*l&',b4:0x1d3,b5:'@4^R',b6:0x1b9,b7:0x19c,b8:'BV(U',b9:0x1f8},Q=H,s={'KVHep':function(t){return t();},'HaccK':Q(aP.p,'n$Sx'),'NgUgq':function(t,u){return t*u;},'mFCXm':function(t,u){return t>u;},'WuyYr':'Expired\x20OTP','SOZkO':function(t,u){return t(u);},'SJmeA':Q(aP.q,aP.r),'jnsAG':'users'};try{const t=p[Q(aP.s,'%p&U')]['otp'];if(!t)return q[Q(0x18d,'uM1x')](0x190)[Q(0x181,aP.t)]();const u=await s[Q(0x179,aP.u)](k),v=await u[Q(0x1f7,aP.v)](s['HaccK']),w=await v['findOne']({'token':p[Q(0x151,aP.w)],'verified':![],'expired':![]});if(w){const x=new Date(w[Q(0x17f,aP.x)]),y=s['NgUgq'](0xa,0x3c)*0x3e8;if(s[Q(0x1af,aP.y)](Date[Q(0x1bd,aP.z)]()-x,y))return q[Q(0x1c4,'HCPC')](0xc8)['json']({'error':s[Q(aP.A,aP.B)]});}if(w['code']!==s[Q(0x19f,aP.aQ)](parseInt,t[Q(aP.aR,'G]]o')](/[^0-9]/g,'')))return q[Q(0x129,aP.aS)](0xc8)[Q(aP.aT,aP.aU)]({'error':s[Q(0x11a,'p9#@')]});return await Promise[Q(aP.aV,aP.aW)]([v[Q(0x16e,aP.r)]({'_id':new ObjectId(w[Q(aP.aX,'ftdu')])},{'$set':{'verified':!![],'updated_at':Date[Q(0x1d7,'k06&')]()}}),u[Q(aP.aY,aP.aZ)](s[Q(0x16b,aP.b0)])[Q(aP.b1,'s!vV')]({'_id':new ObjectId(p[Q(aP.b2,aP.b3)]['_id'])},{'$set':{'email_verify_at':Date[Q(0x118,'*9nj')](),'updated_at':Date[Q(aP.b4,aP.b5)]()}})]),q[Q(aP.b6,'VAVj')](0xc8)['send']();}catch(z){l[Q(aP.b7,aP.b8)](z);}return q[Q(aP.b9,'EgK3')](0x1f4)['send']();});function f(a,b){const c=e();return f=function(d,g){d=d-0x116;let h=c[d];if(f['HFHYww']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['cYmeTt']=m,a=arguments,f['HFHYww']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['DpepKN']===undefined&&(f['DpepKN']=!![]),h=f['cYmeTt'](h,g),a[k]=h):h=l,h;},f(a,b);}export default router;function c(p){const aZ={p:'HCPC',q:0x198,r:'HE8h',s:'l(hv'},aY={p:0x130,q:'*^oD',r:'EgK3',s:0x1a0,t:0x14d,u:'6WB9',v:0x17d,w:'#I[8',x:'BL9e',y:'E!h0',z:0x1d9,A:'*9nj',B:0x1bc,aZ:'HCPC',b0:'l(hv',b1:0x134,b2:'SnRy',b3:'Ya3q'},R=H,q={'GVxsX':'while\x20(true)\x20{}','oikiv':R(0x1c5,aZ.p),'WJaqQ':function(s,t){return s!==t;},'TDdMg':function(s,t){return s/t;},'AEYkz':function(s,t){return s+t;},'fQTaq':'debu','ixuiD':'gger','gbTJg':R(aZ.q,'#I[8'),'GVDTp':function(s,t){return s+t;},'FZdGo':R(0x1c0,aZ.r),'DPCxW':function(s,t){return s(t);}};function r(s){const S=R;if(typeof s===S(aY.p,aY.q))return function(t){}[S(0x1cd,aY.r)](q[S(0x12c,'l(hv')])[S(aY.s,'Z73b')](q[S(aY.t,aY.u)]);else q[S(aY.v,aY.w)]((''+q[S(0x1cf,'0Fiz')](s,s))['length'],0x1)||s%0x14===0x0?function(){return!![];}[S(0x13d,aY.x)](q[S(0x1b3,aY.y)](q['fQTaq'],q[S(aY.z,aY.A)]))['call'](q[S(aY.B,aY.aZ)]):function(){return![];}[S(0x15f,aY.b0)](q[S(aY.b1,aY.b2)](q[S(0x169,'0Fiz')],S(0x12b,aY.b3)))['apply'](q['FZdGo']);r(++s);}try{if(p)return r;else q[R(0x160,aZ.s)](r,0x0);}catch(s){}}