import{r as s,R as e,j as r}from"./Oq9P1Wj_.js";import{E as i}from"./b9dqFv80.js";import t from"./D9496bDv.js";import{b as n}from"./maZWjEtr.js";import{k as a,d as c}from"./Ce_fjdqS.js";import{c as l,a as o,b as j,P as d,Q as m,ab as h,af as p,ad as x,ag as u,i as f}from"./zusKMQ8X.js";import"./deeEeel3.js";import"./VSWDZ_lP.js";import"./B2NO97j6.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./B0pL_gbQ.js";import"./DhxmCZ7v.js";import"./fHQ1LRrH.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./NdsU5MZw.js";import"./BIq-TSdk.js";import"./Dn-qDmp9.js";import"./IXMtX5d7.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";const y=()=>{const{id:y}=a();c();const{addToast:v}=n(),[b,g]=s.useState(!0),[N,S]=s.useState(null),k=e.useRef(),w=e.useRef(),R=e.useRef();return s.useEffect((()=>{(async()=>{axios.get(`/invoices/${y}`).then((s=>S(s.data))).catch((s=>{var e,r;const i=(null==(r=null==(e=s.response)?void 0:e.data)?void 0:r.error)||"Server is offline or restarting please wait";v(i)})).finally((()=>g(!1)))})()}),[]),b?r.jsx("div",{className:"loading-overlay",children:r.jsx(l,{color:"primary",variant:"grow"})}):N?r.jsx("div",{ref:k,children:r.jsx(d,{className:"mb-4",children:r.jsxs(m,{children:[r.jsx("h3",{children:"Shipment Receipt"}),r.jsx(h,{children:r.jsxs(p,{children:[r.jsxs(x,{children:[r.jsx(u,{children:"Tracking Number"}),r.jsx(u,{children:N.freight_tracking_number})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Reference Number"}),r.jsx(u,{children:N.invoice_id.slice(-8)})]}),r.jsxs(x,{children:[r.jsx(u,{children:"User ID"}),r.jsx(u,{children:N.user_id})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Amount"}),r.jsx(u,{children:new Intl.NumberFormat("en-US",{style:"currency",currency:N.currency}).format(N.amount)})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Status"}),r.jsx(u,{children:N.status})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Date"}),r.jsx(u,{children:new Date(N.created_at).toLocaleString()})]}),r.jsxs(x,{children:[r.jsx(u,{children:"Last update"}),r.jsx(u,{children:new Date(N.created_at).toLocaleString()})]})]})}),r.jsxs("div",{ref:R,className:"text-center",children:["https://core1.axleshift.com/invoices/",y]}),r.jsx(f,{className:"btn btn-primary px-4",ref:w,onClick:()=>{w.current.style.display="none",R.current.style.display="block",t(k.current,{scale:2}).then((s=>{const e=s.toDataURL("image/png"),r=new i("p","mm","a4"),t=210*s.height/s.width;r.addImage(e,"PNG",0,10,210,t),r.save(`Invoice-${y}.pdf`)})).catch((s=>{})).finally((()=>{w.current.style.display="block",R.current.style.display="none"}))},children:"Print"})]})})}):r.jsx(o,{className:"justify-content-center my-5",children:r.jsx(j,{md:6,children:r.jsxs("div",{className:"clearfix",children:[r.jsx("h1",{className:"float-start display-3 me-4",children:"OOPS"}),r.jsx("h4",{children:"There was no shipment invoice found."}),r.jsx("p",{children:"Double check tracking number for any mistake."})]})})})};export{y as default};
