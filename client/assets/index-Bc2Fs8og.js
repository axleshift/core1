import{n as w,R as N,r as h,o as v,j as e}from"./index-V85bmeZ7.js";import{F as t}from"./index.es-DHJTnNr1.js";import{n as y,p as x,o as C}from"./index-BZjyJKb7.js";import{R}from"./recaptcha-wrapper-xCKYPP4g.js";import{C as E}from"./CContainer-SGPX53mZ.js";import{C as b,a as I}from"./CRow-D_ajzwTO.js";import{C as A}from"./CCard-BBA0MOBz.js";import{C as P}from"./CCardBody-BG1o7h-x.js";import{C as T,a as o}from"./CFormInput-9k3az7M7.js";import{C as n,a as i}from"./CInputGroupText-CTnDO1wP.js";import{C as F}from"./CButtonGroup-B0rDxzsA.js";import{a as f}from"./CButton-DUQ3abMj.js";const U=()=>{const l=w(),p=N.useRef(),[s,u]=h.useState({email:"",firstName:"",lastName:"",password:"",repeatPassword:"",recaptchaRef:""}),j=()=>{l("/login")};h.useEffect(()=>{v.get(void 0)!==void 0&&l("/")},[]);const r=m=>{const{id:d,value:a}=m.target;u(c=>({...c,[d]:a}))},g=async m=>{if(m.preventDefault(),s.password!==s.repeatPassword)return alert("Passwords do not match");const d=await p.current.executeAsync();u(a=>({...a,recaptchaRef:d}));try{const c=(await axios.post("undefined/api/auth/register",s,{headers:{}})).data.status;if(c==201)return l("/");alert(c)}catch(a){console.error(a)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(E,{children:e.jsx(b,{className:"justify-content-center",children:e.jsx(I,{md:8,lg:6,xl:5,children:e.jsx(A,{className:"mx-4",children:e.jsx(P,{className:"p-4",children:e.jsxs(T,{onSubmit:g,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(R,{ref:p,size:"invisible",sitekey:void 0}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(t,{icon:y})}),e.jsx(o,{placeholder:"Email",autoComplete:"email",value:s.email,onChange:r,required:!0})]}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(t,{icon:x})}),e.jsx(o,{placeholder:"First Name",autoComplete:"given-name",value:s.firstName,onChange:r,required:!0})]}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(t,{icon:x})}),e.jsx(o,{placeholder:"Last Name",autoComplete:"family-name",value:s.lastName,onChange:r,required:!0})]}),e.jsxs(n,{className:"mb-3",children:[e.jsx(i,{children:e.jsx(t,{icon:C})}),e.jsx(o,{type:"password",placeholder:"Password",autoComplete:"new-password",value:s.password,onChange:r,required:!0})]}),e.jsxs(n,{className:"mb-4",children:[e.jsx(i,{children:e.jsx(t,{icon:C})}),e.jsx(o,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",value:s.repeatPassword,onChange:r,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(F,{children:[e.jsx(f,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(f,{color:"primary",className:"me-2 rounded",onClick:j,children:"Login"})]})})]})})})})})})})};export{U as default};
