import{r,j as e}from"./AvajUqxD.js";import{a as p}from"./CCb-kr4I.js";import{a as h}from"./Cz0CWeBA.js";import"./CxTwvKIG.js";import{S as w,C as N,a as B}from"./zel4_BFT.js";import{A as k}from"./Bb1RUlHZ.js";import{L as A}from"./CApnrKl1.js";import{S as R}from"./B5ZNw8-i.js";import{d as T,k as z}from"./D9lVez5C.js";import{C as L,M as O,N as g,D as j,E as c}from"./TXHK0W20.js";import"./Bohkx0y1.js";import"./CWSvFvDE.js";import"./D_05oOQ-.js";import"./CjRdQy_j.js";import"./CzFDRTuY.js";import"./BQBsAJpH.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const re=()=>{const u={shipper:{shipper_company_name:"",shipper_contact_name:"",shipper_contact_email_address:"",shipper_contact_phone_number:"",shipper_company_address:""},consignee:{consignee_company_name:"",consignee_contact_name:"",consignee_contact_email_address:"",consignee_contact_phone_number:"",consignee_company_address:""},shipment:{shipment_description:"",shipment_weight:0,shipment_dimension_length:0,shipment_dimension_width:0,shipment_dimension_height:0,shipment_volume:0,shipment_value:0,shipment_instructions:""}},[n,S]=r.useState(u),[o,m]=r.useState(u),[f,y]=r.useState(""),[C,a]=r.useState(!1),[s,d]=r.useState(!0),D=T(),{id:i}=z(),l=(t,_)=>{const{id:E,value:$}=t.target;m(x=>({...x,[_]:{...x[_],[E]:$}}))},v=async()=>{a(!0),await p.get(`https://backend-core1.axleshift.com//api/v1/freight/${i}`,{headers:{Authorization:`Bearer ${h.get("RCTSESSION")}`}}).then(t=>{y(t.data.data[0].type),S(t.data.data[0].data),m(t.data.data[0].data)}).catch(t=>{console.error(t)}).finally(()=>{a(!1)})},I=async()=>{if(s)return d(!1);a(!0),await p.post(`https://backend-core1.axleshift.com//api/v1/freight/u/${f}/${i}`,o,{headers:{Authorization:`Bearer ${h.get("RCTSESSION")}`}}).then(t=>{alert("save")}).catch(t=>{console.error(t)}).finally(()=>{a(!1),d(!0)})},F=async()=>{if(!s){d(!0),m(n);return}a(!0),await p.post(`https://backend-core1.axleshift.com//api/v1/freight/d/${i}`,{},{headers:{Authorization:`Bearer ${h.get("RCTSESSION")}`}}).then(t=>{D("/")}).catch(t=>{console.error(t)}).finally(()=>{a(!1)})},b=()=>{switch(f){case"air":return e.jsx(k,{isInfo:!0,formData:n,isDisabled:!0});case"land":return e.jsx(A,{isInfo:!0,formData:n,isDisabled:!0});case"sea":return e.jsx(R,{isInfo:!0,formData:n,isDisabled:!0});default:return null}};return r.useEffect(()=>{v()},[]),e.jsxs("div",{children:[C&&e.jsx("div",{className:"loading-overlay",children:e.jsx(L,{color:"primary",variant:"grow"})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:["#",i]}),e.jsxs(O,{children:[e.jsx(g,{color:"primary",className:"me-2 rounded",onClick:I,children:s?"Edit":"Save"}),e.jsx(g,{color:s?"danger":"secondary",className:"me-2 rounded",onClick:F,children:s?"Delete":"Cancel"})]})]}),e.jsxs(j,{xs:{cols:1},sm:{cols:2},children:[e.jsx(c,{children:e.jsx(w,{isInfo:!0,formData:o,handleInputChange:l,isDisabled:s})}),e.jsx(c,{children:e.jsx(N,{isInfo:!0,formData:o,handleInputChange:l,isDisabled:s})})]}),e.jsxs(j,{xs:{cols:1},sm:{cols:2},children:[e.jsx(c,{children:e.jsx(B,{isInfo:!0,formData:o,handleInputChange:l,isDisabled:s})}),e.jsx(c,{children:b()})]})]})};export{re as default};
