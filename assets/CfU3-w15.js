import{j as e,R as s,r as a}from"./Oq9P1Wj_.js";import{r as n,u as o,a as c,V as i,b as t,c as r}from"./B1g_Bb-p.js";import{a as l,d as m,i as d,j as x}from"./Ce_fjdqS.js";import{j,k as p,l as h,m as u,n as f,c as v,o as N,p as b,q as g,r as y,s as k,t as _,u as C,v as S,C as w,w as A,x as z,i as F,y as E,z as P,A as T,B as L,D as M,E as R,F as D,G as H,H as I,I as O,J as W,K as $,L as q,M as B,N as U,O as J,P as V,d as Y,e as G,f as K,g as Q,h as X}from"./C0hj_6to.js";import{a as Z,u as ee}from"./fHQ1LRrH.js";import{F as se,f as ae,a as ne,b as oe,c as ce,d as ie,e as te,g as re,h as le,i as me,j as de,k as xe,l as je,m as pe,n as he,o as ue,p as fe,q as ve,r as Ne,s as be,t as ge,u as ye,v as ke,w as _e,x as Ce}from"./DDxssUBc.js";import{p as Se}from"./2aPQtUzY.js";import{A as we}from"./66s-9eHI.js";import{N as Ae}from"./ChytwAMd.js";import{P as ze}from"./NdsU5MZw.js";import{S as Fe}from"./CY84gjTO.js";import"./deeEeel3.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./CUvxBZEH.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./BK_AWGJv.js";import"./vI--IC3q.js";const Ee=[{component:j,name:"Dashboard",to:"/dashboard",role_exclude:[],icon:e.jsx(se,{icon:ae,className:"nav-icon"})},{component:p,name:"Services",role_exclude:[]},{component:h,name:"Freight",role_exclude:["staff","admin"],icon:e.jsx(se,{icon:ne,className:"nav-icon"}),items:[{component:j,name:"Sea Freight",to:"/freight/sea"},{component:j,name:"Air Freight",to:"/freight/air"},{component:j,name:"Land Freight",to:"/freight/land"}]},{component:j,name:"Track",to:"/track",role_exclude:[],icon:e.jsx(se,{icon:oe,className:"nav-icon"})},{component:j,name:"Rates",to:"/rates",role_exclude:[],icon:e.jsx(se,{icon:ce,className:"nav-icon"})},{component:j,name:"Couriers",to:"/couriers",role_exclude:[],icon:e.jsx(se,{icon:ie,className:"nav-icon"})},{component:j,name:"Routes",to:"/routes",role_exclude:[],icon:e.jsx(se,{icon:te,className:"nav-icon"})},{component:p,name:"Security",role_exclude:["staff"]},{component:j,name:"Management",to:"/security/management",role_exclude:["user","staff"],icon:e.jsx(se,{icon:re,className:"nav-icon"})},{component:j,name:"Activity",to:"/security/activity",role_exclude:["staff"],icon:e.jsx(se,{icon:le,className:"nav-icon"})},{component:j,name:"Access Token",to:"/security/access-token",role_exclude:["staff","user","admin"],icon:e.jsx(se,{icon:me,className:"nav-icon"})},{component:j,name:"Sessions",to:"/security/sessions",role_exclude:["staff"],icon:e.jsx(se,{icon:de,className:"nav-icon"})},{component:p,name:"Payments",role_exclude:[]},{component:j,name:"Invoices",to:"/invoices",role_exclude:[],icon:e.jsx(se,{icon:xe,className:"nav-icon"})},{component:p,name:"Support",role_exclude:[]},{component:j,name:"Customer Service",to:"/customer",role_exclude:[],icon:e.jsx(se,{icon:je,className:"nav-icon"})},{component:p,name:"Policies",role_exclude:["staff"]},{component:j,name:"Terms of Service",to:"/terms-of-service",role_exclude:["staff"],icon:e.jsx(se,{icon:pe,className:"nav-icon"})},{component:j,name:"Privacy Policy",to:"/privacy-policy",role_exclude:["staff"],icon:e.jsx(se,{icon:pe,className:"nav-icon"})},{component:p,name:"System",role_exclude:["staff"]},{component:j,name:"Network Status",to:"https://stats.uptimerobot.com/5l58Mua0Wi",role_exclude:["staff"],icon:e.jsx(se,{icon:he,className:"nav-icon"})}],Pe=s.memo((()=>{const s=l().pathname,o=m(),c=(e=>{const s=[];return e.split("/").reduce(((e,a,o,c)=>{const i=`${e}/${a}`,t=((e,s)=>{const a=s.find((s=>s.path===e));return!!a&&a.name})(i,n);return t&&s.push({pathname:i,name:t,active:o+1===c.length}),i})),s})(s);return e.jsxs(u,{className:"my-0",children:[e.jsx(f,{onClick:()=>o("/dashboard"),children:"Home"}),c.map(((e,s)=>"/dashboard"!==e.pathname&&a.createElement(f,{...e.active?{active:!0}:{onClick:()=>o(e.pathname)},key:s,style:{cursor:e.active?"default":"pointer"}},e.name)))]})})),Te=s.memo((()=>e.jsx("div",{className:"px-4",children:e.jsx(a.Suspense,{fallback:e.jsx("div",{className:"loading-overlay",children:e.jsx(v,{color:"primary",variant:"grow"})}),children:e.jsx(d,{children:n.map(((s,a)=>!s.external&&e.jsx(x,{path:s.path,exact:s.exact,name:s.name,element:e.jsx(s.element,{})},a)))})})}))),Le=s.memo((()=>e.jsxs(N,{className:"px-4",children:[e.jsxs("div",{children:["Axleshift Core 1 Â© ",(new Date).getFullYear()]}),e.jsx("div",{className:"ms-auto"})]}))),Me=()=>{const{notifs:s}=o();return e.jsxs(b,{variant:"nav-item",children:[e.jsx(g,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:e.jsx(se,{icon:ue})}),e.jsx(y,{className:"p-0",placement:"bottom-end",children:e.jsxs(k,{children:[e.jsxs(_,{active:!0,children:[e.jsx(se,{icon:ue})," Notifications"]}),s&&s.map((s=>e.jsxs(_,{children:[e.jsx("h6",{className:"mb-1",children:s.header}),e.jsx("p",{className:"mb-1",children:s.message}),e.jsx("small",{children:Se(s.id)})]},s.id))),0===s.length&&e.jsxs(_,{className:"py-3 my-3",disabled:!0,children:["You have no Notification yet. ",e.jsx("br",{})," Come back later."]})]})})]})},Re=()=>{const s=a.useRef(),{user:n}=c(),{colorMode:o,setColorMode:i}=C("theme"),t=Z(),r=ee((e=>e.sidebarShow)),l=m();return a.useEffect((()=>{document.addEventListener("scroll",(()=>{s.current&&s.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)}))}),[]),e.jsxs(S,{position:"sticky",className:"mb-4 p-0",ref:s,children:[e.jsxs(w,{className:"border-bottom px-4",fluid:!0,children:[e.jsx(A,{onClick:()=>t({type:"set",sidebarShow:!r}),style:{marginInlineStart:"-14px"},children:e.jsx(se,{icon:fe})}),e.jsxs(z,{children:[["user","super_admin"].includes(n.role)&&e.jsx(j,{children:e.jsx(F,{onClick:e=>l("/freight"),children:e.jsx(se,{icon:ve})})}),e.jsx(j,{children:e.jsx(F,{onClick:e=>l("/schedules"),children:e.jsx(se,{icon:Ne})})}),e.jsx(we,{className:"mx-auto d-none d-md-flex ms-2"})]}),e.jsx(z,{className:"ms-auto px-2",children:e.jsx(Me,{})}),e.jsxs(z,{children:[e.jsxs(b,{variant:"nav-item",placement:"bottom-end",children:[e.jsx(g,{caret:!1,children:"dark"===o?e.jsx(se,{icon:be}):"auto"===o?e.jsx(se,{icon:ge}):e.jsx(se,{icon:ye})}),e.jsxs(y,{children:[e.jsxs(E,{active:"light"===o,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("light"),children:[e.jsx(se,{className:"me-2",icon:ye})," Light"]}),e.jsxs(E,{active:"dark"===o,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("dark"),children:[e.jsx(se,{className:"me-2",icon:be,size:"lg"})," Dark"]}),e.jsxs(E,{active:"auto"===o,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>i("auto"),children:[e.jsx(se,{className:"me-2",icon:ge})," Auto"]})]})]}),e.jsx(De,{})]})]}),e.jsx(w,{className:"px-4",fluid:!0,children:e.jsx(Pe,{})})]})},De=()=>{const s=m(),{user:n}=c(),[o,t]=a.useState("/images/default-avatar.jpg");return a.useEffect((()=>{n&&n.ref&&t(`${i}/u/${n.ref}.png`)}),[]),e.jsxs(b,{variant:"nav-item",children:[e.jsx(g,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:e.jsx(P,{crossOrigin:"Anonymous",src:o,className:"rounded-5",fluid:!0,width:"40px",loading:"lazy"})}),e.jsxs(y,{className:"pt-0",placement:"bottom-end",children:[e.jsxs(T,{className:"bg-body-secondary fw-semibold mb-2 fs-6 px-5",children:[n.first_name," ",n.last_name]}),e.jsxs(E,{onClick:()=>s("/account"),children:[e.jsx(se,{icon:ke,className:"me-2"}),"Account"]}),e.jsxs(E,{onClick:()=>s("/account/security"),children:[e.jsx(se,{icon:_e,className:"me-2"}),"Security"]}),e.jsx(L,{}),e.jsxs(E,{onClick:()=>s("/logout"),children:[e.jsx(se,{icon:Ce,className:"me-2"}),"Logout"]})]})]})},He=({items:s})=>{const{user:a}=c(),n=(s,a,n,o=!1)=>e.jsxs(e.Fragment,{children:[a||o&&e.jsx("span",{className:"nav-icon",children:e.jsx("span",{className:"nav-icon-bullet"})}),s&&s,n&&e.jsx(D,{color:n.color,className:"ms-auto",children:n.text})]}),o=(s,a,o=!1)=>{const{component:c,name:i,badge:t,icon:r,...l}=s,m=c;return e.jsx(m,{as:"div",children:l.to||l.href?e.jsx(R,{...l.to&&{as:Ae},...l,children:n(i,r,t,o)}):n(i,r,t,o)},a)},i=(s,a)=>{var c;const{component:t,name:r,icon:l,items:m,to:d,...x}=s,j=t;return e.jsx(j,{compact:!0,as:"div",toggler:n(r,l),...x,children:null==(c=s.items)?void 0:c.map(((e,s)=>e.items?i(e,s):o(e,s,!0)))},a)};return e.jsx(M,{as:Fe,children:s&&s.filter((e=>Array.isArray(e.role_exclude)&&!e.role_exclude.includes(a.role))).map(((e,s)=>e.items?i(e,s):o(e,s)))})};He.propTypes={items:ze.arrayOf(ze.any).isRequired};const Ie=s.memo((()=>{const s=Z(),a=ee((e=>e.sidebarUnfoldable)),n=ee((e=>e.sidebarShow));return e.jsxs(H,{colorScheme:"dark",className:"border-end",position:"fixed",unfoldable:a,visible:n,onVisibleChange:e=>{s({type:"set",sidebarShow:e})},children:[e.jsxs(I,{children:[e.jsxs(O,{to:"/",children:[e.jsx(P,{fluid:!0,src:"/images/logo.png",className:"sidebar-brand-full",height:30,loading:"lazy"}),e.jsx(P,{src:"/images/favicon.png",className:"sidebar-brand-narrow",height:30,loading:"lazy"})]}),e.jsx(W,{className:"d-lg-none",dark:!0,onClick:()=>s({type:"set",sidebarShow:!1})})]}),e.jsx(He,{items:Ee}),e.jsx($,{className:"d-none d-lg-flex",children:e.jsx(q,{onClick:()=>s({type:"set",sidebarUnfoldable:!a})})})]})})),Oe=()=>{const{toasts:s,addToast:n}=t(),{modal:c,addModal:i}=r(),{addNotif:l}=o(),[m,d]=a.useState({}),x=e=>{d((s=>({...s,[e]:!1})))};return a.useEffect((()=>{n("Welcome to axleshift","Hello World"),l("Welcome to core 1 axleshift")}),[]),e.jsxs("div",{children:[e.jsx(Ie,{}),e.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[e.jsx(Re,{}),e.jsx("div",{className:"body flex-grow-1",children:e.jsx(Te,{})}),e.jsx(Le,{})]}),e.jsx(B,{className:"position-fixed top-0 end-0 p-3",children:s.map((s=>e.jsxs(U,{autohide:!0,visible:!0,children:[e.jsxs(J,{closeButton:!0,children:[e.jsx(P,{className:"rounded me-2",src:"/favicon.ico",width:"20",loading:"lazy"}),e.jsx("div",{className:"fw-bold me-auto",children:s.header}),e.jsx("small",{children:Se(s.id)})]}),e.jsx(V,{children:s.message})]},s.id)))}),e.jsx("div",{className:"position-fixed top-50 start-50 translate-middle p-3",style:{zIndex:1050},children:c.map((s=>e.jsx("div",{children:e.jsxs(Y,{alignment:"center",scrollable:!0,visible:m[s.id]||!0,onClose:()=>x(s.id),"aria-labelledby":s.id,children:[e.jsx(G,{children:e.jsx(K,{id:s.id,children:s.header})}),e.jsx(Q,{children:s.body}),e.jsx(X,{children:e.jsx(F,{color:"primary",onClick:e=>x(s.id),children:s.primaryButton[0].title})})]})},s.id)))})]})};export{Oe as default};
