const z=f;(function(k,l){const F={k:'!^pG',l:'JMki',m:'y3PZ',n:0x1bf,o:0x1c9,p:'[4D*',q:0x1a8},u=f,m=k();while(!![]){try{const n=parseInt(u(0x1e7,'GM6n'))/0x1+-parseInt(u(0x1d9,F.k))/0x2*(parseInt(u(0x1f6,')0U9'))/0x3)+-parseInt(u(0x1af,F.l))/0x4+parseInt(u(0x1bd,'DRGB'))/0x5+parseInt(u(0x1b3,'rtA0'))/0x6+-parseInt(u(0x1a6,F.m))/0x7*(-parseInt(u(F.n,'C4ZA'))/0x8)+-parseInt(u(F.o,F.p))/0x9*(parseInt(u(F.q,'&cNu'))/0xa);if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0x4df23));const d=(function(){let k=!![];return function(l,m){const n=k?function(){const v=f;if(m){const o=m[v(0x1a3,'cSWI')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const N={k:'98t9',l:'d1Z%',m:'MmK8',n:'2CjH'},M={k:0x1bc,l:'Y5vm',m:0x1d0,n:0x1a0,o:0x1e3,p:0x1a1},w=f,k={'UNUyo':w(0x198,N.k),'tbUQY':w(0x1dd,N.l),'kOgJM':function(l,m){return l+m;},'OwvaH':w(0x1e6,N.m),'dKYBJ':w(0x1df,N.n),'ICxcM':function(l,m){return l(m);}};d(this,function(){const x=w,l=new RegExp(k[x(0x1f0,'CSWR')]),m=new RegExp(k[x(0x1c2,'3VE(')],'i'),n=c(x(M.k,'&cNu'));!l[x(0x1e9,M.l)](k[x(0x1c6,'rcz7')](n,k[x(M.m,'OTyy')]))||!m[x(M.n,'KqbM')](n+k[x(M.o,'2CjH')])?k[x(M.p,'Y5vm')](n,'0'):c();})();}());const b=(function(){let k=!![];return function(l,m){const n=k?function(){if(m){const o=m['apply'](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),a=b(this,function(){const W={k:0x1f5,l:0x1ec,m:'rtA0',n:'KqbM',o:0x1cb,p:0x1e2,q:'rtA0',r:0x1e4,s:0x18b,t:'d*Fl',X:0x1ee,Y:0x1b1,Z:'[nle',a0:0x1a2,a1:'rfhC',a2:0x1ba,a3:0x19a,a4:'uFiD',a5:0x1a5,a6:'(c3V',a7:0x1b7,a8:'4TWJ'},y=f,k={'NzyUb':function(o,p){return o(p);},'lUftQ':function(o,p){return o+p;},'nfpYs':function(o,p){return o+p;},'aWRVu':y(W.k,'(c3V'),'RKGtb':function(o){return o();},'WCqCG':'log','MUNqq':y(W.l,'gwTS'),'lBcFX':y(0x1f2,W.m)};let l;try{const o=k[y(0x1d7,W.n)](Function,k[y(W.o,'uFiD')](k['nfpYs'](k[y(W.p,W.q)],y(W.r,'tikd')),');'));l=k['RKGtb'](o);}catch(p){l=window;}const m=l[y(0x1c8,')upS')]=l[y(W.s,W.t)]||{},n=[k['WCqCG'],y(0x1ad,'rcz7'),y(W.X,'!^pG'),y(W.Y,'&R$@'),k[y(0x1ca,W.Z)],k['lBcFX'],y(W.a0,W.a1)];for(let q=0x0;q<n[y(0x1eb,'rtA0')];q++){const r=b['constructor'][y(W.a2,'rfhC')][y(W.a3,W.a4)](b),s=n[q],t=m[s]||r;r['__proto__']=b[y(0x1f7,'H1T0')](b),r[y(W.a5,W.a6)]=t[y(W.a7,'4TWJ')][y(0x1de,W.a8)](t),m[s]=r;}});a();import g from'dotenv';g[z(0x1c4,'!^pG')]();import h from'fs';import{MongoClient}from'mongodb';import i from'../components/logger.js';import j from'../components/password.js';const data=JSON[z(0x1d4,'OJw&')](h[z(0x1f4,'!%s1')](import.meta[z(0x1b2,'(c3V')]+'/users.json',z(0x191,'l#Yk')))['docs'];let dbInstance=null;function e(){const af=['W7mXW50NghtdKGZcLcVcVqe0hmoCWPm1W4rEWQldKZxdTSkYW57cStldHhhcSmoaWO8','DKDIW4ZcTG','WROfW47cVmoo','fItcQd0LmwxdNCkVWQNcVYi','W7xcTSklz1JcVc7cRCkoASk/WOumW6awWRq','ihpcIqS','lSoTWP01p8oo','WOLDc8kfWR7cRW','nmkHnuFdH1Sqk8k+','g3FdMtbw','v8k5W6Di','CWtdQmoemq','kCkcedCh','W7OPWOCXbxtcGvdcGcVcSbyVb8kBW59VWOGk','WPfzb8koWQ8','mSoPWOaHpmojBsK','mmosvqbGW7jcW43dKxtcVwC','WR1jzmkNWQ5kW6/cQJJcGtddPmonz8o9ebzGma','xx8ffmkuhCkdcq','qLLbW4y','x8kNW7flWR4','W6jCbmoaCG','e0tdH1ZcTq','m8oWW4pcI30/WRa','WRVdTJddN1G','WR8NWOjjmSoGW4FdGhRcLa','u1vBW6VcSamIWQZdVmoryW','D8oum8k0hq','gg7cKrhdRG','WQm9WPCu','W6S7W7ryW6nxEW','tX/cMe0vw8kOW6OiWPddMW','jxfvWOndWO8','W4TbltvZi2D+zSkrWPHF','WRaGWP9i','WPfxjmkqWRJcPSoM','WOPocY8WvSoWWR0VjCowW57cUmk2W4BcTG','yCkukrRdIa','feBdHHK','WRNdTCk1z09yxCo7s8oIWQBdO8kUoYu','WRzbWRNdGCkO','WR4Fr3mS','m8oWW4pcI2yHWQddMhOWWOa','mCoTWOaHiSojCt4','nCoOWRnt','hvxcGHZdJa','DZiIWO1v','W7FcTmkEALu','WOfDb8kx','WRTdq8kMWQ5nWQhdPq','s2xdHLVcPcNcHau','nW4rW5zkWO7dR24','cZ9EW4FdRrHGFGnAW5/cSua','WRe/uemoshLMAq','DWRdISo9f2u','WRGOWPXj','WPXwimkrW6G','y8kgpGy','WPNdPmkTFwm','Bvr4rtfRhmoEcSoVEmoY','sv5jW40','rCo0jwb+','WQTfySk8WR1jWQO','W5CbumosW77dSCkRhSkQuJpdTCoT','WQ0cW67cP8osW5JcKa','WOXwfSkhWRJcS8o6mmkzFIRdJ8o3','ydiMWO9eW71PW5RcSLe1W7rbx8kUlG','WQfximktW5i3i8k4','WRXWWQefWRugoSotmLNdVCoYiq','WRlcGCoLWQhdKq','CZiSWPPFW6XtW4xcUW','gt7dVf/cIaxcPW','vgecWOa','W4ZcP2FcUH9Caci+WRveW57dJW','WRdcNSoGWQpdNmkvCq','W6tcPmo0it0bw8oNAmo2WRtdNG','zXhdLSoNdxb9WRTxWQil','WROcW4hcPSouW4VcNepcLSo5WR8','CbZdRCofia','rti0WQHJ','xCk4W69bWQ5d','u0roW5BcUZGLWRtdR8otEW','F8kOkYldTG','W4VdQ8oDWOlcOq','WP8FChCUE0K','acxdJLGbEmod','WPDpc8kSW68','gNRdJGLY','W6PCoSo/wa','WRdcNSo5WQhdJCktD8kRWOldNG','wxTFC8odq8oKn8ofWR3dNIdcPW','dmoUWRqxW7msqSopW6xcGCo/BX0','nMldIx7cKa','drVdTKxcHG','vmoZomkQl8ojW78z','WORdPaFdNMy','W6RcLYW9W6S','sv5mW47cQXmIWQ0','umoNjhX7jSoiW5W','d8o3WRLYjG','zCk9itVdNW','b8oNWRexW7fsm8oqW4xcR8oE','WQH6W6ynuG','bmo6WOquga','W6OUW7rd','WPyOW7DZoevUqHaHW65QW5zWWOZdMbLupviAwLtdPeldRt7dUSkyaCoCdxLQ','WRDrhCkd','ihPlWPfd','WRtdSctdQ1WrudbSWQbJW7BdVJTLcSoClmkfWQW','nSoTW4JcKxu7WQe','WOrVn8k0WR8','lv9IWQz9'];e=function(){return af;};return e();}function f(a,b){const c=e();return f=function(d,g){d=d-0x189;let h=c[d];if(f['kofbfI']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['WhWFtg']=m,a=arguments,f['kofbfI']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['TbxNGl']===undefined&&(f['TbxNGl']=!![]),h=f['WhWFtg'](h,g),a[k]=h):h=l,h;},f(a,b);}const db=async()=>{const Z={k:0x192,l:'LlF*',m:')upS',n:0x19b,o:0x1b4,p:0x1db,q:0x1e8,r:0x1c3,s:'rfhC',t:0x1e5,a0:'H1T0',a1:0x1d2,a2:'5!wp',a3:'[nle',a4:0x190,a5:0x197,a6:'rtA0',a7:0x1ea,a8:'9CVQ',a9:0x1f3,aa:'DRGB',ab:'rtA0'},A=z,k={'FrwFS':'users','VwMnh':A(Z.k,Z.l),'FLeLv':A(0x19f,'9CVQ'),'Lxkno':'threats','GWdrs':function(s,t){return s!=t;},'zQcUS':function(s,t){return s(t);}};if(dbInstance)return dbInstance;const l=new MongoClient(process['env'][A(0x1a9,Z.m)]);await l[A(0x1bb,'y3PZ')](),i['info']('Connected\x20successfully\x20to\x20server'),dbInstance=l['db'](process['env']['MONGO_DB']);const m=await dbInstance[A(Z.n,'C4ZA')]()[A(Z.o,'MmK8')](),n=m['map'](s=>s[A(0x1ab,'l#Yk')]);if(!n['includes'](k[A(Z.p,'9CVQ')]))await dbInstance[A(Z.q,'cSWI')](k[A(Z.r,Z.s)]);if(!n[A(0x1d5,'H1T0')](k[A(Z.t,Z.a0)]))await dbInstance['createCollection'](A(0x1e1,'d*Fl'));if(!n[A(Z.a1,Z.a2)]('sessions'))await dbInstance[A(0x1b6,'rfhC')](k[A(0x1ac,Z.a3)]);if(!n['includes'](k[A(Z.a4,'Y5vm')]))await dbInstance['createCollection'](k[A(0x1ae,'C4ZA')]);const o=dbInstance[A(0x1cd,'kf1b')](A(0x199,'rcz7'));let p=await o[A(0x196,'l#Yk')]({}),q=await p[A(Z.a5,Z.a6)]();if(k['GWdrs'](q[A(Z.a7,Z.a8)],0x0))return dbInstance;for(const s of data){s[A(Z.a9,'9CVQ')]=k['zQcUS'](j,s[A(0x1d6,'&R$@')]);}const r=await o[A(0x18d,'l#Yk')](data);return i[A(0x1b0,Z.a0)](A(0x1e0,Z.aa)+r[A(0x1b5,Z.ab)]),dbInstance;};(function(){const a3={k:'tikd',l:0x18e},a2={k:0x1d8,l:'6%*@',m:0x19c,n:'n0s)'},B=z,k={'bSjwp':function(n,o){return n(o);},'qZmSd':function(n,o){return n+o;},'jykvH':B(0x1f1,a3.k),'gRqYh':'{}.constructor(\x22return\x20this\x22)(\x20)'},l=function(){const C=B;let n;try{n=k[C(0x1c7,'weKx')](Function,k[C(a2.k,'rcz7')](k[C(0x1cc,a2.l)],k[C(a2.m,a2.n)])+');')();}catch(o){n=window;}return n;},m=l();m[B(a3.l,'H1T0')](c,0x9c4);}());export default db;function c(k){const ae={k:0x1aa,l:'3VE(',m:0x1be,n:'kf1b',o:'rtA0',p:0x1c5},ad={k:0x1c1,l:'MmK8',m:'kf1b',n:0x1ef,o:0x19d,p:'6%*@',q:0x18a,r:'OTyy',s:0x19e,t:'d*Fl'},D=z,l={'byMUJ':function(n,o){return n===o;},'JIhrG':D(ae.k,ae.l),'izjph':'while\x20(true)\x20{}','mXqMu':D(ae.m,ae.n),'mfkFy':function(n,o){return n!==o;},'wzPPH':function(n,o){return n+o;},'FhgQv':function(n,o){return n/o;},'BoYwm':D(0x194,'2CjH'),'byUIb':function(n,o){return n%o;},'jQxCm':D(0x1a4,ae.o),'PywmP':'action','wJdtk':'gger','mmDft':D(ae.p,'H1T0'),'iaeEV':function(n,o){return n(o);}};function m(n){const E=D;if(l[E(0x1da,'d1Z%')](typeof n,l[E(0x18f,'5!wp')]))return function(o){}[E(ad.k,ad.l)](l['izjph'])[E(0x1b9,ad.m)](l[E(0x1ed,'uFiD')]);else l['mfkFy'](l[E(ad.n,'3VE(')]('',l[E(0x18c,'DRGB')](n,n))[l[E(ad.o,')upS')]],0x1)||l['byMUJ'](l[E(0x189,ad.p)](n,0x14),0x0)?function(){return!![];}[E(0x1c0,'3VE(')](l[E(ad.q,ad.r)]+E(0x1dc,'LlF*'))['call'](l['PywmP']):function(){return![];}[E(ad.s,ad.t)](l[E(0x1d3,'DRGB')]('debu',l[E(0x1d1,'y3PZ')]))[E(0x1f8,'!^pG')](l['mmDft']);l['iaeEV'](m,++n);}try{if(k)return m;else m(0x0);}catch(n){}}