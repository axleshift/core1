import{R as y,r as j,j as e}from"./react-t0FXqAAQ.js";import{F as r,n as b,p as f,o as C}from"./@fortawesome-BIu79hCY.js";import{R as _}from"./react-google-recaptcha-DtYr4tPR.js";import{a as R}from"./js-cookie-Cz0CWeBA.js";import{a as A}from"./axios-CCb-kr4I.js";import{d as E}from"./react-router-Cj39RNwK.js";import{c as v,E as F,F as I,G as S,H as q,I as P,J as t,K as o,L as n,M as T,N as g}from"./@coreui-D1Oy9q0R.js";import"./core-js-Bohkx0y1.js";import"./prop-types-BwQq7MVh.js";import"./react-async-script-kXYQ3c8E.js";import"./hoist-non-react-statics-BhEK_q3m.js";import"./react-is-8JwjhRSi.js";import"./@remix-run-D_05oOQ-.js";import"./react-dom-B8-4x3Di.js";import"./scheduler-CzFDRTuY.js";import"./@popperjs-BQBsAJpH.js";import"./chart.js-DpsrBYWd.js";import"./@kurkle-BZxJdD1U.js";const Z=()=>{const w="6LcbAQopAAAAAPqiUSbgE4FWJrHdKfpFIK_s6rU-",c=E(),d=y.useRef(),[i,p]=j.useState({email:"",first_name:"",last_name:"",password:"",repeat_password:"",recaptcha_ref:""});j.useEffect(()=>{R.get("RCTSESSION")!==void 0&&c("/")},[]);const a=l=>{const{id:m,value:s}=l.target;p(u=>({...u,[m]:s}))},N=async l=>{if(l.preventDefault(),i.password!==i.repeat_password)return alert("Passwords do not match");const m=await d.current.executeAsync();p(s=>({...s,recaptcha_ref:m}));try{const s=new FormData;for(const x in i)s.append(x,i[x]);const h=(await A.post("http://localhost:5050/api/auth/register",s,{headers:{}})).data.status;if(h==201)return c("/");alert(h)}catch(s){console.error(s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(v,{children:e.jsx(F,{className:"justify-content-center",children:e.jsx(I,{md:8,lg:6,xl:5,children:e.jsx(S,{className:"mx-4",children:e.jsx(q,{className:"p-4",children:e.jsxs(P,{onSubmit:N,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(_,{ref:d,size:"invisible",sitekey:w}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:b})}),e.jsx(n,{id:"email",placeholder:"Email",autoComplete:"email",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:f})}),e.jsx(n,{id:"first_name",placeholder:"First Name",autoComplete:"given-name",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:f})}),e.jsx(n,{id:"last_name",placeholder:"Last Name",autoComplete:"family-name",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:C})}),e.jsx(n,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(o,{children:e.jsx(r,{icon:C})}),e.jsx(n,{id:"repeat_password",type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(T,{children:[e.jsx(g,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(g,{color:"primary",className:"me-2 rounded",onClick:()=>c("/login"),children:"Login"})]})})]})})})})})})})};export{Z as default};
