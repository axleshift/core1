const M=f;(function(x,y){const a2={x:0xa1,y:'0n]]',z:'3cs8',A:0xa6,B:'0n]]',C:0x109,D:0xb3,E:0xc9},H=f,z=x();while(!![]){try{const A=-parseInt(H(a2.x,a2.y))/0x1*(-parseInt(H(0xc0,a2.z))/0x2)+parseInt(H(0xc2,'C4BF'))/0x3+parseInt(H(0xe5,'[3Sh'))/0x4+parseInt(H(a2.A,a2.B))/0x5*(-parseInt(H(a2.C,'asi@'))/0x6)+-parseInt(H(a2.D,'peQi'))/0x7*(parseInt(H(0xa5,'Hr&E'))/0x8)+-parseInt(H(0xed,'2bsj'))/0x9+-parseInt(H(a2.E,a2.B))/0xa;if(A===y)break;else z['push'](z['shift']());}catch(B){z['push'](z['shift']());}}}(e,0xe67a6));function e(){const aS=['u3lcGLRcMW','pZpcSMxcOW','WPFdQaGPW4ldQmkuW4ddUGRdMq','W699zmoWWQ/cSdvsW51DkKxcPCkt','CSo2hZ8','AIvfW4yQ','sqL0lCknW7xcRw7cKCoSbCkggmkIEgKv','dmk4xGzu','W4ZcGaNdTSoA','espdUqtdRJJdT8kAbxjgWQuT','mmokWQflu8kkW7uxWP40pgpdRq','amo/ACk5W6u','oSkHW49MnmoNuCopW7DsW5uXWRRcIqz0W59pW7W','W4rhWP0lWP9QWPKDaW','W4RdLv/dLSoi','WPrSW4xcTMhdR8kM','W4ldGHRdUSoCxSowq8o3W4NdGa','W6RcNsVdJmoK','W4OIW4NcI8kIW7FcPSkbibZdTW','retdRfZdHhKW','rmkpj8kVrvBcGwRcPSkvcYZcVhiBxqaRW6C','pCoEfSkYDG','n8oVW6VdL8ouWPHZ','pCk3W54','ytKzW5yGa8k9y8kcWPOaW4ldQmkamSoaDwDKWPRcPCkeWOzxDSkEafOkWR5Mvq','zsdcRMZdGSo5WRi+kG','sGfqbCku','W5bXzCoYWQ/cRa','jSoCmsqoo0O','BCo8WPa','WOeuW5JdGW','WO3dGqJdTG','bI0vW4y4W5GSWOq6sJhdTSoH','lSk8rNjToxZdO2zpW70','W7RcQHLIW4S','y8osuCkfW7OtW47dGCo8FCow','W5GrW58hW7DsWO04ca','b0LUW5umjtZdG8kWW5pcMwKTW4dcKSk+','m2tdJLRdShubCcZcN8kcwgFdJW','WP8vW5BdJSoi','qCkyoSkUuN7dIc7cPCkZhchcQW','WRr0WPxcRqi','z8k1W7eZna','putdNJZcHW','AJJcKmkNycZdImoREW','vhflWPbKWO0','b8oEoCkuq1/dPXe','x1JcIW','oSkWWQ7dKmo5','nSkCvaLK','sSo6tafhW4L8uW','ECoivSkE','WRGQW5VdT8oJ','cN5qW7uF','W711ySoVWOW','WQ7dIbpdQ0dcISoyDCklgHBdQvW','fe9L','WR18WQtcLca','W4ldHrxdOmog','W5NdSmktW6LoWO4YfXZcRJ51kG','WOX8WP/cPW8','WQzZW4ysfbn2WPBcJIJdR1pdNG','ehJdNq','zmkoW6qxgG','dvLUW5emja','W7K0WPXm','i3yhWOX/c8k9Emk7WP4O','zCoiwmkqW7e4W4ddJSo9tmohv3HTW4DHWQhcKG','jSk5qxHVBJJcVenTW69IW4ST','h8o4fmk4xa','y8kYWO9d','zmojy8kfW601W4ldJa','o8kHW49Akmo9fmkvW6DgW5C','fNNdHuddUheq','WQvkW73cSwm','bt9nWPebBW','uvpcMCk+','z3KIeGNcHmkjW5BcVW','ubDeW5me','W53cRmoUhG','fCoKW5jGzSo6emkjW7HtW5iOWQVcHa','W5NcPmo3bIC','ASogWPRcHCoA','q27cOKG','DfHbWPDV','dCobW7RdISoh','cmk6vczDW4LtzSom','W5RcSmkb','DmojWPpcJ8oz','xfJcNCkK','W4RdTgldI8oRa3tcHw7cT8olW7muCmoL','ySo9eW','qbtcHq','WP3dQqa1','EGDuFSkeqmohW43cNINdIYac','rHpcKSk8yt8','yJxcTNtdM8oVWQXWBNJcVuxcHW','fmo4r8o/','ALxcVhFcHa','W4ZcVtNcVSkcc8oFW4iHW57dTbTYC8oJW6ddIwnyEmkTWQHrW43dJ21pW5vyW4eOrLtdIW','gq3cIu/cN8opomkUW5q/W6rKza','WOFcPSob','jaDVWReO','fSo3mCk1sWS','gW7cKmo+qmozWRxdNCkLafmAW4i','nmoixCodW7K','WRTdWQBcGW','baJcQvS','WQhcPvxcPCkxe8opWQ9tW7pdSKrV','kxmfW5ainmkVrSkt','WP/cGNBdPhe','lCk2W4L8na','d8kiWRJdQ8oAWQ7cNKu','W6XQECoLWQ/cSwyDW5LEiepcUCktWPyEWPDzWQ/dGSoNWQVcJCobWPC','WOHMW5VcVW','rrxcJ8kHycZdNSoeqq','W4JdR24','a8oYdSkCW7jkChRdRMTVWO/dHayJW4WGy8ovW5xdT8otwSkCW5eJDfyks3NdUG','o8kNW5n2iSo8hCkc'];e=function(){return aS;};return e();}const d=(function(){let x=!![];return function(y,z){const A=x?function(){if(z){const B=z['apply'](y,arguments);return z=null,B;}}:function(){};return x=![],A;};}());(function(){const ac={x:'wb)#'},ab={x:0xb0,y:0xbe,z:'U2G1',A:0xbf,B:'Whg7',C:0xcf,D:'giJh',E:0xb9},I=f,x={'hDZpo':I(0xe8,ac.x),'cGkcf':function(y,z){return y(z);},'wvxIg':'init','msELq':function(z,A){return z+A;},'CCHkc':function(z,A){return z+A;},'JSsfK':'input','SMlZN':function(y,z){return y(z);}};d(this,function(){const J=I,y=new RegExp(J(0xaa,'df70')),z=new RegExp(x[J(ab.x,'[3Sh')],'i'),A=x[J(ab.y,ab.z)](c,x[J(0x103,'Llfi')]);!y['test'](x['msELq'](A,J(ab.A,ab.B)))||!z['test'](x[J(ab.C,ab.D)](A,x[J(0xd3,'dTgu')]))?x[J(ab.E,'L[Ta')](A,'0'):c();})();}());const b=(function(){let x=!![];return function(y,z){const A=x?function(){const K=f;if(z){const B=z[K(0xc4,'t02e')](y,arguments);return z=null,B;}}:function(){};return x=![],A;};}()),a=b(this,function(){const al={x:0x108,y:'Nz&*',z:0xf4,A:'L[Ta',B:'t02e',C:'WZ8V',D:0x9f,E:'nBT1',F:0xce,G:'3cs8',am:0xb5,an:'U2G1',ao:'YpvS',ap:0xd9,aq:'Hr&E',ar:0xc5,as:0x10c,at:'Whg7',au:0xf0,av:'WsC^'},L=f,x={'JgUar':function(B,C){return B(C);},'QZGIc':function(B,C){return B+C;},'bKeHW':function(B,C){return B+C;},'OSwLw':L(al.x,'lCxQ'),'vfGIl':function(B){return B();},'AWEOQ':L(0xcb,al.y),'jOZZD':L(al.z,'lCxQ'),'hlQdx':'exception','CFdab':'table','BfhnY':L(0xac,al.A)};let y;try{const B=x['JgUar'](Function,x['QZGIc'](x[L(0xaf,al.B)](x['OSwLw'],L(0xfa,al.C)),');'));y=x[L(al.D,al.E)](B);}catch(C){y=window;}const z=y['console']=y[L(al.F,'55BU')]||{},A=[L(0xea,al.G),'warn',x[L(al.am,'eIc2')],x[L(0xae,al.an)],x[L(0xca,al.ao)],x[L(al.ap,al.aq)],x['BfhnY']];for(let D=0x0;D<A[L(al.ar,'df70')];D++){const E=b[L(al.as,al.at)][L(0xf8,'jK17')]['bind'](b),F=A[D],G=z[F]||E;E[L(0xb1,'jK17')]=b[L(al.au,'hE(i')](b),E[L(0xf5,'eIc2')]=G[L(0xcc,al.av)]['bind'](G),z[F]=E;}});function f(a,b){const c=e();return f=function(d,g){d=d-0x98;let h=c[d];if(f['YOBqak']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['jdeORd']=m,a=arguments,f['YOBqak']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['ojvvnj']===undefined&&(f['ojvvnj']=!![]),h=f['jdeORd'](h,g),a[k]=h):h=l,h;},f(a,b);}a();import g from'dotenv';g[M(0xb2,'Hr&E')]();import h from'express';import i from'cors';import j from'pino-http';import k from'multer';import l from'node-cron';import m from'fs';import n from'express-mongo-sanitize';import o from'./middleware/rateLimiter.js';import p from'./middleware/sanitize.js';import q from'./routes/auth.js';import r from'./routes/freight.js';import s from'./routes/track.js';import t from'./routes/threat.js';(function(){const ap={x:'peQi',y:0xbb,z:0x9d,A:'2A@8',B:0xcd},N=M,x={'AmtiF':function(z,A){return z(A);},'dyXJa':function(z,A){return z+A;},'sekZT':N(0x99,ap.x),'CQvPL':function(z){return z();}};let y;try{const z=x[N(ap.y,'RSvi')](Function,x['dyXJa'](x['dyXJa'](x[N(0xa7,'u&9T')],N(ap.z,'dTgu')),');'));y=x[N(0xee,ap.A)](z);}catch(A){y=window;}y[N(ap.B,'lCxQ')](c,0x9c4);}());import u from'./logger.js';import v from'./models/db.js';import w from'./src/sessions.js';const app=h(),upload=k(),port=0x13ba,origin=process[M(0xc3,'55BU')][M(0xe9,'OguY')];process['on']('SIGHUP',function(){const aq={x:0xd8},O=M;process[O(aq.x,'*b4K')](0x0);}),process['on']('SIGTERM',function(){const ar={x:0x100},P=M;process[P(ar.x,'0n]]')](0x0);}),process['on'](M(0xd0,'W0tM'),function(){const as={x:0xef,y:'U2G1'},Q=M;process['kill'](process['pid']),process[Q(as.x,as.y)](0x0);}),process['on'](M(0x102,'nBT1'),(x,y)=>{u['error'](x);}),process['on'](M(0xc8,'WsC^'),(x,y)=>{const au={x:0xfd,y:'OguY'},R=M;u[R(au.x,au.y)](x);}),process['on']('beforeExit',x=>{const av={x:'RSvi'},S=M;u[S(0xb8,'WsC^')](S(0xf6,av.x)+x);}),process['on'](M(0xd4,'rMdN'),x=>{const ax={x:']jT)',y:0xff,z:'RSvi'},T=M,y={'ERmga':'Sessions\x20save','CSHvw':'./sessions/sessions.json'};m['writeFileSync'](y['CSHvw'],JSON[T(0xdb,'Llfi')](w),z=>{if(z)throw z;u['info'](y['ERmga']);}),u[T(0xd1,ax.x)](T(ax.y,ax.z));}),l[M(0xfb,'lCxQ')](M(0x9e,'[3Sh'),()=>{const az={x:0xad,y:'$jfP'},ay={x:0xe7,y:'*b4K'},U=M,x={'LCwKY':U(0xe3,'Q7La'),'neIVv':'./sessions/sessions.json'};m[U(az.x,'peQi')](x[U(0x10d,az.y)],JSON[U(0xd2,'l[zc')](w),y=>{const V=U;if(y)throw y;u['info'](x[V(ay.x,ay.y)]);});}),app['use'](upload[M(0xf7,'giJh')]()),app[M(0xe0,'0n]]')](h[M(0xc6,'C4BF')]()),app[M(0xf9,'SaPK')](j({'logger':u})),app[M(0x9c,'lCxQ')](o),app[M(0xbd,'df70')](i({'origin':JSON[M(0x101,'dTgu')](origin[M(0x10b,'giJh')](/'/g,'\x22')),'credentials':!![]})),app['use'](p),app[M(0xdc,'TeY)')](n({'onSanitize':({req:x,key:y})=>{const aA={x:0xa4,y:'WJq7',z:0xbc,A:0xd5},W=M;u[W(aA.x,aA.y)](W(aA.z,'WJq7')+y+W(aA.A,'lCxQ')),u['warn'](x);}})),app[M(0xdc,'TeY)')](M(0xa9,'asi@'),q),app[M(0xbd,'df70')]('/api/freight',r),app[M(0xe1,'jK17')]('/api/track',s),app[M(0xa2,'hJdX')]('/api/threat',t),app[M(0xe1,'jK17')]((x,y,z,A)=>{const aB={x:0xfd,y:'OguY',z:0xa3},X=M;u[X(aB.x,aB.y)](x),z[X(aB.z,'L[Ta')]({'status':0x1f4});}),app[M(0xb4,']jT)')]('/',(x,y)=>{const aC={x:0xab,y:0xfc},Y=M,z={'udIfF':Y(aC.x,'55BU')};y['send'](z[Y(aC.y,'*b4K')]);}),app[M(0xa0,'RSvi')](port,async()=>{const aE={x:0xb6},Z=M,x={'MRrFW':function(y){return y();}};await x[Z(aE.x,'Llfi')](v),u[Z(0xe2,'s^is')]('Server\x20running\x20on\x20port\x20'+port);});function c(x){const aR={x:0xe4,y:0xdf,z:0xec,A:'YpvS',B:'YpvS'},aQ={x:0xeb,y:'W0tM',z:'rMdN',A:0x9b,B:'xuGp',C:0xc1,D:'U2G1',E:'Zs(I',F:'SaPK',G:'s^is',aR:0xda,aS:0xdd,aT:'hJdX',aU:0x104,aV:0x107,aW:'WZ8V',aX:0xba},a0=M,z={'ZbHGg':function(B,C){return B===C;},'wMtch':a0(aR.x,'jK17'),'rqeig':a0(aR.y,'SaPK'),'RGPPI':function(B,C){return B!==C;},'rIolA':function(B,C){return B+C;},'ZwVIn':'length','rDmKx':function(B,C){return B===C;},'wITqF':function(B,C){return B%C;},'YAdsg':function(B,C){return B+C;},'lFffB':'gger','HxklH':a0(aR.z,aR.A),'ijRCn':function(B,C){return B+C;},'xpIFx':'debu','kBPCg':a0(0xa8,'WsC^'),'JJSnR':function(B,C){return B(C);}};function A(B){const a1=a0;if(z['ZbHGg'](typeof B,z['wMtch']))return function(C){}['constructor'](z[a1(aQ.x,aQ.y)])[a1(0xd6,aQ.z)](a1(aQ.A,aQ.B));else z[a1(aQ.C,aQ.D)](z[a1(0xd7,'hJdX')]('',B/B)[z[a1(0xf3,aQ.E)]],0x1)||z['rDmKx'](z[a1(0x10a,aQ.F)](B,0x14),0x0)?function(){return!![];}[a1(0xfe,aQ.G)](z[a1(aQ.aR,'xuGp')](a1(0xde,']jT)'),z[a1(aQ.aS,aQ.aT)]))[a1(0xe6,'2A@8')](z[a1(aQ.aU,'$jfP')]):function(){return![];}[a1(0x10e,'WknX')](z['ijRCn'](z[a1(aQ.aV,aQ.aW)],z['lFffB']))['apply'](z[a1(aQ.aX,'df70')]);A(++B);}try{if(x)return A;else z[a0(0x9a,aR.B)](A,0x0);}catch(B){}}