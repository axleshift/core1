import{r as n,R as r}from"./_LxKj9PG.js";import{i as e}from"./l-wu8THF.js";import{n as t,b as o,m as a}from"./CjjZDEdp.js";import{p as u}from"./B8aVJnds.js";var i=function(){};function s(n,r){return void 0!==n[r]}function c(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function f(r,e,t){var o=n.useRef(void 0!==r),a=n.useState(e),u=a[0],i=a[1],s=void 0!==r,c=o.current;return o.current=s,!s&&c&&u!==e&&i(e),[s?r:u,n.useCallback((function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];t&&t.apply(void 0,[n].concat(e)),i(n)}),[t])]}function p(n,f,l){void 0===l&&(l=[]);var v,h=n.displayName||n.name||"Component",m=!!(v=n)&&("function"!=typeof v||v.prototype&&v.prototype.isReactComponent),d=Object.keys(f),y=d.map(c);!m&&l.length&&e(!1);var b=function(e){function u(){for(var n,r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];(n=e.call.apply(e,[this].concat(t))||this).handlers=Object.create(null),d.forEach((function(r){var e=f[r];n.handlers[e]=function(t){if(n.props[e]){var a;n._notifying=!0;for(var u=arguments.length,i=new Array(u>1?u-1:0),s=1;s<u;s++)i[s-1]=arguments[s];(a=n.props)[e].apply(a,[t].concat(i)),n._notifying=!1}n.unmounted||n.setState((function(n){var e,a=n.values;return{values:o(Object.create(null),a,(e={},e[r]=t,e))}}))}})),l.length&&(n.attachRef=function(r){n.inner=r});var u=Object.create(null);return d.forEach((function(r){u[r]=n.props[c(r)]})),n.state={values:u,prevProps:{}},n}t(u,e);var i=u.prototype;return i.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(n,r){var e=r.values,t=r.prevProps,a={values:o(Object.create(null),e),prevProps:{}};return d.forEach((function(r){a.prevProps[r]=n[r],!s(n,r)&&s(t,r)&&(a.values[r]=n[c(r)])})),a},i.componentWillUnmount=function(){this.unmounted=!0},i.render=function(){var e=this,t=this.props,u=t.innerRef,i=a(t,["innerRef"]);y.forEach((function(n){delete i[n]}));var s={};return d.forEach((function(n){var r=e.props[n];s[n]=void 0!==r?r:e.state.values[n]})),r.createElement(n,o({},i,s,this.handlers,{ref:u||this.attachRef}))},u}(r.Component);u(b),b.displayName="Uncontrolled("+h+")",b.propTypes=o({innerRef:function(){}},function(n){var r={};return Object.keys(n).forEach((function(n){r[c(n)]=i})),r}(f)),l.forEach((function(n){b.prototype[n]=function(){var r;return(r=this.inner)[n].apply(r,arguments)}}));var j=b;return r.forwardRef&&((j=r.forwardRef((function(n,e){return r.createElement(b,o({},n,{innerRef:e,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))}))).propTypes=b.propTypes),j.ControlledComponent=n,j.deferControlTo=function(n,r,e){return void 0===r&&(r={}),p(n,o({},f,r),e)},j}export{f as a,p as u};
