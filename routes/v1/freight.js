const G=f;(function(m,n){const M={m:0x1ae,n:'PC7p',o:0x1b0,p:0x173,q:'MB]l',r:'L#MX',s:0x182,t:'91Z^',u:0x1b9,v:0x1af,w:'L#MX'},y=f,o=m();while(!![]){try{const p=-parseInt(y(0x1a2,'TXKb'))/0x1+parseInt(y(M.m,'B@aO'))/0x2*(-parseInt(y(0x193,'6(go'))/0x3)+-parseInt(y(0x1b2,M.n))/0x4*(-parseInt(y(M.o,'PC7p'))/0x5)+parseInt(y(0x1df,'Tw&k'))/0x6+-parseInt(y(M.p,M.q))/0x7*(-parseInt(y(0x1e7,M.r))/0x8)+-parseInt(y(M.s,M.t))/0x9+parseInt(y(M.u,'S6N1'))/0xa*(parseInt(y(M.v,M.w))/0xb);if(p===n)break;else o['push'](o['shift']());}catch(q){o['push'](o['shift']());}}}(e,0x4efa4));const d=(function(){const N={m:'TXKb'};let m=!![];return function(n,o){const p=m?function(){const z=f;if(o){const q=o[z(0x179,N.m)](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}());(function(){const W={m:'bshH',n:'XcY8',o:0x1a6,p:0x1c4,q:'6(go',r:0x19c},V={m:'Y4iC',n:0x1a7,o:'c$00',p:0x1b4,q:'apZk',r:'CVZ7',s:0x1a8,t:0x1b1,u:0x195,v:'!21!'},A=f,m={'mwjYr':A(0x17f,W.m),'JKIDG':function(n,o){return n(o);},'ZgRsr':A(0x19a,W.n),'Cqckp':function(n,o){return n+o;},'eCmBV':A(W.o,'bshH'),'GjOoV':A(W.p,W.q),'LjVzJ':function(n,o){return n(o);},'iYtNp':function(n,o,p){return n(o,p);}};m[A(W.r,'TXKb')](d,this,function(){const B=A,n=new RegExp('function\x20*\x5c(\x20*\x5c)'),o=new RegExp(m[B(0x18f,V.m)],'i'),p=m[B(V.n,V.o)](c,m[B(V.p,V.q)]);!n['test'](m['Cqckp'](p,m[B(0x1e2,V.r)]))||!o[B(V.s,'nIdc')](m[B(V.t,'nIdc')](p,m[B(V.u,V.v)]))?m[B(0x192,'lH!W')](p,'0'):c();})();}());const b=(function(){let m=!![];return function(n,o){const p=m?function(){const C=f;if(o){const q=o[C(0x17d,'FzQ)')](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),a=b(this,function(){const a3={m:'dO5s',n:'D@cD',o:0x18d,p:0x1e0,q:0x18a,r:'^@qb',s:'!21!',t:0x1d6,u:'L#MX',v:0x1b7,w:'c$00',x:0x1a5,a4:'TQ*8',a5:0x183,a6:'TXKb',a7:0x196,a8:'qSy9',a9:0x1ab,aa:'PzGe',ab:0x171},D=f,m={'XwDHO':function(q,r){return q+r;},'vWOpa':'return\x20(function()\x20','Vpnem':function(q){return q();},'quKFt':D(0x1e8,a3.m),'LFpmo':D(0x1e9,a3.n),'XeDBs':'exception','pxpxJ':D(a3.o,'qSy9')};let n;try{const q=Function(m[D(0x184,'l]cR')](m[D(a3.p,'PfHG')],D(a3.q,a3.r))+');');n=m[D(0x177,a3.s)](q);}catch(r){n=window;}const o=n['console']=n['console']||{},p=[m[D(a3.t,a3.u)],D(a3.v,'G2Hb'),D(0x18c,a3.w),m[D(a3.x,a3.a4)],m[D(0x1db,'UZXq')],'table',m[D(a3.a5,a3.a6)]];for(let s=0x0;s<p[D(0x1a0,'G2Hb')];s++){const t=b['constructor'][D(a3.a7,a3.a8)][D(a3.a9,a3.aa)](b),u=p[s],v=o[u]||t;t['__proto__']=b[D(a3.ab,'91Z^')](b),t[D(0x18e,'PfHG')]=v[D(0x1bf,'S6N1')]['bind'](v),o[u]=t;}});a();import g from'dotenv';g['config']();import{ObjectId}from'mongodb';function e(){const ax=['WRiuW6ldHG','ygmaW7ZdVG','W4GnWOZdJHBcI2FdPCkdWQRcOCkg','zg0zW7JdVCkt','ua1OkCoH','r3xcTx3dUW','W7JdJ8o0iLNcQW','vWPvpa','cSkOWPXdW7a','pwejW6mZ','wJlcTXO','e1/dUcux','W4eFrCoi','rsHKWRDx','WQFdJgfRqW','WOxdKgXE','rSkAg18DW6ZdQ8kIWQPCWPpdQCoOW7D+WPTcWPhcQCoouCkKWO8kWPOEhCkbW47cPmkEoW','WOZcV1fkra','lSo1W6BdO8o4','iComy8kHbmoj','jmonCSkneG','WPFdPsGDWR4','mhzcW5RdKMhdQCozWPHdemoeW5q','WOJcGqtdJSk9','cmoNWRS8','WPxdKCk/W7vS','W7FdQ2pcHCkhWR0Wlg1Wbq','grb6gG','WP4+W77dI8opxqxdLcfuWR4','WPfmySkHFmkl','bwWwW4iBlb3dK8kuW6RdNSk5','pSoxzq','wmkvr1ma','h8odW7G','W6zPgabo','W5eim8oJmmokBmk+W7hcPZVdLSo0','W7BdRwpcKG','WPaXyNpdRG','kWOGq8oGx8kvWP8','WQvcqmonkGi','rGpcQSkA','t8oZW4qtWQLiWRRcOYDgj8ob','yXvFimoo','k3yvW6G','WQhcVf7dIxm','WRpdIhC+','hSkOCCkDqmo2F0e8ymoGwa','WOP7W5xcMMy','W5ZdMwtcJSk7','EfJcQ0/dGtXRxheHa2vJs2m9W4ZdIum','W4xcG8oHweRcHmkkWQK4W5JcJev8WQZdRmkJCCoQW7VcJmkjWO3dK8kcWR9wBmoGW4ZdTaFcPCo8WOK','gGv8c8k+W68','qeuVW7RdKq','WQdcSdZdGCokW70OoMbwl8oT','WRdcTf7dNua','W5TXjuFdNG','AZaOw8oT','uY7cTbGSW7FdMmoIWRJcQq','W7xcUNRdPNjSW6O','W6NdLmoXlW','kG7dGSoxka','WOBcHJXWq8kwi0lcTclcMSkVWQaNWP9bW4uuWRZdOmoWcmomlmoUWRddPSkXssKivW','xKZdThiIW6O','f8kPWPfj','c3xdOcGd','WORcUrJdISkUnJxcJa','WRSgW6RdQNm','Fty7qmoQFG','xbfqn8ow','W5irgCk3WRG','W7NcNN8EWRTLpmkE','WQq2W4ldTmoH','CG9+kSo1','d3xdRJ8jBmoeWRxdHG','WORcRZVdMW','WPbCW5pcNLVdKq','WPhcLx9sFG','CmoYWR13','f8kPWPrkW6SAWRZcIG','WQNcLvRdQ3O','WRDvrSonkWS','WOpdT8k8W5m','W6JdLmo7jvJcQSkxemoJASkh','brrZgmk/W7q','hhv4W7m','W7hdUbJcKZ8wW7rbAdmjWP4','WQ8sw04','W4erwmoXW45Ttmo4WOhcKYG','WPaXruFdOW','W7RdGmoCgGq','nmkmWR5IW5K','E8k2cCkF','uI9kWPHeCdK','W5errCou','W6HfxSoR','W6jFhHv4','W7/dGCotfW','bvVdQ8oxWO1HpcNcKmoyW7C','bMqyWOrruWhdKSkF','Ec3dNSobnmozW7a','tmkIgCkaiG','Fg/cUCk3E8kKW716i1T0pG','WPddH2DttLHs','WQZdKLbjwW','WQhdNwK2WRG','kt7dQmo3','hHbVeq','W4uvrmooW4e','W7uxdmkCDLZcLs5tgSooCq','bfehC8kwW6biWRxdVmkuW7pcHa','pSoDBmkYbCos','WO40W7e','wdXbWPu','px9JW6nmvG','WRboz8oqnWxcGrG','W4pcPCoGWO4cAMuMW77dRmkY','WPFdHxjwua','BSk6ca','WPBcGGNdMSkw','WQNdG2KVWRu','DmkGhmoik8oBoNm','hr5CdCk5W70Y','W4XNWQJcGmkihWRdPH9sWQi4','ibvUf8kM'];e=function(){return ax;};return e();}import h from'express';import i from'../../src/logger.js';import j from'../../models/db.js';(function(){const a8={m:'X2Kn',n:0x17c,o:0x1a4},a7={m:0x1da,n:'^@qb',o:'TQ*8',p:0x191},E=f,m={'qDCYh':function(p,q){return p(q);},'lnmAR':function(p,q){return p+q;},'LFWYb':E(0x17e,a8.m),'itaru':E(0x1d9,'D@cD'),'vBhcI':function(p){return p();}},n=function(){const F=E;let p;try{p=m[F(a7.m,a7.n)](Function,m[F(0x199,a7.n)](m[F(0x172,a7.o)],m[F(a7.p,'!21!')])+');')();}catch(q){p=window;}return p;},o=m[E(a8.n,'!#pV')](n);o[E(a8.o,'ltg8')](c,0x9c4);}());import k from'../../middleware/auth.js';import l from'../../middleware/recaptcha.js';import{getUserId}from'../../src/sessions.js';const router=h[G(0x1be,'ikxT')](),limit=0x14;function f(a,b){const c=e();return f=function(d,g){d=d-0x16e;let h=c[d];if(f['ofwmbI']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['IMDTri']=m,a=arguments,f['ofwmbI']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['wGCPxL']===undefined&&(f['wGCPxL']=!![]),h=f['IMDTri'](h,g),a[k]=h):h=l,h;},f(a,b);}router[G(0x175,'B@aO')]('/',k,async(m,n)=>{const ae={m:0x1ca,n:'v!vm',o:'G2Hb',p:0x1c8,q:0x186,r:'gSNz',s:0x1a9,t:'L#MX',u:'ltg8',v:'G2Hb',w:0x181,x:0x1a3},H=G,o={'FcNgS':function(p,q){return p(q);},'Idshm':function(p,q){return p*q;},'dIZMr':function(p,q){return p-q;},'DCHUR':function(p){return p();},'TIDcA':function(p,q){return p/q;}};try{const p=await o['FcNgS'](getUserId,m[H(ae.m,ae.n)]),q=parseInt(m[H(0x1d0,'!21!')][H(0x1e4,ae.o)])||0x1,r=o[H(ae.p,'G2Hb')](o['dIZMr'](q,0x1),limit),s=await o['DCHUR'](j),t=s[H(ae.q,ae.r)](H(ae.s,ae.t)),u=await t['countDocuments']({'user_id':new ObjectId(p)}),v=await t[H(0x1ad,'bshH')]({'user_id':new ObjectId(p)})[H(0x1d5,ae.u)](r)['limit'](limit)[H(0x1c6,ae.v)]();return n['status'](0xc8)['json']({'data':v,'totalPages':Math[H(0x1aa,'ltg8')](o[H(ae.w,'v!vm')](u,limit)),'currentPage':q});}catch(w){i[H(0x1d2,'uEX$')](w);}return n['status'](0x1f4)[H(ae.x,'TQ*8')]();}),router[G(0x16e,'@H9d')]('/:id',k,async(m,n)=>{const ah={m:0x1d8,n:'Jg%D',o:0x190,p:'COH7',q:0x1dc,r:'gSNz'},I=G,o={'txmTa':function(p,q){return p(q);},'YgRLZ':function(p){return p();},'yoAim':I(0x1b3,'apZk')};try{const p=await o['txmTa'](getUserId,m[I(0x1d1,'c$00')]),q=m['params']['id'];if(!q)return n['status'](0x190)[I(ah.m,'apZk')]();const r=await o[I(0x194,ah.n)](j),s=r['collection'](o['yoAim']),t=await s['find']({'user_id':new ObjectId(p)})['toArray']();if(!t[I(0x1bb,'dO5s')])return n[I(ah.o,ah.p)](0x194)['send']();return n[I(ah.q,'dO5s')](0xc8)[I(0x1d3,ah.r)]({'data':t});}catch(u){i['error'](u);}return n[I(0x1e6,'NHof')](0x1f4)[I(0x1a1,'ikxT')]();}),router['post'](G(0x1c5,'FNcF'),[k,l],async(m,n)=>{const al={m:0x1c2,n:0x1bd,o:0x1bc,p:0x188,q:'mVWt',r:0x1d7,s:0x189,t:'PC7p',u:'G2Hb',v:0x1dd,w:'COH7',x:0x18b,am:'CVZ7'},J=G,o={'QycQj':function(p,q){return p||q;},'CVzFF':J(al.m,'nIdc'),'ITeUT':J(al.n,'L#MX'),'gUHUd':J(al.o,'Jg%D'),'masMv':function(p,q){return p(q);},'vupXc':function(p){return p();}};try{const {shipper:p,consignee:q,shipment:r,shipping:s}=m[J(al.p,al.q)],t=m[J(0x1cc,'v!vm')][J(0x197,'PfHG')];if(o[J(al.r,'apZk')](!p,!q)||!r||!s||!t)return n[J(0x1cf,'mVWt')](0x190)['send']();if(![o['CVzFF'],o['ITeUT'],o[J(al.s,al.t)]][J(0x19b,'c$00')](t))return n[J(0x180,al.u)](0x190)[J(0x178,'uEX$')]();const u=await o['masMv'](getUserId,m['token']),v=await o[J(al.v,'dO5s')](j),w=v['collection']('freight');return await w['insertOne']({'user_id':u,'data':{'shipper':p,'consignee':q,'shipment':r,'shipping':s},'type':t,'created_at':new Date(),'updated_at':new Date()}),n['status'](0xc9)[J(0x17a,'6(go')]();}catch(x){i[J(0x185,al.w)](x);}return n[J(al.x,'wmFX')](0x1f4)[J(0x19e,al.am)]();});export default router;function c(m){const aw={m:'S6N1',n:'PC7p'},av={m:0x19d,n:0x19f,o:'mVWt',p:0x1b5,q:'6(go',r:0x16f,s:0x1c3,t:'PfHG',u:0x1cd,v:'!21!',w:'Jg%D',x:'Y4iC',aw:0x1ac,ax:0x1d4,ay:'91Z^',az:'X2Kn',aA:0x1c1,aB:'apZk'},K=G,n={'XnWNo':'while\x20(true)\x20{}','BzMLn':'counter','oBMzg':function(p,q){return p!==q;},'hTBdJ':function(p,q){return p/q;},'ehYlB':function(p,q){return p%q;},'gFfFZ':function(p,q){return p+q;},'FLKYX':K(0x1e1,'^8*]'),'lXynq':K(0x174,aw.m),'OdnPk':function(p,q){return p+q;},'MHjGH':K(0x1b6,aw.n),'wahva':'stateObject','YzHpC':function(p,q){return p(q);}};function o(p){const L=K;if(typeof p===L(av.m,'S6N1'))return function(q){}[L(av.n,av.o)](n[L(0x1de,'pLTY')])[L(av.p,av.q)](n[L(av.r,'w96M')]);else n['oBMzg']((''+n[L(av.s,av.t)](p,p))[L(0x198,'!#pV')],0x1)||n[L(av.u,av.v)](p,0x14)===0x0?function(){return!![];}[L(0x1e5,av.w)](n['gFfFZ'](L(0x1c9,av.x),n[L(av.aw,'w96M')]))['call'](n[L(av.ax,'qSy9')]):function(){return![];}[L(0x1e3,av.ay)](n['OdnPk'](n[L(0x1ce,av.az)],n['FLKYX']))[L(av.aA,av.aB)](n[L(0x1b8,'ltg8')]);n['YzHpC'](o,++p);}try{if(m)return o;else n['YzHpC'](o,0x0);}catch(p){}}