const z=f;(function(j,k){const K={j:0xbe,k:'NYtY',l:'yQMV',m:0x10c,n:'*%jo',o:0x104,p:0xe5,q:'@loP',r:0xf0},s=f,l=j();while(!![]){try{const m=parseInt(s(K.j,K.k))/0x1+parseInt(s(0xda,K.l))/0x2*(parseInt(s(K.m,'Ztys'))/0x3)+-parseInt(s(0x11c,K.n))/0x4+parseInt(s(K.o,'maFS'))/0x5*(parseInt(s(K.p,K.q))/0x6)+-parseInt(s(K.r,'t(jd'))/0x7+parseInt(s(0x117,'WTR^'))/0x8+-parseInt(s(0xfc,'#2Gl'))/0x9;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x3aab9));const d=(function(){const L={j:0xbb};let j=!![];return function(k,l){const m=j?function(){const t=f;if(l){const n=l[t(L.j,'vM1O')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const U={j:'C7fn',k:'WTR^',l:0xba,m:'xpGc',n:0xc7,o:'#2Gl'},T={j:0x108,k:'7rmf',l:0xad,m:0xc2,n:'@loP',o:0xe4,p:'@hb4'},u=f,j={'sLQNC':u(0xc8,U.j),'aVLql':u(0xfe,U.k),'XRDtU':function(k,l){return k(l);},'QrmrH':u(0xfa,'s]R8'),'bbWmU':function(k,l){return k+l;},'FWuYf':u(U.l,U.m),'MEryp':'input','rIMzE':function(k){return k();},'ckrKy':function(k,l,m){return k(l,m);}};j[u(U.n,U.o)](d,this,function(){const v=u,k=new RegExp(j[v(T.j,T.k)]),l=new RegExp(j['aVLql'],'i'),m=j['XRDtU'](c,j[v(T.l,'J%Lt')]);!k[v(0xca,'6uR%')](j[v(T.m,'r%VN')](m,j[v(0x116,'5ANN')]))||!l[v(0xbc,T.n)](j[v(T.o,'N#k1')](m,j['MEryp']))?j[v(0xdd,'8xHS')](m,'0'):j[v(0x113,T.p)](c);})();}());const b=(function(){let j=!![];return function(k,l){const V={j:'8Dlh'},m=j?function(){const w=f;if(l){const n=l[w(0x115,V.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a4={j:0xb9,k:'Bn9(',l:'7OfX',m:0xb8,n:'7OfX',o:'3jOP',p:'WTR^',q:'@hb4',r:0xa7,a5:0xae,a6:'VnE*',a7:0x100,a8:0x114,a9:0xc5,aa:'5ANN',ab:0xfb,ac:'YuJ$'},a3={j:'@loP',k:'3jOP',l:0xe3},x=f,j={'gEsCC':function(o,p){return o(p);},'BHteJ':function(o,p){return o+p;},'nIYLY':x(0x11b,'8Dlh'),'DSuqb':function(o){return o();},'vUGkb':x(a4.j,a4.k),'thAYv':x(0xab,a4.l),'aUOOs':x(a4.m,a4.k),'HcSys':x(0xf2,a4.n),'EZDwl':x(0xdf,a4.o),'ppqTp':x(0xf8,a4.p),'rczGh':function(o,p){return o<p;}},k=function(){const y=x;let o;try{o=j[y(0xe2,a3.j)](Function,j[y(0xaa,a3.k)](j[y(0xf9,'15Zc')](y(0x105,'8Vs]'),j[y(a3.l,'15Zc')]),');'))();}catch(p){o=window;}return o;},l=j[x(0xd8,a4.q)](k),m=l['console']=l[x(0x119,'5ANN')]||{},n=[j['vUGkb'],j[x(a4.r,'aDzT')],x(0xe1,a4.n),j[x(a4.a5,'maFS')],j['HcSys'],j['EZDwl'],j[x(0xe0,'pHqR')]];for(let o=0x0;j[x(0x10a,a4.a6)](o,n[x(a4.a7,'VnE*')]);o++){const p=b[x(0xed,a4.o)][x(0xf5,'8l5x')][x(a4.a8,'L(JC')](b),q=n[o],r=m[q]||p;p['__proto__']=b[x(0xce,'X%RZ')](b),p[x(a4.a9,a4.aa)]=r[x(a4.ab,a4.ac)][x(0xbf,'7OfX')](r),m[q]=p;}});function e(){const as=['W5/cVmk5W4G','pCoUWPFcQCk3WPZcVCkfW6/dOSkREG','x8k1W6P7yCkoumk+rmoeaW','w13dG8k5cmolvW','W6RcVbq','EbddRJZcKq','W57cGs0wW4NdRmoKdSk4mhK','WQSGcK/dOweaWQXIW7VdJSobCa','pHLzWR0q','WPNdUSoSW4dcHSksW6PeW7i6gCkrkG','jHnlCmkZ','W7qeW57cJvNcSSknyw4','WRfPiG','vCoEzCkurw0aW60np8kY','WPSYW6zZWO7cRCk0WRzx','W5tcGcuk','ESkEt8oKiX3dRI7dVbldK8kY','fIrOrSkr','W5uMW4hcLMS','t2jeea','WOhdVdxcJuVcRCoiW6K','W5DXDsldVsRcPSosgeS','DmkkghddHa','pN1vdSoujdPdWP3cN8oQWOxdQJPRWOX2WPlcTrePW5BdN8orkt5JBuJcUHe3W5Gj','rmouASkdD3yzW6SQkCkUgq','jtpcLKJdNCoM','peFdQfKTWPhcMhRdLdC','W67cIZawW5tdSCo/hSoSlw7cRmkZW4hdJ3HjCq','WOJcMa49W5hdImo0','WRRcPc87xf8s','W5jfssFdLmoVW5O6W7hdQ3eKm0dcNmk6W4SgWPy','W6pdKCkBsmoUxSolybVcRW','WOfQeePX','t8kwW5vgvG','esj7tmkAAxSAW54','oZxcGMJdGq','rmozWOFdU8oNgfOoyxZcHYn6ASoObmo6W7RdPmkBW6tcKmo0ka','WQ8GCJ3cKHz6WPe','vN5caLtdH8oI','z8k2W5u','WQ9ggK8','jWroCSkf','uvhdG8k6m8on','W5nHW5ZcNgjvkNrlEKhdSCoZW7JcU18aW7b5js9+cHO','WPXjc8kRDa','cmkFWPRdUG','yWhcH113','amkFjhSW','v28We8oboh07W6pcNSoTW4K','dCkrWPhdRa','jCkNp1e5qmoK','B8k/W7D7Fmkts8kUemoyemkKia','EqZdMvjHpCo6W4OTWRZdLGhcKrGEW5VcQSovvCkRWQRcMCokFvDKCmoJW6FcJSkolW','rKylW7zobctcG8kBWPNcPXNdKa','o8ogn8kmya','rmoBsSojeKtdOYP5Fmkyo8kK','WReOW51pWPa','W7/cPJCaW7C','W6yDW4/cHG','W456uXVdLa','CXhdKa3cQa','W67cHY0SqW','mqZcJbv+','xCouCSku','W5hdLJ4+','WOFcGalcOJGL','W6RcQGSqrhOKWQVcPbe','WPRcJSkzW4/cUa','bSk9FmkhAa','WQ9igfbpWQNcHmkZWRBdPYq','xMTNjNO','jIr5fCk2','lZLS','WQ9pf0Pv','WOHOpSoAha','WOVcJ8koW54','W7PVEZZdRG','W6ldNSkBsmklimoSCsJcLCklWQ4','W7mvW5pcJa','mKpdOfW6','jsH8W77cNW','xbqUW6xcNW','D8kGnSkdEa','tvxdN8kUiG','mSkNaLyKrCoVW7K','d8obwCow','WOeImLNdKq','umoezCkerxyAW6bzESkCuL8sf8o1','AdbwosJcMmooomkrBvtdIM9AW5HRBCkaW5OUo193rCkwW73cVmoqwhioFW','WOSpW7HJ','W5ffW7HYjqFcLt92mrH1wtldLKDHW5S6W5CyhCoKW5C','EcGbkq','kLVdOuC7','mW5dW6O','i8kLmeS6','qmkWmfddKW','WPhcIX/cPZjRwmoWWPbuF3ZdKSkyW7O','qenxn2u','rcZdHYZcUa','fmoks8omW6FdNNFdO8ojhSoxAwdcUqVdHfe9vG','uqBdItBcJLhcPmkLWQaXnW','BdumW4i/','WOTTj8k4xq','WQPtm8kGuW','W4tdIZeUvwldQwhdQLSW','W4TPWQ3dNw1QlZ3dJXZcNW','yXlcG1H4nG','W5bsuJtdJ8oTWP8','pSo9E8onW4a','W4VcUmkVWPZdIW','W4NcJYejW5G','jbhcNcHI','W7GsW5VcHW','WPJcR8koW6NcSq','W7KNW6ZcV3G','BYCRW4mt','W4RdMSoeWPVdHYFcTZeXWRhdLmkj','iXBcVJzu'];e=function(){return as;};return e();}a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[z(0xc0,'382V')]('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g[z(0xb3,'maFS')](z(0xcb,'6uR%'))&&(sessions=JSON[z(0xc4,'c8tU')](g[z(0xff,'C7fn')](z(0x112,'YF^d'),z(0xe7,'t(jd'))),i[z(0xf6,'3jOP')](z(0x102,'3jOP')));export const addUserProfileToSession=j=>{const a6={j:0x10d,k:'s]R8',l:0xd7,m:0x110},A=z,k={'ERGWq':A(a6.j,a6.k)};if(!sessions[j['email']])sessions[j[A(a6.l,'@hb4')]]={};if(!sessions[j['email']][A(0xdc,'8Vs]')])sessions[j['email']][k[A(a6.m,'WTR^')]]=j;};(function(){const aa={j:0xd4,k:'8xHS',l:0xc9},a9={j:0xef,k:'*%jo',l:0xe6,m:0x107},B=z,j={'cICjp':function(m,n){return m(n);},'Inbsh':function(m,n){return m+n;},'wwSJF':B(aa.j,aa.k),'MMfiJ':B(aa.l,'tsSs')},k=function(){const C=B;let m;try{m=j['cICjp'](Function,j[C(a9.j,a9.k)](j[C(a9.l,'pHqR')]+j[C(a9.m,'xpGc')],');'))();}catch(n){m=window;}return m;},l=k();l[B(0xd5,'J%Lt')](c,0x9c4);}());export const addSession=(j,k,l,m)=>{const ac={j:'7rmf',k:0x10b,l:'L(JC',m:0xf1,n:0xd0},D=z,n={'tOQpN':D(0x11a,ac.j),'abzEt':D(ac.k,ac.l)};if(!sessions[j[D(0xaf,'pHqR')]])sessions[j['email']]={};sessions[j[D(0xcf,'5ANN')]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[D(0x10e,'F8(P')]()},process[D(0xeb,'maFS')][D(ac.m,'WTR^')]&&g['writeFileSync'](n[D(ac.n,'MEXD')],JSON[D(0x109,'WTR^')](sessions),o=>{const E=D;if(o)throw o;i['info'](n[E(0xc1,'X%RZ')]);});};export const getEmailAddress=j=>{const ad={j:'3j&x'},F=z;return Object[F(0xb0,'C7fn')](sessions)[F(0xb1,ad.j)](k=>sessions[k][j]);};export const getUserId=async j=>{const ag={j:'s]R8',k:0x101,l:'382V',m:0xcd,n:0xea,o:'c8tU',p:0xc6,q:'8xHS',r:0xf3},G=z,k={'xgJBG':function(p,q){return p(q);},'gTBqv':function(p){return p();}},l=k[G(0xb7,ag.j)](getEmailAddress,j),m=await k['gTBqv'](h),n=m[G(ag.k,ag.l)](G(ag.m,ag.l)),o=await n[G(ag.n,ag.o)]({'email':l});return i[G(ag.p,ag.q)](o),o[G(ag.r,'@hb4')];};export const removeSession=j=>{const ah={j:0xcc},H=z,k=Object[H(ah.j,'tsSs')](sessions)['find'](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[H(0xdb,'8Dlh')]=![]);}};function f(a,b){const c=e();return f=function(d,g){d=d-0xa7;let h=c[d];if(f['qePhbt']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['hTGfIO']=m,a=arguments,f['qePhbt']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['sVhmLB']===undefined&&(f['sVhmLB']=!![]),h=f['hTGfIO'](h,g),a[k]=h):h=l,h;},f(a,b);}export default sessions;function c(j){const ar={j:'Fi3p',k:0x111,l:'c8tU',m:'L(JC',n:'Fi3p',o:0xd9,p:'3j&x',q:0xd2,r:'s]R8'},aq={j:'xpGc',k:0xfd,l:'MEXD',m:0xd6,n:0xb4,o:'@loP',p:0xe9,q:0xb5,r:'kESj',ar:0xa9,as:0xc3,at:'J%Lt'},I=z,k={'UXRec':I(0xd1,ar.j),'zPxUC':function(m,n){return m+n;},'ZsSCq':function(m,n){return m/n;},'ZOFnH':I(ar.k,ar.l),'eddeJ':function(m,n){return m===n;},'MokLO':function(m,n){return m%n;},'fxeUW':'debu','ZhTHq':I(0x118,ar.m),'nZnIr':I(0xb2,ar.n),'zzDCF':I(ar.o,ar.p),'fOzSX':function(m,n){return m(n);}};function l(m){const J=I;if(typeof m==='string')return function(n){}[J(0xb6,aq.j)](k[J(aq.k,aq.l)])[J(aq.m,'N#k1')]('counter');else k['zPxUC']('',k[J(0xec,'J%Lt')](m,m))[k[J(0xbd,'8Vs]')]]!==0x1||k[J(aq.n,aq.o)](k['MokLO'](m,0x14),0x0)?function(){return!![];}[J(aq.p,'7rmf')](k[J(aq.q,aq.r)]+k[J(aq.ar,'8l5x')])[J(0x10f,'xpGc')](k[J(0xac,'8Vs]')]):function(){return![];}[J(0xf4,'C7fn')](k['zPxUC']('debu',k['ZhTHq']))[J(0xde,'t(jd')](k[J(aq.as,'KO%D')]);k[J(0xd3,aq.at)](l,++m);}try{if(j)return l;else k[I(ar.q,ar.r)](l,0x0);}catch(m){}}