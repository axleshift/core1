import{r as e,j as s}from"./D3kDgYDB.js";import{L as x,G as h,M as j}from"./B_FQ106Y.js";import"./OE35V6-p.js";import{j as g,a as f,b as u}from"./5sY9ub_S.js";import P from"./xz-Ye-a2.js";import{k as v}from"./FDBtgKq2.js";import{C,D as E,E as m,P as S,a0 as k}from"./CRebGdRz.js";import"./CNSOrHVr.js";import"./tpRZQFqq.js";import"./CzFDRTuY.js";import"./WyM-ksIe.js";import"./D3kAHpSt.js";import"./Dw8pycEM.js";import"./8JwjhRSi.js";import"./CQ-yZ3vu.js";import"./BmHAl9XU.js";import"./QmVzVk-k.js";import"./DiDpq0UU.js";import"./CHUBTVDa.js";import"./CXnULsF_.js";import"./CCb-kr4I.js";import"./Cz0CWeBA.js";import"./Cp7XljvA.js";import"./BQBsAJpH.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const X=()=>{const[c,a]=e.useState(!1),[o,p]=e.useState(!1),[r,l]=e.useState({events:[],origin:"",destination:"",status:"",markerPositions:[]}),{id:n}=v(),d=async()=>{a(!0),await axios.get(`${f}/api/v1/track/${n}`,{headers:{Authorization:`Bearer ${cookies.get(u)}`}}).then(t=>{l(t.data)}).catch(t=>{console.error(t),p(!0)}).finally(()=>{a(!1)})};return e.useEffect(()=>{d()},[]),s.jsxs("div",{children:[c&&s.jsx("div",{className:"loading-overlay",children:s.jsx(C,{color:"primary",variant:"grow"})}),o&&s.jsx(P,{}),!o&&s.jsx(s.Fragment,{children:s.jsxs(E,{xs:{cols:1},sm:{cols:2},children:[s.jsx(m,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs(S,{className:"mb-3 bg-dark text-white p-3",children:[s.jsxs(k,{children:[" #",n]}),"Origin: ",r.origin," | Destination:"," ",r.destination," | Status: ",r.status]}),s.jsx(x,{googleMapsApiKey:g,children:s.jsx(h,{mapContainerStyle:{height:"400px",width:"100%"},center:r.markerPositions[0],zoom:10,children:r.markerPositions.map((t,i)=>s.jsx(j,{position:t},i))})})]})}),s.jsx(m,{children:s.jsx("div",{className:"timeline",children:r.events.map((t,i)=>s.jsxs("div",{className:"timeline-event",children:[s.jsx("div",{className:"timeline-date",children:t.date}),s.jsx("div",{className:"timeline-content",children:s.jsx("p",{children:t.description})})]},i))})})]})})]})};export{X as default};
