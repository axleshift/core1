import{R as e,r as s,j as i}from"./Oq9P1Wj_.js";import{R as a}from"./eGqyD3ZN.js";import{a as n,c as t,V as r,b as o}from"./SXpYgdEu.js";import{S as p,C as m,a as h}from"./B0aIOmBi.js";import{A as c}from"./DYkJ8oZ2.js";import{E as d}from"./BGB82IPO.js";import{d as l}from"./Ce_fjdqS.js";import{c as j,X as _,Y as g,Z as f,_ as u,p as x,a as S,b as y,w as b}from"./BnevMnkY.js";import"./deeEeel3.js";import"./NdsU5MZw.js";import"./BXWkExu4.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./CewSaW8v.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./BKB6Vojr.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./BYNIthp4.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./DwMTB8o5.js";const v=()=>{const v=l(),C=e.useRef(),{addToast:w}=n(),[D,I]=s.useState(1),[N,R]=s.useState(!1),[k,z]=s.useState(!1),[A,B]=s.useState({shipper:{shipper_company_name:"",shipper_contact_name:"",shipper_contact_email_address:"",shipper_contact_phone_number:"",shipper_company_address:""},consignee:{consignee_company_name:"",consignee_contact_name:"",consignee_contact_email_address:"",consignee_contact_phone_number:"",consignee_company_address:""},shipment:{shipment_description:"",shipment_weight:"",shipment_dimension_length:"",shipment_dimension_width:"",shipment_dimension_height:"",shipment_volume:"",shipment_value:"",shipment_instructions:""},shipping:{shipping_origin_airport:"",shipping_destination_airport:"",shipping_preferred_departure_date:"",shipping_preferred_arrival_date:"",shipping_flight_type:""}}),$=(e,s)=>{const{id:i,value:a}=e.target;B((e=>({...e,[s]:{...e[s],[i]:a}})))},E=async()=>{if(!k)return z(!0);R(!0);const e=await C.current.executeAsync(),s={...A,recaptcha_ref:e};await axios.post(`${r}/api/v1/freight/b/air`,s,{headers:{Authorization:`Bearer ${cookies.get(o)}`}}).then((e=>{w("Shipment has been confirmed.","Shipment"),v("/dashboard")})).catch((e=>{const s=d[e.status]||"Server is offline or restarting please wait";w(s,"Submit failed!")})).finally((()=>R(!1)))};return i.jsxs(i.Fragment,{children:[N&&i.jsx("div",{className:"loading-overlay",children:i.jsx(j,{color:"primary",variant:"grow"})}),i.jsx(a,{ref:C,size:"invisible",sitekey:t}),k&&i.jsxs(_,{visible:!0,onClose:()=>z(!1),alignment:"center",scrollable:!0,children:[i.jsx(g,{closeButton:!0,children:"Shipment Confirmation"}),i.jsx(f,{children:"Do you confirm that the details you input are correct and accurate?"}),i.jsx(u,{children:i.jsx(x,{color:"primary",onClick:E,children:"Confirm"})})]}),i.jsxs(S,{className:"mb-4",children:[i.jsx(y,{xs:3,md:5,xl:3,className:"image-container d-none d-md-flex",children:i.jsx(b,{fluid:!0,rounded:!0,src:"/images/freight-air.jpg",className:"custom-image",loading:"lazy"})}),i.jsxs(y,{md:7,children:[1===D&&i.jsx(p,{formData:A,handleInputChange:$,handleConsigneeInfo:e=>I(2)}),2===D&&i.jsx(m,{formData:A,handleInputChange:$,handleShipperInformation:e=>I(1),handleShipmentDetails:e=>I(3)}),3===D&&i.jsx(h,{formData:A,handleInputChange:$,handleConsigneeInfo:e=>I(2),handleShippingInformation:e=>I(4)}),4===D&&i.jsx(c,{formData:A,handleInputChange:$,handleShipmentDetails:e=>I(3),handleSubmit:E})]})]})]})};export{v as default};
