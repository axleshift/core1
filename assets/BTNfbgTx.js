import{r as e,R as s,j as a}from"./B29SdWEC.js";import{R as r}from"./Cri8ushB.js";import{b as t,d as i}from"./CBhD6wkh.js";import{c as o,T as m,U as n,ac as l,i as c}from"./CMmVygpm.js";import"./ucIcx5RQ.js";import"./E8MUDNEF.js";import"./4RmQ9_ev.js";import"./CIdotNGq.js";import"./yJGO6Amu.js";import"./BIw_sdFo.js";import"./BFKNndIN.js";import"./BjhGVRpM.js";import"./BFk34ZWe.js";import"./BmTZu7tj.js";import"./CxXfFpkk.js";import"./DPENoFOj.js";import"./Ba2eFa9Y.js";import"./B1ETHe3Q.js";import"./CjjZDEdp.js";import"./K-dupnmX.js";import"./CLdVYh6z.js";import"./DPAjA2jz.js";import"./6cdfdvti.js";import"./OBe_9qlD.js";import"./BXEMiIsG.js";import"./Bb7MnDjl.js";import"./CA9thugF.js";import"./BPjVUy-D.js";import"./C_n0TLp5.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";const j=()=>{const[j,p]=e.useState({email:"",subject:"",message:""}),{addToast:d}=t(),[u,x]=e.useState(!1),g=s.useRef(),h=e=>{const{name:s,value:a}=e.target;p((e=>({...e,[s]:a})))};return u?a.jsx("div",{className:"loading-overlay",children:a.jsx(o,{color:"primary",variant:"grow"})}):a.jsxs(m,{onSubmit:async e=>{e.preventDefault();const s=await g.current.executeAsync();x(!0),axios.post("/mail/send",{...j,recaptcha_ref:s}).then((e=>{if(e.data.error)return d(e.data.error);d(e.data.message),p({email:"",subject:"",message:""})})).catch((e=>{var s,a;const r=(null==(a=null==(s=e.response)?void 0:s.data)?void 0:a.error)||("network error"===e.message?"Server is offline or restarting please wait":e.message);d(r)})).finally((()=>x(!1)))},className:"w-50 mx-auto p-4",children:[a.jsx("h1",{className:"text-center mb-4",children:"Send an Email"}),a.jsx(n,{type:"text",id:"emailInput",name:"email",floatingClassName:"mb-1",floatingLabel:"Email Address",placeholder:"name@example.com",value:j.email,onChange:h,required:!0}),a.jsxs("div",{className:"text-muted mb-3 small",children:[a.jsx("strong",{children:"Note:"})," Use ",a.jsx("code",{children:"all"})," to send to everyone, ",a.jsx("code",{children:"user"})," ","for users only,",a.jsx("code",{children:"email"})," for a specific email, ",a.jsx("code",{children:"admin"})," for admins, and",a.jsx("code",{children:"super admin"})," for super admins."]}),a.jsx(n,{type:"text",id:"subjectInput",name:"subject",floatingClassName:"mb-3",floatingLabel:"Subject",maxLength:50,placeholder:"Enter the subject",value:j.subject,onChange:h,required:!0}),a.jsx(l,{id:"messageInput",name:"message",floatingClassName:"mb-3",floatingLabel:"Message",maxLength:500,placeholder:"Enter your message here",rows:5,value:j.message,onChange:h,required:!0}),a.jsx("div",{className:"text-center",children:a.jsx(c,{color:"primary",type:"submit",className:"mb-3 px-4",children:"Send Email"})}),a.jsx(r,{ref:g,size:"invisible",sitekey:i})]})};export{j as default};
