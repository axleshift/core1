import{r as e,j as s}from"./_LxKj9PG.js";import{m as t}from"./iES6TeWI.js";import{h as r}from"./f4tm6vQK.js";import{b as a}from"./D_oMOPP-.js";import{d as i}from"./BJRa5TG-.js";import{a9 as o,aa as n,ab as m,ac as l,ad as c,ae as d,Q as j}from"./BRvZdRVW.js";import"./C_9exQ7i.js";import"./BXbwj-H9.js";import"./D7qXP50S.js";import"./l-wu8THF.js";import"./BolZgcUW.js";import"./B8aVJnds.js";import"./Itq7e1c5.js";import"./Jc2a8snn.js";import"./CntrzCOs.js";import"./CzKiyaxE.js";import"./C3VBeikk.js";import"./tRrjmjzN.js";import"./BFk34ZWe.js";import"./YV1uDdZ5.js";import"./DoBxDInM.js";import"./C_n0TLp5.js";import"./Bm1zwEvg.js";import"./Ds0C_khL.js";import"./BpzBk2ID.js";import"./BIw_sdFo.js";import"./c7OvE8pj.js";import"./yJGO6Amu.js";import"./lcqsW1nY.js";import"./DIrOWF5t.js";import"./D74OPSAh.js";import"./COFYN2eQ.js";import"./DcHTRIdl.js";import"./K-dupnmX.js";import"./ZZM5rHs7.js";import"./Dw1DiDGf.js";import"./YiBEvX-Q.js";import"./rRm29nvs.js";import"./CzGuHLZU.js";import"./B8Let_61.js";import"./CZm-rpfG.js";import"./CUCxJel0.js";import"./fZjk1EK6.js";import"./BXEMiIsG.js";import"./Bb7MnDjl.js";import"./CA9thugF.js";import"./BPjVUy-D.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";t(r);const p=()=>{const{addToast:t}=a(),[p,u]=e.useState(!0),[h,x]=e.useState([]),b=i();e.useEffect((()=>{(async()=>{axios.get("/freight/calendar").then((e=>x(e.data))).catch((e=>{var s,r;const a=(null==(r=null==(s=e.response)?void 0:s.data)?void 0:r.error)||("network error"===e.message?"Server is offline or restarting please wait":e.message);t(a)})).finally((()=>u(!1)))})()}),[]);const[f,v]=e.useState(r()),y=()=>{const e=window.innerWidth;return e>=1400?5:e>=1200?4:e>=992?3:e>=768?2:1},N=e=>"cancelled"===e?"Cancelled":"received"===e?"Received":"to_receive"===e?"To Receive":"to_ship"===e?"To Ship":"To Pay";return e.useEffect((()=>{const e=()=>{v((e=>e.clone()))};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),s.jsxs("div",{children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsx("button",{className:"btn btn-primary",onClick:()=>{v((e=>e.clone().subtract(1,"days")))},disabled:f.isBefore(r("2025-01-01")),children:"< Previous"}),s.jsx("input",{type:"date",className:"form-control w-auto",value:f.format("YYYY-MM-DD"),min:"2025-01-01",onChange:e=>v(r(e.target.value))}),s.jsx("button",{className:"btn btn-primary",onClick:()=>{v((e=>e.clone().add(1,"days")))},children:"Next >"})]}),s.jsxs(o,{responsive:!0,className:"table-even-width",style:{"--cui-table-bg":"transparent","--cui-table-border-color":"transparent"},children:[s.jsx(n,{children:s.jsx(m,{children:(()=>{const e=[];for(let s=0;s<4;s++)e.push(f.clone().add(s,"days").format("MMMM DD"));return e})().slice(0,y()).map(((e,t)=>s.jsx(l,{className:" text-center text-uppercase fw-bold text-muted poppins-regular table-header-cell-no-wrap",children:e},t)))})}),s.jsx(c,{children:s.jsx(m,{children:(()=>{const e=[];for(let s=0;s<4;s++){const t=f.clone().add(s,"days").startOf("day"),a=h.filter((e=>r(e.created_at).isSame(t,"day")));e.push(a.length>0?a.map((e=>e)):null)}return e})().slice(0,y()).map(((e,t)=>s.jsx(d,{children:s.jsx("div",{className:"d-block text-center",children:e?e.map(((e,t)=>{return s.jsxs(j,{body:!0,className:`bg-${r=e.status,"cancelled"===r?"danger":"received"===r?"primary":"to_receive"===r||"to_ship"===r?"success":"info"} rounded p-3 m-2 text-start text-white`,onClick:()=>b(`/shipment/${e.tracking_number}`),"data-aos":"fade-in","data-aos-delay":""+100*t,children:[s.jsxs("div",{className:"d-flex justify-content-between",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("small",{className:"text-muted d-block",children:"Tracing number"}),e.tracking_number]}),s.jsxs("div",{children:[s.jsx("small",{className:"text-muted d-block",children:"Status"}),N(e.status)]})]}),"none"!==e.courier&&s.jsxs("div",{className:"mb-2",children:[s.jsx("small",{className:"text-muted d-block",children:"Courier"}),e.courier]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("small",{className:"text-muted d-block",children:"To Country"}),e.country]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("small",{className:"text-muted d-block",children:"Items/Weight"}),e.number_of_items+" items"," ",e.total_weight+"kg "]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("small",{className:"text-muted d-block",children:"Amount"}),new Intl.NumberFormat("en-US",{style:"currency",currency:e.amount.currency}).format(e.amount.value)]})]},t);var r})):"No Shipment"})},t)))})})]})]})};export{p as default};
