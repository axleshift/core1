const E=f;(function(k,l){const J={k:0xa6,l:'C@bA',m:0xa5,n:'P(Eh',o:'r@a2',p:0x98,q:'Z](7',r:'V]ou',s:0x8c,t:'Hnc!',u:0xcd,v:'UY5l',w:0x7a},x=f,m=k();while(!![]){try{const n=-parseInt(x(J.k,J.l))/0x1*(parseInt(x(J.m,J.n))/0x2)+parseInt(x(0x64,'#Sly'))/0x3+-parseInt(x(0xc1,J.o))/0x4+-parseInt(x(J.p,'xL]U'))/0x5*(-parseInt(x(0x72,J.q))/0x6)+-parseInt(x(0xce,J.r))/0x7*(-parseInt(x(J.s,J.t))/0x8)+parseInt(x(J.u,J.v))/0x9*(parseInt(x(0x7b,'e!%Y'))/0xa)+-parseInt(x(J.w,'P(Eh'))/0xb;if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0xeb290));const d=(function(){let k=!![];return function(l,m){const K={k:0xb3},n=k?function(){const y=f;if(m){const o=m[y(K.k,'C@bA')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());(function(){const U={k:'Tv29',l:0x76},T={k:0x91,l:'CJ5&',m:0xa4,n:'$j66',o:0xb8,p:'CJ8^'},z=f,k={'vmjhk':function(l,m){return l(m);},'qwZMO':z(0x7c,'@qVM'),'ouObr':function(l,m){return l+m;},'PWXcD':function(l,m){return l+m;},'wyCEh':z(0xba,U.k),'tAwoX':function(l){return l();},'VUPPh':function(l,m,n){return l(m,n);}};k[z(U.l,'B$H*')](d,this,function(){const A=z,l=new RegExp('function\x20*\x5c(\x20*\x5c)'),m=new RegExp(A(0x94,'1]XW'),'i'),n=k[A(T.k,T.l)](c,k['qwZMO']);!l[A(0x70,'P(Eh')](k[A(0xc6,'qfbM')](n,A(T.m,T.n)))||!m[A(0xa3,'C@bA')](k[A(T.o,'MM@w')](n,k['wyCEh']))?n('0'):k[A(0xbf,T.p)](c);})();}()),(function(){const Y={k:0x7f,l:'4^cl',m:0x89,n:0xae},B=f,k={'ZAdWS':function(m,n){return m(n);},'amZrc':function(m,n){return m+n;},'GIozW':'return\x20(function()\x20','Elefr':function(m){return m();}};let l;try{const m=k[B(0xab,'LR4Z')](Function,k[B(Y.k,'MO0U')](k[B(0x71,Y.l)],B(Y.m,'w0oR'))+');');l=k['Elefr'](m);}catch(n){l=window;}l[B(Y.n,'CJ5&')](c,0x9c4);}());const b=(function(){let k=!![];return function(l,m){const Z={k:'r@a2'},n=k?function(){const C=f;if(m){const o=m[C(0x86,Z.k)](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),a=b(this,function(){const a8={k:0xc2,l:0xbb,m:'wmYo',n:0x75,o:0x96,p:0xad,q:'O&NM',r:0x7e,s:0xb2,t:0xaf,u:'tWM9',v:0x83,w:'1]XW',a9:'w0oR',aa:0xbe,ab:0xa1,ac:'%grD',ad:0xb1,ae:0xc8,af:0x9e,ag:0xc0,ah:'@qVM',ai:0x74,aj:0x85,ak:'u!TQ',al:0x77},D=f,k={'eZGRp':function(o,p){return o(p);},'lFjxI':function(o,p){return o+p;},'DxYdg':function(o,p){return o+p;},'rqpbu':D(a8.k,'LR4Z'),'iSToS':function(o){return o();},'AECzu':D(a8.l,a8.m),'cyLZY':D(a8.n,'wmYo'),'CAbWi':D(a8.o,'B$H*'),'xrmVi':D(0x68,'C4Zd'),'HUKlW':function(o,p){return o<p;}};let l;try{const o=k[D(0xb9,'O&NM')](Function,k[D(a8.p,a8.q)](k[D(a8.r,'%grD')](D(a8.s,'wmYo'),k[D(a8.t,a8.u)]),');'));l=k[D(a8.v,a8.w)](o);}catch(p){l=window;}const m=l[D(0x88,'DlGZ')]=l['console']||{},n=[k[D(0x92,a8.a9)],k[D(a8.aa,'O&NM')],D(a8.ab,a8.ac),D(a8.ad,'jtgV'),k[D(a8.ae,'x4DZ')],D(a8.af,'DlGZ'),k[D(a8.ag,'RBW]')]];for(let q=0x0;k[D(0x80,'RBW]')](q,n[D(0x6d,a8.ah)]);q++){const r=b[D(a8.ai,a8.m)][D(a8.aj,a8.ak)]['bind'](b),s=n[q],t=m[s]||r;r['__proto__']=b['bind'](b),r[D(a8.al,'r@a2')]=t['toString']['bind'](t),m[s]=r;}});a();import g from'dotenv';g[E(0xc4,'O&NM')]();import{ObjectId}from'mongodb';import h from'express';import i from'../models/db.js';import j from'../middleware/auth.js';import{getUserId}from'../src/sessions.js';const router=h[E(0x8b,'74$u')]();router[E(0x8a,'Z](7')]('/',j,async(k,l)=>{const ab={k:0x7d,l:'Tv29',m:'C4Zd',n:0xc7,o:'@qVM',p:0xbc,q:'O&NM',r:0x6f,s:'UY5l',t:'B$H*',u:'9R8u',v:0xc9},F=E,m={'XdPgM':function(s,t){return s(t);},'ArwVd':function(s){return s();},'teSxP':F(ab.k,ab.l)},n=k[F(0x6c,ab.m)],o=await m['XdPgM'](getUserId,n),p=await m[F(ab.n,ab.o)](i),q=p[F(ab.p,ab.q)](m[F(ab.r,ab.s)]),r=await q[F(0x9b,ab.t)]({'user_id':new ObjectId(o)})[F(0x9a,ab.u)]();l[F(ab.v,'DlGZ')]({'status':0xc8,'data':r});}),router[E(0x9d,'@qVM')]('/b/:type',j,async(k,l)=>{const ae={k:'V]ou',l:0xa9,m:'C@bA',n:0x66,o:'RBW]',p:0xac,q:0xb0,r:'YZx9',s:0x6a,t:'1]XW',u:0xca,v:'UY5l',w:'Hnc!'},G=E,m={'RgzZq':'air','UxmsQ':function(v,w){return v(w);},'iKHSr':function(v){return v();},'GXbjl':G(0x9f,ae.k)},{shipper:n,consignee:o,shipment:p,shipping:q}=k[G(0xa7,'UY5l')],r=k[G(ae.l,ae.m)]['type'];if(!n||!o||!p||!q||!r)return l[G(0xc9,'DlGZ')]({'status':0x191});if(![m[G(ae.n,ae.o)],G(0x87,'*#%*'),G(ae.p,')VGQ')]['includes'](r))return l[G(ae.q,ae.r)]({'status':0x191});const s=await m[G(0x8e,'x4DZ')](getUserId,k[G(ae.s,ae.t)]),t=await m['iKHSr'](i),u=t['collection'](m[G(0x93,'#Sly')]);await u[G(ae.u,ae.v)]({'user_id':s,'data':{'shipper':n,'consignee':o,'shipment':p,'shipping':q},'type':r,'created_at':new Date(),'updated_at':new Date()}),l[G(0x97,ae.w)]({'status':0xc9});});function e(){const aq=['WP7dRSoLW4a','WRXMnmoyWQW','jx1Fw8kOW6qJ','x8oSWP8BWRW','W70rWOjZ','dHa5W4y1','p8kkWOOk','WPTzj8k+W4m','WPfGWQSclM3dK8og','ESoAW41nDwhdVqldRmoKsgS','emobpZK','ECo+WR7cVSoFu8ovx8kWDxddJGZcImoJ','o8koWOSFksS','WPjsyxBcGWH/W7KraSkMqW','W6dcKCkSW57cNG','kbj8','W5/dTCk5e8op','DfhdKCkTW5pdJxz0EdBdQa','FmoNWQFcSmop','W4GOBvO','WRZcQ8oZW6bR','EsyJaY7cShqMW4rbWRWkC8kFWO9BW4ZcNSkG','kSkFWOKspq','mdKaW5GZ','y8o0W4nszZdcVu3cVCoHW6e','WPzLdSksW6y','WQpcVCozusG5s8oJWO7dIaRcM8kS','W7vGtW3dKa','W5BdQCkuoCo2','W4b1W5pcQmka','zYWW','W5ddNmk/b8oJWOxcQmkbfCkd','WQdcHxChW6enC2/cObyw','W5ddISkFmCoF','wmo7wbua','W5SvobpdMW','eW3cRmkdW4z/bCkVW6NdVmoUvuW','W4hcRCoMW6RcOKnUW7yACCotWRSnWPjuASkYWRT4FINdM8kRW5NdMSkyjxpcSf5znW','W7VdGWO/','W5ddNmk9dCoVWOe','r8o/EYSW','ESoOW4VdUaG','WQ/dS8oHW6jA','W4LVuXvH','WQj0oCoA','g8oakcv1CvRdGSo8','DSosW5FdSqO','W65luZC','rmkAAxy+s2ldR8oYWQ/dRW','CdPUv8kbW4mTW78','iJ/cOSkdf8kmW6D9WPO','eeBcMfucp8o+AIGGW7tdNSoF','W4qwWPOdW6C','W7ealX/dGW','j8kkWPCzmda','Cwb4W5xdRG','W4zNzXf+','zZ1Them','oGDTWQVdVW','Cx1YW5pdPq','WOldPmo4W5nkWP8','mwrrW5G','bSolcdHx','W5q9WOGM','fuXsW47dKG','l8k9W4akWRnRW5/cHIi','WRKBzsDgWPOSWP4','AcW5bsJcRcfTW5zBWQa','FciLga','yHzTi0i','vLFdI8oaWOmIx8kl','W44FW6f1WRhdTq','f3vRW7xdSa','WPfRW4HJrIdcTCkfWQjeW7CKW4qb','lCoAW4FdOf7cLSozlSoSya','WOFdR8o/W4a','W49PW4BcTmkthHK','W5ahWR14WRe','uG8PESkj','W6SYhINdPq','WQqff1jS','W5epWRjDWQm','EGfsfN4','W7DNWQddL8oyW4ORerLK','W7XDdCkBW6ldOd0epa','q0JdQmoyWOG','nCkCW5NdOq','WQTOomohWQzvCG','A3FcTmkdg8k4W4XFWOhcHbSAlmoWmXtdJHLwF8o3igVcGSoBW4qMWPhcSmoVWPCW','BCoNWOSD','qSoVW5DszW0','rgLgWQntW4/cTCohu8omWQ9zdq','WQ3cL1X8W7lcJLz9WOz4WQb5W6pdHG','W59wxdfz','WQVcK8oyW4rv','jmkOWRdcRu0dxru5rmohWOqm','CvNdJ8kmW5y','uu/dMCkAaq','zINdGGDy','t3LAuG3cQ8kgACkfgSkxEGLKpabMs2PbDcXNaqPus2NcOSoquKb6ua','W7xdRCkegW','utTEfLRcSLBdQHO','hcSCW7S','hufTWPbhWP41W6RcVmoZW6e','W6TEqs5X','WPCFp2fmC0K','uIPtfW','qmkFBNyZpsxdQmoCWRhdGSkyW4W'];e=function(){return aq;};return e();}function f(a,b){const c=e();return f=function(d,g){d=d-0x64;let h=c[d];if(f['WBLUtM']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['yCMusu']=m,a=arguments,f['WBLUtM']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['HZtPLb']===undefined&&(f['HZtPLb']=!![]),h=f['yCMusu'](h,g),a[k]=h):h=l,h;},f(a,b);}export default router;function c(k){const ap={k:0x78,l:0xc3},ao={k:0x8f,l:'jtgV',m:0xa0,n:'Z](7',o:'tWM9',p:0xc5,q:0x79,r:'4^cl',s:0xa2,t:'Hnc!',u:'C@bA',v:'%M&u',w:0x6e,ap:0x81,aq:0xb5},H=E,l={'rJYKL':function(n,o){return n===o;},'Bdgrl':'string','cOSkp':'counter','kETQh':function(n,o){return n!==o;},'EpVAu':function(n,o){return n+o;},'xHJSR':function(n,o){return n/o;},'FasMT':function(n,o){return n===o;},'rugln':H(0xcc,'x4DZ'),'nTHEK':H(ap.k,'CXq#'),'GuiAR':H(ap.l,'DiVH'),'LIVSv':function(n,o){return n(o);}};function m(n){const I=H;if(l[I(ao.k,ao.l)](typeof n,l[I(ao.m,ao.n)]))return function(o){}['constructor'](I(0xa8,ao.o))[I(0x99,'x4DZ')](l[I(0xcb,'qfbM')]);else l[I(ao.p,'CJ8^')](l[I(ao.q,ao.r)]('',l[I(ao.s,ao.t)](n,n))[I(0x67,ao.u)],0x1)||l[I(0xb4,ao.t)](n%0x14,0x0)?function(){return!![];}['constructor'](l[I(0x82,'%grD')](l['rugln'],I(0x95,ao.v)))[I(ao.w,ao.r)](l[I(0xb6,'$j66')]):function(){return![];}['constructor'](l[I(0x65,'Xh6o')]+l[I(ao.ap,'9R8u')])[I(0x6b,')VGQ')](I(ao.aq,'74$u'));l['LIVSv'](m,++n);}try{if(k)return m;else l[H(0x69,'x4DZ')](m,0x0);}catch(n){}}