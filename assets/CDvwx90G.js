import{r as a,j as s}from"./kqbr3HuW.js";import{M as e}from"./JbxlQPGC.js";import{F as r,M as t,N as i,O as l,P as n}from"./Cfo6UHCM.js";import{P as o}from"./CgN-7aKy.js";import{a1 as d,N as c,O as m,a2 as p,e as u,f as x,a3 as h,a4 as j,a5 as g,C as y,n as b,a6 as f,Y as N,a7 as C,Z as v,a8 as k,a9 as R}from"./Ci8d9wQg.js";import{a as P,V as w,c as M}from"./BSAC7iy5.js";import{p as S}from"./B51y9YVM.js";import{E as F}from"./URk2IvX2.js";import{d as J}from"./DFarnK1O.js";import"./BgRKNlhe.js";import"./DoV6T4jL.js";import"./oXqQd4Ap.js";import"./CQYGjB7w.js";import"./CJ2-25UQ.js";import"./BqHrj3jM.js";import"./uhX4GmSj.js";import"./BJ13bZ6b.js";import"./c0eKk1Db.js";import"./DbzcfNKS.js";import"./BGKE3O6B.js";import"./DJeUPDeV.js";import"./B0UoamS-.js";import"./HSznFPq-.js";import"./omosduih.js";import"./D3yCfJ5s.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";const A=e=>{const l=a.useRef(null),n=a.useRef(null);return a.useEffect((()=>{document.documentElement.addEventListener("ColorSchemeChange",(()=>{l.current&&setTimeout((()=>{l.current.data.datasets[0].pointBackgroundColor=d("--cui-primary"),l.current.update()})),n.current&&setTimeout((()=>{n.current.data.datasets[0].pointBackgroundColor=d("--cui-info"),n.current.update()}))}))}),[l,n]),s.jsxs(c,{className:e.className,xs:{gutter:4},children:[s.jsx(m,{sm:6,xl:4,xxl:3,children:s.jsx(p,{color:"primary",value:s.jsxs(s.Fragment,{children:["26Hrs"," ",s.jsxs("span",{className:"fs-6 fw-normal",children:["(-12.4% ",s.jsx(r,{icon:t}),")"]})]}),title:"Route Optimization",action:s.jsx(u,{alignment:"end",children:s.jsx(x,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:s.jsx(h,{ref:l,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Hours",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:d("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),s.jsx(m,{sm:6,xl:4,xxl:3,children:s.jsx(p,{color:"info",value:s.jsxs(s.Fragment,{children:["$6.200"," ",s.jsxs("span",{className:"fs-6 fw-normal",children:["(40.9% ",s.jsx(r,{icon:i}),")"]})]}),title:"Freight Cost",action:s.jsx(u,{alignment:"end",children:s.jsx(x,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:s.jsx(h,{ref:n,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Costs",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:d("--cui-info"),data:[1334,18545,9454,1447,34444,2442,1441]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),s.jsx(m,{sm:6,xl:4,xxl:3,children:s.jsx(p,{color:"warning",value:s.jsxs(s.Fragment,{children:["92%"," ",s.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",s.jsx(r,{icon:i}),")"]})]}),title:"Performance",action:s.jsx(u,{alignment:"end",children:s.jsx(x,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:s.jsx(h,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Score",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})})]})};A.propTypes={className:o.string,withCharts:o.bool},o.func.isRequired,o.string.isRequired,o.func.isRequired;const O=({currentPage:a,setCurrentPage:e,totalPages:t,setTotalPages:i})=>s.jsxs(j,{align:"center","aria-label":"Page navigation example",children:[s.jsx(g,{onClick:()=>e((a=>Math.max(a-1,1))),disabled:1===a,"aria-label":"Previous",children:s.jsx(r,{"aria-hidden":"true",icon:l})}),(()=>{const r=[],i=Math.max(1,a-2),l=Math.min(t,i+5-1);i>1&&(r.push(s.jsx(g,{onClick:()=>e(1),children:"1"},1)),i>2&&r.push(s.jsx(g,{disabled:!0,children:"…"},"ellipsis-start")));for(let t=i;t<=l;t++)r.push(s.jsx(g,{onClick:()=>e(t),active:a===t,children:t},t));return l<t&&(l<t-1&&r.push(s.jsx(g,{disabled:!0,children:"…"},"ellipsis-end")),r.push(s.jsx(g,{onClick:()=>e(t),children:t},t))),r})(),s.jsx(g,{onClick:()=>e((a=>Math.min(a+1,t))),disabled:a===t,"aria-label":"Next",children:s.jsx(r,{"aria-hidden":"true",icon:n})})]});O.propTypes={currentPage:o.number.isRequired,setCurrentPage:o.func.isRequired,totalPages:o.number.isRequired,setTotalPages:o.func.isRequired};const q=()=>{const[r,t]=a.useState([]),[i,l]=a.useState(1),[n,o]=a.useState(0),[d,p]=a.useState(!0),{addToast:u}=P(),x=J();return a.useEffect((()=>{(async a=>{await axios.post(`${w}/api/v1/freight`,{page:a},{headers:{Authorization:`Bearer ${cookies.get(M)}`}}).then((a=>{t(a.data.data),o(a.data.totalPages)})).catch((a=>{console.error(a);const s=F[a.status]||"Internal Application Error";u(s,"Submit failed!")})).finally((()=>p(!1)))})(i)}),[i]),s.jsxs(s.Fragment,{children:[d&&s.jsx("div",{className:"loading-overlay",children:s.jsx(y,{color:"primary",variant:"grow"})}),s.jsx(A,{className:"mb-4"}),!d&&0==r.length&&s.jsx(c,{className:"justify-content-center my-5",children:s.jsx(m,{md:6,children:s.jsxs("div",{className:"clearfix",children:[s.jsx("h1",{className:"float-start display-3 me-4",children:"OOPS"}),s.jsx("h4",{children:"You don't have any shipment yet."}),s.jsx("p",{className:"text-body-secondary float-start text-decoration-underline",onClick:a=>x("/freight"),children:"Wanna add one? Click here."})]})})}),0!==r.length&&s.jsxs(s.Fragment,{children:[s.jsxs(b,{className:"d-block d-sm-flex justify-content-left my-2 my-lg-0",children:[s.jsx(f,{options:[{label:"All",value:"0"},{label:"On Route",value:"1"},{label:"Canceled",value:"2"},{label:"Shipped",value:"3"}],className:"mb-3"}),s.jsx("div",{className:"mx-2"}),s.jsx(f,{options:[{label:"Newer",value:"1"},{label:"Older",value:"2"}],className:"mb-3"}),s.jsx("div",{className:"mx-2"}),s.jsx(O,{currentPage:i,setCurrentPage:l,totalPages:n,setTotalPages:o,className:"mb-3"})]}),s.jsx(e,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:r.map((a=>s.jsxs(N,{className:"mb-3",onClick:()=>x(`/v/${a._id}`),style:{cursor:"pointer"},children:[s.jsxs(C,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{}),s.jsx("div",{children:S(a.created_at)})]}),s.jsx(v,{children:s.jsx(k,{children:a.data.shipment.shipment_description})}),s.jsx(R,{className:"bg-dark text-white border-0",children:"Status: On route"})]},a._id)))})]})]})};export{q as default};
