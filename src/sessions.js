const x=f;function e(){const ao=['EMDCWQ3dJq','W5RcGLP/zG','WQNcUW40AdxcUuj7rr5i','WR8zWRFcQ8ot','EvdcRa','t8o2W4xcQWW','W4ddPa4PW5pcVfpdMrD0WQSs','WR57u8oOW6PVW77dOwxdSX/dGMFdVv0eamk/Bd9pamofxa','arddUSozAMru','WPCpW4NcISo2','hYdcQ8otFa','bxzRf8oh','AZ3cLSocDCkkW4WqWPxdKSkFWRJdJ8kcmmoIW6ilxCoIWQ/cNe/cPhrCWP5mtmk0WPq7','g8kUWO10','W5BcQt56W6jqW5xcUmotk0e+i8oGW6a2WRuwvMpcUMjPq0BcRJZcTmkuW67cMG5aaa','hCovWQiKW6FdJ1/dTmkgzmke','W5pcSCouW6y4lSkiWQmj','W7u+WPZcKmoeW6ZcJq','CmoKmmoIW7G','WRxcUmkDk8kR','WQBcV8kHmmkf','W7JdPXyKWRauW53cR8kpbu5WlCoiWQicW4iBkW','h2hcKSkwW50','v1RcQH99','g8ocWQuKW6FdJNNdRSkCAa','W6KbomkA','CspdJmoiDCkk','g8oxWQ0+W78','a0dcMSkKn2LiWP8+imk8','WO5lovNdIW','W6NdQGm4WQW','W6C1h8kWWRC','WRRcPmkuW6lcPG','W5RcU8oWtIG','W5uSqSkCvMXm','FLRcSIO','W6ZcNSoWwq','W7hdV0WYWQ0uWO7dS8kBbunNnSotW6voWPHxF03dUcfWvGpcVq7cU8oNWPNcNNO','emkNW6btiSo4hH7dNwldJSke','xSodW6dcRrVcNmojWOCI','WPhdQSkuW5ui','de9tf8oI','WQNcTqC2zJtdMujavrP1WOa','h3lcSMTV','mdu+W4Cg','W5ZdVSo3WPWtWQyiyCoNs2r+uW','W4VcK3G/WOFdT8k0AwS','h1RcLwS','yConfSo4W5e','WPFcRu9XWPi','gWdcHConA8kZcCkrECku','d8kGWRfhgY7cOmkgCLPsW7aFW5tcJSo1','wSkEWRG/W67dMCkS','du7cLwTU','xSo+W4OQWRfSd8oJW47dNa','faRcH8ogESk4','nLxcMCklW5m','fZlcIW','zCoBfSojW6rPAq','qGxdHCkR','srHzW7GhvGFdMCk5qmkA','W7y9tSoP','W6ZdQWW1','W5rJWONdL8oR','nmosimoBW5jttq','cmk9FgXzWQHF','W4NcHgm+WPRdRCoTmwHZW6BcKCodeSk3jCkSF8oF','imkJWP/dJd3cISkDquLEBG','WRRdH8kTwq5FgmoweG','WOhdPCkvW7SS','W7RcHCo/xG8','W4tdPSk8W49wW6XtzCo+FX1IyL7cKH3dMCoYmgLybgWQ','WQXwW7Xznq','k05be8ok','W6xdLSofW6dcK8olWPNcM8kj','W4hdUZmPWQW','jIW+W5OpWOBdSx9IvSkt','W5RcKwCNWPe','y8ogcSovW7K','W5FdVmooCSkccZ7dVvWw','W6/dRWm4WQ4','p8kGB8oqCW','hJLLW64Irt0','d0/cMw14W41SW6JdUbBcL8kWW6O','W4NcRNWTWQq','W74ZqmkcWRZcRa','W6WaWQydzSk1pq7cQ8okWOfx','crZcV8ogwW','pZS1W5y','W4ywW6ferIW','tmkjW7THWQRdIMpdKmkIBCkL','huztcCopW402WQldL8ohWQuekLDCW6aYgW','WQHwW6Xgnq','ySosWPq/vq','x8oLiZ4NW7apESkQeHVcKdu','hmotWQiZ','aqtcH8oQrG','FwNcPY9e','wmoKjdeMW7DXCmknaaNcRq','ogLypmos','sMdcUYTNW7DYj2a','WOGmDSkw','WPBdJ8kfW7Ov','W6TFWPOyW7/cLXmNgfzME8oDzSkJ','WPhdP8k+q8kuWRddOmofma','zCoBdCouW79GFG','wmoIW6LDls7cM8kacW','W701xCknWRVcP8ki','WQpcG8kxW6dcSCobWOpcLCk4WPdcQJm','W45MWR7dLmop','huztcCopW402WQldL8ogWQegpq','gSkWWQTTatpcQSkAjbfI','WQfLeCk7WQGQWQldLh/dTKBdOeS','aCkKWPTZWOK','cb3cHSohz8k8ga','iNpcJ8kxi8ktW7yJWRFdGCkV','WPunq8knDwrTaq','e1JcIwO','cSk6WRfxgZxcUSkljH98'];e=function(){return ao;};return e();}function f(a,b){const c=e();return f=function(d,g){d=d-0x1e3;let h=c[d];if(f['EGRMbv']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['mGqYZz']=m,a=arguments,f['EGRMbv']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['gsSlsI']===undefined&&(f['gsSlsI']=!![]),h=f['mGqYZz'](h,g),a[k]=h):h=l,h;},f(a,b);}(function(j,k){const G={j:0x258,k:'H5Rg',l:0x211,m:'1h&n',n:'NGgz',o:0x1f7,p:'Uu0v',q:'($j[',r:0x242,s:'xsVx',H:0x21a,I:'xsVx',J:0x1e5},t=f,l=j();while(!![]){try{const m=-parseInt(t(0x23e,'r$aM'))/0x1*(parseInt(t(G.j,G.k))/0x2)+-parseInt(t(G.l,G.m))/0x3*(-parseInt(t(0x23a,G.n))/0x4)+parseInt(t(G.o,'ilF$'))/0x5*(parseInt(t(0x220,'oexP'))/0x6)+parseInt(t(0x1e4,'as@H'))/0x7*(-parseInt(t(0x20b,G.p))/0x8)+-parseInt(t(0x1fb,')if$'))/0x9*(parseInt(t(0x1f0,G.q))/0xa)+-parseInt(t(G.r,G.s))/0xb+-parseInt(t(G.H,G.I))/0xc*(-parseInt(t(G.J,'N!f2'))/0xd);if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0x50b0e));const d=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const Q={j:0x24b,k:'Uu0v',l:0x226,m:'k!!R'},P={j:0x207,k:0x22a,l:'H5Rg',m:'On%0',n:0x257},u=f,j={'tIgeo':u(Q.j,Q.k),'BlsmD':u(Q.l,'k!!R'),'hVlvL':function(k,l){return k(l);},'vPHXs':function(k,l){return k+l;},'agEMv':u(0x236,Q.m),'EvXyy':function(k){return k();},'wxlNq':function(k,l,m){return k(l,m);}};j['wxlNq'](d,this,function(){const v=u,k=new RegExp(j[v(P.j,'Ehsg')]),l=new RegExp(j[v(0x241,'ZVdB')],'i'),m=j[v(0x202,'!KLm')](c,'init');!k['test'](j[v(P.k,P.l)](m,j[v(0x218,P.m)]))||!l['test'](m+v(P.n,'6Fv)'))?m('0'):j['EvXyy'](c);})();}());const b=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const Y={j:'AOcT',k:0x224,l:'wn4I',m:'!KLm',n:0x231,o:'eq0m',p:0x1ef,q:'N!f2',r:0x239,s:0x22c,Z:'($j[',a0:0x248,a1:'RQPI',a2:0x1e9,a3:'ilF$',a4:'ZVdB',a5:'gGOo',a6:0x205,a7:0x200,a8:0x23c},w=f,j={'tACwW':function(n,o){return n(o);},'TLnsB':function(n,o){return n+o;},'rOkfL':w(0x1e3,Y.j),'skGvP':w(Y.k,Y.l),'sXLHQ':w(0x21c,Y.m),'yknKH':w(0x225,'yF!E'),'CrZrM':w(Y.n,Y.o),'gynBZ':w(Y.p,'H5Rg'),'tMFcg':w(0x1e7,Y.q),'vJxFt':function(n,o){return n<o;}};let k;try{const n=j['tACwW'](Function,j['TLnsB'](j[w(Y.r,'N!f2')](j[w(0x1f5,Y.j)],j[w(0x20e,'6Fv)')]),');'));k=n();}catch(o){k=window;}const l=k[w(0x24c,'M[yg')]=k[w(0x252,'H5Rg')]||{},m=[j['sXLHQ'],j[w(0x201,'gGOo')],j[w(Y.s,Y.Z)],j[w(Y.a0,'H5Rg')],w(0x23f,Y.a1),w(Y.a2,Y.a3),j[w(0x21d,Y.a1)]];for(let p=0x0;j[w(0x204,Y.a4)](p,m[w(0x24f,Y.a5)]);p++){const q=b['constructor'][w(0x246,Y.j)]['bind'](b),r=m[p],s=l[r]||q;q[w(Y.a6,'!KLm')]=b[w(Y.a7,')if$')](b),q[w(0x215,'NGgz')]=s['toString'][w(Y.a8,'N!f2')](s),l[r]=q;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};g[x(0x212,'yF!E')]('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g[x(0x230,')if$')]('./sessions/sessions.json')&&(sessions=JSON[x(0x1fd,'ilF$')](g[x(0x20d,'DPsg')](x(0x21f,'1h&n'),x(0x253,'oexP'))),i[x(0x206,'NGgz')](x(0x1fc,'ZVdB')));export const addUserProfileToSession=j=>{const a0={j:0x1f1,k:'k!!R',l:0x244,m:'0(jR',n:0x250,o:'nTst',p:')if$'},y=x,k={'LYjtb':y(0x213,'gGOo')};if(!sessions[j[y(a0.j,a0.k)]])sessions[j['email']]={};if(!sessions[j[y(a0.l,a0.m)]][k[y(a0.n,a0.o)]])sessions[j[y(0x233,a0.p)]][y(0x20c,'Zvyp')]=j;};(function(){const a3={j:'k!!R',k:0x238,l:'DPsg',m:0x23d,n:'B[^1',o:0x210,p:'Uu0v'},z=x,j={'kBbfQ':function(l,m){return l+m;},'xAsZN':z(0x22d,a3.j),'sPmwg':function(l){return l();}};let k;try{const l=Function(j[z(a3.k,a3.l)](j[z(0x21b,'[uBk')],z(a3.m,a3.j))+');');k=j[z(0x1f2,a3.n)](l);}catch(m){k=window;}k[z(a3.o,a3.p)](c,0x9c4);}());export const addSession=(j,k,l,m)=>{const a5={j:0x20f,k:0x22e,l:'nTst',m:0x233,n:')if$',o:'ZVdB',p:'i@JS',q:0x1f4,r:0x1e8,s:0x209,a6:'K5&I'},A=x,n={'BJpup':A(a5.j,'ZVdB')};if(!sessions[j[A(a5.k,a5.l)]])sessions[j[A(a5.m,a5.n)]]={};sessions[j[A(0x1ea,a5.o)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date['now']()},process[A(0x251,a5.p)][A(0x1fe,'r$aM')]&&g[A(a5.q,']SK[')](A(a5.r,'ezY4'),JSON[A(a5.s,a5.a6)](sessions),o=>{if(o)throw o;i['info'](n['BJpup']);});};export const getEmailAddress=j=>{const a6={j:0x23b,k:'!KLm',l:0x256,m:'k!!R'},B=x;return Object[B(a6.j,a6.k)](sessions)[B(a6.l,a6.m)](k=>sessions[k][j]);};export const getUserId=async j=>{const a9={j:0x24a},C=x,k={'nBUuK':function(p,q){return p(q);},'FkhZt':function(p){return p();}},l=k['nBUuK'](getEmailAddress,j),m=await k[C(0x221,'wY20')](h),n=m[C(a9.j,'gGOo')](C(0x24d,']SK[')),o=await n[C(0x259,'$)JG')]({'email':l});return i['info'](o),o['_id'];};export const removeSession=j=>{const aa={j:0x216,k:']SK[',l:0x255,m:0x1fa},D=x,k=Object[D(aa.j,aa.k)](sessions)[D(aa.l,'1h&n')](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[D(aa.m,'SPrs')]=![]);}};export default sessions;function c(j){const an={j:'Zvyp',k:0x208,l:'H5Rg',m:']SK[',n:0x1ed},am={j:'!KLm',k:0x254,l:'gGOo',m:0x1ee,n:'AOcT',o:'VHM&',p:0x1ec,q:'k!!R',r:0x22b,s:0x223,an:'eq0m',ao:0x217,ap:'Uu0v',aq:0x222,ar:0x1f9,as:'wn4I',at:0x227,au:']SK[',av:0x219},E=x,k={'BeaFu':function(m,n){return m===n;},'ccwdV':E(0x1f6,an.j),'qsVgU':E(an.k,'$Pa8'),'nXdfI':E(0x20a,an.l),'KyQxn':function(m,n){return m!==n;},'qPxmo':function(m,n){return m+n;},'FHdVN':function(m,n){return m/n;},'Pufic':'length','KUKma':function(m,n){return m===n;},'gZAEj':function(m,n){return m%n;},'OERwg':'debu','gOBrr':E(0x247,an.m),'XiMpb':function(m,n){return m+n;},'BQncb':E(an.n,'0(jR'),'slvJr':function(m,n){return m(n);}};function l(m){const F=E;if(k[F(0x22f,am.j)](typeof m,k[F(0x1e6,'Ehsg')]))return function(n){}[F(am.k,'DwQx')](k[F(0x1f8,am.l)])[F(am.m,am.n)](k[F(0x235,am.o)]);else k[F(am.p,am.q)](k['qPxmo']('',k['FHdVN'](m,m))[k[F(am.r,'($j[')]],0x1)||k[F(am.s,'ZVdB')](k[F(0x237,am.an)](m,0x14),0x0)?function(){return!![];}[F(am.ao,am.ap)](k['OERwg']+k[F(am.aq,'gGOo')])[F(am.ar,'nY4$')](F(0x232,am.as)):function(){return![];}[F(am.at,')if$')](k['XiMpb'](k['OERwg'],k[F(0x243,am.au)]))[F(0x249,'irzD')](k[F(am.av,'IQIi')]);k['slvJr'](l,++m);}try{if(j)return l;else k[E(0x240,'Ehsg')](l,0x0);}catch(m){}}