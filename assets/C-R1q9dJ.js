import{R as s,r as e,j as i}from"./_LxKj9PG.js";import{F as r,R as t}from"./B3Nt1-ra.js";import{Q as o}from"./3ehjDtqr.js";import a from"./D9496bDv.js";import{H as m}from"./BT9IjqUE.js";import{R as n}from"./CD8lARB7.js";import{a as c,b as l,d}from"./BIYEItPQ.js";import{S as j}from"./DIATM23W.js";import{d as p,k as x}from"./BJRa5TG-.js";import{d as h,b as f,c as u,e as b,h as y,a as g,a2 as N}from"./slvTtaAp.js";import"./C_9exQ7i.js";import"./Itq7e1c5.js";import"./BdJmXjEn.js";import"./C6beQcOE.js";import"./DyqzBXKN.js";import"./BGnBE-TB.js";import"./c7OvE8pj.js";import"./yJGO6Amu.js";import"./BIw_sdFo.js";import"./tRrjmjzN.js";import"./BFk34ZWe.js";import"./lcqsW1nY.js";import"./DIrOWF5t.js";import"./D74OPSAh.js";import"./COFYN2eQ.js";import"./BJtv0x2K.js";import"./CjjZDEdp.js";import"./K-dupnmX.js";import"./ZZM5rHs7.js";import"./Dw1DiDGf.js";import"./YiBEvX-Q.js";import"./rRm29nvs.js";import"./CzGuHLZU.js";import"./B8Let_61.js";import"./CZm-rpfG.js";import"./fZjk1EK6.js";import"./BXEMiIsG.js";import"./Bb7MnDjl.js";import"./CA9thugF.js";import"./BPjVUy-D.js";import"./C_n0TLp5.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";import"./DDOxyIcP.js";import"./C2AYaTsA.js";const v=()=>{const{user:v}=c(),k=s.useRef(),{addToast:S}=l(),[C,R]=e.useState([]),[w,$]=e.useState(!0),[O,D]=e.useState(!1),[E,F]=e.useState(!1),L=e.useRef(null),T=p(),{id:z}=x();return e.useEffect((()=>{(async()=>{axios.get(`/freight/${z}`).then((s=>R({...s.data,internal:!0}))).catch((s=>{D(!0)})).finally((()=>$(!1)))})()}),[]),w?i.jsx("div",{className:"loading-overlay",children:i.jsx(h,{color:"primary",variant:"grow"})}):O?i.jsx(f,{className:"justify-content-center my-5",children:i.jsx(u,{md:6,children:i.jsxs("div",{className:"clearfix",children:[i.jsx("h1",{className:"float-start display-3 me-4 text-danger",children:"OOPS"}),i.jsx("h4",{children:"There was no shipment found."}),i.jsx("p",{children:"Double check tracking number for any mistake."})]})})}):i.jsxs("div",{children:[i.jsx(m,{children:i.jsxs("title",{children:[z," - Shipment | Axleshift"]})}),i.jsx(b,{visible:E,onClose:()=>F(!1),alignment:"center",scrollable:!0,children:i.jsxs(y,{children:[i.jsx("div",{className:"text-center small",children:i.jsx("span",{children:z})}),i.jsx("div",{className:"d-flex justify-content-center align-items-center",children:i.jsx("div",{ref:L,className:"d-inline-block",children:i.jsx(o,{value:z,className:"rounded-3 border border-3",size:200})})}),i.jsx("div",{className:"d-flex justify-content-center align-items-center",children:i.jsx(g,{onClick:()=>{F(!1),a(L.current,{useCORS:!0}).then((s=>{const e=s.toDataURL("image/png"),i=document.createElement("a");i.href=e,i.download=`Shipment ${z}.png`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}))},className:"px-5 mt-3 bg-body-secondary",children:"Save"})})]})}),i.jsxs("div",{className:"d-flex flex-row justify-content-between align-items-center mb-4",children:[i.jsxs("span",{className:"d-block",children:[i.jsx("span",{className:"text-primary fw-bold small",children:"Tracking Number:"}),i.jsx("br",{}),z]}),i.jsxs(N,{className:"mb-2 mb-sm-0",children:[i.jsx(g,{className:"bg-body-secondary me-2 rounded",onClick:s=>F(!0),children:i.jsx(r,{icon:t})}),C.invoice_id&&i.jsx(g,{className:"bg-body-secondary me-2 rounded",onClick:s=>T(`/invoices/${z}`),children:"Invoice"}),C.documents_id&&i.jsx(g,{className:"bg-body-secondary me-2 rounded",onClick:s=>T(`/documents/${z}`),children:"Documents"})]})]}),i.jsx(j,{data:{form:C,setForm:R,loading:w,setLoading:$}}),i.jsx(n,{ref:k,size:"invisible",sitekey:d})]})};export{v as default};
