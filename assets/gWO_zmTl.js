import{r as s,j as a}from"./Oq9P1Wj_.js";import{M as e}from"./Bg0HqDUA.js";import{F as r,J as t,K as i,L as o}from"./BFkBtbHA.js";import{P as l}from"./NdsU5MZw.js";import{_ as n,a as c,b as d,$ as m,o as p,p as h,a0 as u,c as j}from"./B1wsI-8q.js";import{A as x}from"./xxH8yAVi.js";import{b as y}from"./BZY7POb2.js";import{A as g}from"./BISHnY99.js";import{S as b}from"./CUh_rXdv.js";import{d as f}from"./Ce_fjdqS.js";import"./deeEeel3.js";import"./DoV6T4jL.js";import"./B0pL_gbQ.js";import"./DhxmCZ7v.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";import"./CewSaW8v.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./fHQ1LRrH.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./b9dqFv80.js";import"./VSWDZ_lP.js";import"./B2NO97j6.js";import"./BIq-TSdk.js";import"./Dn-qDmp9.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./2aPQtUzY.js";const N=e=>{const o=s.useRef(null),l=s.useRef(null);return s.useEffect((()=>{document.documentElement.addEventListener("ColorSchemeChange",(()=>{o.current&&setTimeout((()=>{o.current.data.datasets[0].pointBackgroundColor=n("--cui-primary"),o.current.update()})),l.current&&setTimeout((()=>{l.current.data.datasets[0].pointBackgroundColor=n("--cui-info"),l.current.update()}))}))}),[o,l]),a.jsxs(c,{className:e.className,xs:{gutter:4},children:[a.jsx(d,{sm:6,xl:3,children:a.jsx(m,{color:"primary",value:a.jsxs(a.Fragment,{children:["95%"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(-12.4% ",a.jsx(r,{icon:t}),")"]})]}),title:"Fleet",action:a.jsx(p,{alignment:"end",children:a.jsx(h,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(u,{ref:o,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Hours",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:n("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(d,{sm:6,xl:3,children:a.jsx(m,{color:"info",value:a.jsxs(a.Fragment,{children:["10%"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(40.9% ",a.jsx(r,{icon:i}),")"]})]}),title:"Delivery Status",action:a.jsx(p,{alignment:"end",children:a.jsx(h,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(u,{ref:l,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Costs",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:n("--cui-info"),data:[1334,18545,9454,1447,34444,2442,1441]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(d,{sm:6,xl:3,children:a.jsx(m,{color:"warning",value:a.jsxs(a.Fragment,{children:["1 Ton"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",a.jsx(r,{icon:i}),")"]})]}),title:"Weight",action:a.jsx(p,{alignment:"end",children:a.jsx(h,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(u,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Score",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(d,{sm:6,xl:3,children:a.jsx(m,{color:"warning",value:a.jsxs(a.Fragment,{children:["1 Ton"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",a.jsx(r,{icon:i}),")"]})]}),title:"Deliveries by Destination",action:a.jsx(p,{alignment:"end",children:a.jsx(h,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(u,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Score",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})})]})};N.propTypes={className:l.string};const v=()=>{const[t,i]=s.useState([]),[l,n]=s.useState(1),[m,p]=s.useState(0),[h,u]=s.useState(!0),{addToast:v}=y(),w=f();return s.useEffect((()=>{(async s=>{axios.post("/freight",{page:s}).then((s=>{i(s.data.data),p(s.data.totalPages)})).catch((s=>{var a,e;const r=(null==(e=null==(a=s.response)?void 0:a.data)?void 0:e.error)||"Server is offline or restarting please wait";v(r,"Submit failed!")})).finally((()=>u(!1)))})(l)}),[l]),h?a.jsx("div",{className:"loading-overlay",children:a.jsx(j,{color:"primary",variant:"grow"})}):0==t.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"shipment-bg position-absolute top-0 start-0 w-100 h-100"}),a.jsx(c,{className:"justify-content-center my-5",children:a.jsxs(d,{md:7,children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"display-4 fw-bold",children:["Welcome to",a.jsx("span",{className:"text-primary d-block",children:"Your Dashboard"})]}),a.jsx("p",{className:"lead",children:"It looks like you haven't created any shipments yet. Let's get started!"}),a.jsx(g,{className:"mb-3"})]}),a.jsxs(c,{xs:{cols:1},sm:{cols:3},children:[a.jsxs(d,{onClick:s=>w("/book-now"),className:"mb-3",children:[a.jsx("h4",{children:"Ship Right Now"}),a.jsx("p",{children:"Create a new shipment and get started with our services."})]}),a.jsxs(d,{onClick:s=>w("/support"),className:"mb-3",children:[a.jsx("h4",{children:"Customer Support"}),a.jsx("p",{children:"Get help with your shipments or learn more about our services."})]}),a.jsxs(d,{onClick:s=>w("/learn-more"),className:"mb-3",children:[a.jsx("h4",{children:"Learn More"}),a.jsx("p",{children:"Find out more about our services and how we can help you."})]})]})]})})]}):a.jsxs("div",{children:[a.jsx(g,{className:"mb-3 d-block d-md-none"}),a.jsx(N,{className:"mb-4"}),a.jsx("h4",{children:"Shipments"}),a.jsx(e,{breakpointCols:{default:4,1100:3,700:2,500:1},className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map(((s,e)=>a.jsx(b,{shipment:s},e)))}),a.jsx("button",{className:"btn btn-primary rounded-circle position-fixed bottom-0 end-0 m-3",style:{width:"50px",height:"50px",fontSize:"20px"},onClick:s=>w("/customer"),children:a.jsx(r,{icon:o})}),m>1&&a.jsx(x,{currentPage:l,setCurrentPage:n,totalPages:m,setTotalPages:p,className:"mb-3"})]})};export{v as default};
