const D=f;(function(k,l){const K={k:0x11e,l:0x128,m:0x15e,n:0x152,o:0x125,p:'104v',q:0x172,r:'Kf^S',s:0x14c},x=f,m=k();while(!![]){try{const n=parseInt(x(K.k,'9lq@'))/0x1+-parseInt(x(0x17e,'IHqG'))/0x2+-parseInt(x(K.l,'Kf^S'))/0x3+-parseInt(x(0x16e,'&JJt'))/0x4*(parseInt(x(K.m,'HI$*'))/0x5)+-parseInt(x(K.n,'IUdW'))/0x6+-parseInt(x(K.o,K.p))/0x7*(parseInt(x(K.q,K.r))/0x8)+parseInt(x(K.s,'S[DD'))/0x9;if(n===l)break;else m['push'](m['shift']());}catch(o){m['push'](m['shift']());}}}(e,0xf25b7));const d=(function(){const L={k:'IUdW'};let k=!![];return function(l,m){const n=k?function(){const y=f;if(m){const o=m[y(0x170,L.k)](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}());function f(a,b){const c=e();return f=function(d,g){d=d-0x11b;let h=c[d];if(f['JqPwpb']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['xYyAzK']=m,a=arguments,f['JqPwpb']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['NzLutN']===undefined&&(f['NzLutN']=!![]),h=f['xYyAzK'](h,g),a[k]=h):h=l,h;},f(a,b);}(function(){const U={k:'Kf^S',l:0x17f,m:'w^tM'},T={k:'za@^',l:0x123,m:0x171,n:'yefd',o:0x176,p:'IUdW',q:0x158,r:'w^tM',s:'24yZ'},z=f,k={'JwjBf':z(0x154,U.k),'ROBkc':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','ufxtW':function(l,m){return l(m);},'TyhQd':z(0x159,'F(wP'),'TReTZ':function(l,m){return l+m;},'Qufnn':z(0x13e,'c%rg'),'cAywD':function(l){return l();},'gcofZ':function(l,m,n){return l(m,n);}};k[z(U.l,U.m)](d,this,function(){const A=z,l=new RegExp(k[A(0x161,'LcO6')]),m=new RegExp(k[A(0x11d,T.k)],'i'),n=k[A(0x120,'w^tM')](c,k[A(T.l,'[x1M')]);!l[A(0x175,'Bw70')](k[A(T.m,T.n)](n,A(T.o,T.p)))||!m['test'](k[A(T.q,T.r)](n,k[A(0x180,'HI$*')]))?k['ufxtW'](n,'0'):k[A(0x11b,T.s)](c);})();}());const b=(function(){let k=!![];return function(l,m){const n=k?function(){const B=f;if(m){const o=m[B(0x138,'&Lb$')](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),a=b(this,function(){const a1={k:0x16a,l:0x182,m:0x143,n:'&Lb$',o:0x15f,p:'KKYZ',q:0x12b,r:'vNe7',s:'GOr0',t:0x150,u:'BmD6',v:0x144,w:'o3jk',a2:'Kf^S',a3:0x131,a4:'Kf^S',a5:'vNe7',a6:0x130,a7:'w^tM',a8:0x132,a9:'IHqG',aa:0x174,ab:'IUdW',ac:0x183,ad:0x14f,ae:'za@^'},C=f,k={'GAMpA':function(o,p){return o(p);},'WIObF':function(o,p){return o+p;},'kCEgL':'return\x20(function()\x20','PSbIM':C(a1.k,'q%1V'),'GvtTc':C(a1.l,']bbX'),'fRBLN':C(0x126,'O$u9'),'qUofV':C(0x162,'i9E#'),'gDdBq':C(a1.m,a1.n)};let l;try{const o=k['GAMpA'](Function,k['WIObF'](k[C(a1.o,'75nq')](k[C(0x13b,a1.p)],k[C(a1.q,'w^tM')]),');'));l=o();}catch(p){l=window;}const m=l[C(0x137,a1.r)]=l['console']||{},n=[k[C(0x13f,'7]^X')],k[C(0x122,a1.s)],k[C(a1.t,a1.u)],C(a1.v,a1.w),C(0x14a,a1.a2),C(a1.a3,a1.a4),k[C(0x15d,a1.a5)]];for(let q=0x0;q<n[C(a1.a6,'&JJt')];q++){const r=b[C(0x17d,'i9E#')][C(0x178,a1.a2)][C(0x17b,a1.a7)](b),s=n[q],t=m[s]||r;r[C(a1.a8,a1.a9)]=b[C(a1.aa,a1.ab)](b),r[C(a1.ac,a1.a5)]=t[C(a1.ad,a1.ae)][C(0x177,'hrGR')](t),m[s]=r;}});a();import g from'dotenv';g[D(0x173,'UK1A')]();import{ObjectId}from'mongodb';import h from'express';import i from'../models/db.js';import j from'../middleware/auth.js';import{getUserId}from'../src/sessions.js';const router=h[D(0x16d,'75nq')]();router['post']('/',j,async(k,l)=>{const a4={k:']bbX',l:'hrGR'},E=D,m={'knIXx':function(s,t){return s(t);},'oZLPU':function(s){return s();},'uRwMT':'freight'},n=k[E(0x12c,'c%rg')],o=await m[E(0x149,a4.k)](getUserId,n),p=await m[E(0x16c,'oCb8')](i),q=p['collection'](m['uRwMT']),r=await q[E(0x184,a4.l)]({'user_id':new ObjectId(o)})['toArray']();l[E(0x160,'&7nv')]({'status':0xc8,'data':r});}),(function(){const a9={k:0x181},a8={k:0x13d,l:'c%rg'},F=D,k={'mMjSH':function(n,o){return n(o);},'pzAJR':function(n,o){return n+o;},'bRjUo':function(n,o){return n+o;},'GPTMc':F(0x17a,'q%1V'),'ZYIgV':'{}.constructor(\x22return\x20this\x22)(\x20)'},l=function(){const G=F;let n;try{n=k['mMjSH'](Function,k[G(a8.k,'24yZ')](k[G(0x14b,'IUdW')](k[G(0x16b,a8.l)],k[G(0x134,'i9E#')]),');'))();}catch(o){n=window;}return n;},m=l();m[F(a9.k,'i9E#')](c,0x9c4);}()),router[D(0x169,'Np)0')](D(0x166,'q%1V'),j,async(k,l)=>{const ad={k:0x129,l:'&7nv',m:0x153,n:'F(wP',o:0x11c,p:0x145,q:'gEjp',r:0x11f,s:'vNe7',t:0x13c,u:0x155,v:0x12d,w:'q4hl',ae:0x163},H=D,m={'uUBVQ':function(v,w){return v||w;},'AcEZu':H(ad.k,'oCb8'),'pDUDL':'sea','cdxYL':function(v,w){return v(w);},'ryryB':function(v){return v();}},{shipper:n,consignee:o,shipment:p,shipping:q}=k[H(0x12e,ad.l)],r=k[H(0x165,'o3jk')][H(0x147,'IHqG')];if(m[H(ad.m,'vNe7')](!n,!o)||!p||!q||!r)return l[H(0x167,ad.n)]({'status':0x191});if(![m[H(ad.o,'IUdW')],H(ad.p,ad.q),m[H(ad.r,ad.s)]]['includes'](r))return l[H(ad.t,'[x1M')]({'status':0x191});const s=await m['cdxYL'](getUserId,k['token']),t=await m[H(ad.u,'%[v^')](i),u=t['collection']('freight');await u[H(ad.v,ad.w)]({'user_id':s,'data':{'shipper':n,'consignee':o,'shipment':p,'shipping':q},'type':r,'created_at':new Date(),'updated_at':new Date()}),l[H(ad.ae,'$1(2')]({'status':0xc9});});function e(){const ap=['WORcSHz4ysO2yW','FmoPqdqi','W6RdJ8o7iv3cJG','W7hdU8ksACkqWRbpnCkjptm/WRm','W7pdV8oxehG','WRNcQCk4iCkcW4PydvuzWPPopSofu08','hCoQWP7dI8oe','g21iWRlcImkzW4j+WRDrW5m','t8oOtbGW','WOi/WRlcL8of','q2iDWRK','sWdcLCoaA1pdLCoJoafQ','WQ94dSoaW40','WPpdOe4oW4G','W6hdRSoXbfG','FISHW6tdQ8kst8kpWPa','hedcI33cQW','WPa+W5OV','WQWIWPxdRKm','rWrMW7G','pCoEW7Tt','tCoCz8kIFG','W785W6ZcPmo8WRC','kCokd8oiAmklpSkg','qh8BWQm','bSoRWRukWRe5WQCVWRyCW4VcOSox','r8k1W7jg','FCovdSkrC8kCpCkxW4aOf2PPxZhdNmkXswBcTIhdMSomW4hdLCoAlvlcKSk4WP5Y','BqVcP8kUWQq','DrRdKCo6W6G','gwBcSwVcIbu','W789W4zgW5vZWO/cQmkRrSoa','W7/dKtiTWOi','WQlcVmoBpCoB','lfbdWPxcPG','W6VdRmoJC8oeW6P6aafMWOG','WPmzie7cTcu','WQhcPCofnq','WO/dONS1','WQdcPmokomom','xCo6WRPu','WQ/cRSk5nSkzW5DoeXa','c8oqWO3dSCob','DmonvmkhBSkCBSolW5qOgN1YrhBcKmoRbti','WRqeWRNcPW','tGtcKSoiAY7cOmogjGzqiCkv','tqvUW6tdQ8oRW4xdGmk5WRVdKG','WRFdLmo5WRndW6tdSmoPySkLE8khWQK','WReoWRJcPCof','g213W7JdVa','xq90W57dSCoTW5xdKCk7WRxdJa','WQBdO8kB','W7ldHCogmLVcJWtdVG','wCo6WRPu','ELpcNSkNW6S','WOlcR8oUc8ox','WQZcKGDNCa','u8oQW5VdOWq/ANpcMmkWA8oaWR0','W7BdRSoaaMu','WQmlWQ/cT8oi','k2HHW7RdQW','WOGWWOVdMxK','WOuKW4VcRt4','WOu0WPpdGa','muHqemo9uxtcP8on','jepcQde','nwbHnCo2','W6VdQSoGDCocWPSdlJr1WQScwa','EYNdRW','WPRcU8oRDr1JDSoGhmoaW48','WOy+WRxcISos','xJtcMmkgWQK','WQ9+Amojfd7cI8ooaW','WPGIW5e4','xG0qqmkrWQbtqmkBWQxcLfSX','WQPPWPGyWPDT','WQVcVCk0lSkt','W5NcV8k7W7GEWQtcP8oWvW','W4WGW6BcJCo2','DdnjW7ddIq','A8kZWRWOuW','nuddS8kZhq','W6xdHCo7nuBcIG8','WOXChCoMW5O','WP5bWPeuWPS','c8kLW6ihBbBdHWGpW4q5vSkM','W5tdGLpdKCkT','WRSUW4ZcKG','AwJcPSkAW70','qZxcG8kwWRm','oeBdLmkLoG','W5zorwaMda','W4FdRhu1jtuoy3VcRuK','W7WSW7/cSCo0WOTEWPTzmbC','WPLEdmoPW4y','W6OQW6ZcQSoJ','afThha','sq1LW6u','W7lcMCk7W68','WOVcSIBdHmkyW7inECoS','WQhdOSk1ySoD','WRRcPmk1j8kgW5DEdbS','WQhcNSobbmon','fmoGW6zRnCk2WOFcTeCoW5DnpZW','WOiWWP3dMq','WRyYWOFdJ1u'];e=function(){return ap;};return e();}export default router;function c(k){const ao={k:0x151,l:'tAJs',m:'o3jk'},an={k:0x136,l:'7]^X',m:0x156,n:'IBbJ',o:'gEjp',p:0x15b,q:0x14d,r:'LcO6',s:0x14e,t:0x121},I=D,l={'doikE':function(n,o){return n===o;},'JpSBD':'string','kWxFB':'while\x20(true)\x20{}','XMgkx':'counter','KtGPb':function(n,o){return n!==o;},'ipYFW':function(n,o){return n+o;},'YZHMU':function(n,o){return n/o;},'hgFOk':I(ao.k,'vNe7'),'BTcJn':function(n,o){return n+o;},'KansT':I(0x146,'i9E#'),'Pgxcp':I(0x140,ao.l),'dCaCG':'debu','CxxHg':I(0x142,ao.m),'avdIe':function(n,o){return n(o);}};function m(n){const J=I;if(l['doikE'](typeof n,l[J(an.k,an.l)]))return function(o){}[J(an.m,'yefd')](l['kWxFB'])['apply'](l[J(0x139,'&JJt')]);else l[J(0x164,'q%1V')](l[J(0x16f,an.n)]('',l[J(0x127,an.o)](n,n))[l[J(0x15c,'Bw70')]],0x1)||l['doikE'](n%0x14,0x0)?function(){return!![];}['constructor'](l[J(an.p,'&Lb$')](J(an.q,an.r),l['KansT']))[J(0x124,'LcO6')](l[J(an.s,an.r)]):function(){return![];}[J(0x12a,'x&#y')](l[J(0x157,'BmD6')](l[J(0x179,'%[v^')],l[J(0x135,'S[DD')]))[J(an.t,'HI$*')](l[J(0x133,'o3jk')]);m(++n);}try{if(k)return m;else l['avdIe'](m,0x0);}catch(n){}}