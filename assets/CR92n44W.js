import{R as e,r as a,j as s}from"./B29SdWEC.js";import{R as n}from"./Cri8ushB.js";import{P as l}from"./E8MUDNEF.js";import{b as o,e as t}from"./DH9PxLBT.js";import{d as r}from"./BFKNndIN.js";import{c as m,T as d,U as i,a1 as u,i as c}from"./B8X9Gey2.js";const b=({data:l})=>{var b,x,v,f,p,g,y,h,j,C,N,L,_,q,k,A,T,D,z,S,F,R,w,I,P;const{formData:B,setFormData:E}=l,U=e.useRef(),Z=r(),{addToast:$}=o(),[V,X]=a.useState(!1),G=(e,a)=>{const{name:s,value:n}=a.target;E((a=>({...a,[e]:{...a[e],[s]:n}})))};return V?s.jsx("div",{className:"loading-overlay",children:s.jsx(m,{color:"primary",variant:"grow"})}):s.jsxs(d,{onSubmit:async e=>{e.preventDefault();const a=await U.current.executeAsync(),s=B._id?`/update/${B._id}`:"/add";X(!0),axios.post(`/addresses${s}`,{...B,recaptcha_ref:a}).then((e=>{$(e.data.message),Z("/my-addresses")})).catch((e=>{var a,s;const n=(null==(s=null==(a=e.response)?void 0:a.data)?void 0:s.error)||"Server is offline or restarting please wait";$(n,"Submit failed!")})).finally((()=>X(!1)))},children:[s.jsxs("div",{className:"d-block d-lg-flex gap-5",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"From"}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"First and Last Name",name:"name",value:null==(b=B.from)?void 0:b.name,onChange:e=>G("from",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Company",name:"company",value:null==(x=B.from)?void 0:x.company,onChange:e=>G("from",e),required:!0}),s.jsx(u,{className:"mb-3",name:"business_contract",label:"Business Contract",checked:null==(v=B.from)?void 0:v.business_contract,onChange:e=>G("from",e)}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Country",name:"country",value:null==(f=B.from)?void 0:f.country,onChange:e=>G("from",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Address",name:"address",value:null==(p=B.from)?void 0:p.address,onChange:e=>G("from",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Address 2",name:"address2",value:null==(g=B.from)?void 0:g.address2,onChange:e=>G("from",e)}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Address 3",name:"address3",value:null==(y=B.from)?void 0:y.address3,onChange:e=>G("from",e)}),s.jsxs("div",{className:"d-block d-sm-flex gap-3",children:[s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Zip Code",name:"zip_code",value:null==(h=B.from)?void 0:h.zip_code,onChange:e=>G("from",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"City",name:"city",value:null==(j=B.from)?void 0:j.city,onChange:e=>G("from",e),required:!0})]}),s.jsxs("div",{className:"d-block d-sm-flex gap-3",children:[s.jsx(i,{type:"email",className:"mb-3",floatingLabel:"Email",name:"email",value:null==(C=B.from)?void 0:C.email,onChange:e=>G("from",e),required:!0}),s.jsx(i,{type:"number",className:"mb-3",floatingLabel:"Phone number",name:"phone_number",value:null==(N=B.from)?void 0:N.phone_number,onChange:e=>G("from",e),required:!0})]}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"VAT/TAX ID",name:"vat_tax_id",value:null==(L=B.from)?void 0:L.vat_tax_id,onChange:e=>G("from",e)})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"To"}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Name",name:"name",value:null==(_=B.to)?void 0:_.name,onChange:e=>G("to",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Company",name:"company",value:null==(q=B.to)?void 0:q.company,onChange:e=>G("to",e),required:!0}),s.jsx(u,{className:"mb-3",name:"business_contract",label:"Business Contract",checked:null==(k=B.to)?void 0:k.business_contract,onChange:e=>G("to",e)}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Country",name:"country",value:null==(A=B.to)?void 0:A.country,onChange:e=>G("to",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Address",name:"address",value:null==(T=B.to)?void 0:T.address,onChange:e=>G("to",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Address 2",name:"address2",value:null==(D=B.to)?void 0:D.address2,onChange:e=>G("to",e)}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Address 3",name:"address3",value:null==(z=B.to)?void 0:z.address3,onChange:e=>G("to",e)}),s.jsxs("div",{className:"d-block d-sm-flex gap-3",children:[s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Zip Code",name:"zip_code",value:null==(S=B.to)?void 0:S.zip_code,onChange:e=>G("to",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"City",name:"city",value:null==(F=B.to)?void 0:F.city,onChange:e=>G("to",e),required:!0})]}),s.jsxs("div",{className:"d-block d-sm-flex gap-3",children:[s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Email",name:"email",value:null==(R=B.to)?void 0:R.email,onChange:e=>G("to",e),required:!0}),s.jsx(i,{type:"number",className:"mb-3",floatingLabel:"Phone number",name:"phone_number",value:null==(w=B.to)?void 0:w.phone_number,onChange:e=>G("to",e),required:!0})]}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"Type of ID",name:"id_type",value:null==(I=B.to)?void 0:I.id_type,onChange:e=>G("to",e),required:!0}),s.jsx(i,{type:"text",className:"mb-3",floatingLabel:"ID Number",name:"id_number",value:null==(P=B.to)?void 0:P.id_number,onChange:e=>G("to",e),required:!0})]})]}),s.jsxs("div",{className:"d-flex mt-4 mb-3",children:[s.jsx(c,{type:"submit",color:"primary",className:"me-2 rounded",children:"Save"}),s.jsx(c,{type:"button",color:"outline-secondary",className:"rounded",onClick:e=>Z("/my-addresses"),children:"Cancel"})]}),s.jsx(n,{ref:U,size:"invisible",sitekey:t})]})};b.propTypes={data:l.object.isRequired};export{b as F};
