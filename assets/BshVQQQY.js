import{R as w,r as a,j as e}from"./D3kDgYDB.js";import{a as b}from"./QmVzVk-k.js";import{F as t,z as E,y as A,o as R}from"./OE35V6-p.js";import{R as P}from"./D0iU1EWp.js";import{E as I}from"./DJvUpxU9.js";import{d as L}from"./FDBtgKq2.js";import{c as F,C as T,D as _,E as B,P as D,Q as G,R as K,K as O,L as h,N as x,M as f,S as q,O as l}from"./CRebGdRz.js";import"./CNSOrHVr.js";import"./WyM-ksIe.js";import"./dB90dn3U.js";import"./Dw8pycEM.js";import"./8JwjhRSi.js";import"./D3kAHpSt.js";import"./BQBsAJpH.js";import"./tpRZQFqq.js";import"./CzFDRTuY.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const ie=()=>{const g="6LcbAQopAAAAAPqiUSbgE4FWJrHdKfpFIK_s6rU-",s=L(),c=w.useRef(),[d,j]=a.useState(""),[m,y]=a.useState(""),[k,p]=a.useState(!1),[u,v]=a.useState({error:!1,message:""});a.useEffect(()=>{if(cookies.get("RCTSESSION")!==void 0)return s("/")},[]);const C=async r=>{r.preventDefault(),p(!0);const N=await c.current.executeAsync(),o=new FormData;o.append("email",d),o.append("password",m),o.append("recaptcha_ref",N),await axios.post("http://142.93.121.73:5051/api/v1/auth/login",o,{headers:{}}).then(n=>{cookies.set("RCTSESSION",n.data.token,{expires:30});const i=new URLSearchParams(window.location.search),S=i.get("n")?i.get("n"):"/";window.location.href=S}).catch(n=>{console.error(n);const i=I[n.status]||"An unexpected error occurred";v({error:!0,message:i})}).finally(()=>{p(!1)})};return e.jsxs("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:[e.jsx("div",{className:"auth-bg"}),e.jsxs(F,{children:[k&&e.jsx("div",{className:"loading-overlay",children:e.jsx(T,{color:"primary",variant:"grow"})}),e.jsx(_,{className:"justify-content-center",children:e.jsx(B,{md:8,lg:6,xl:5,children:e.jsxs(D,{className:"p-1 p-md-4 shadow",children:[u.error&&e.jsxs(G,{color:"danger",className:"d-flex align-items-center",children:[e.jsx(t,{className:"flex-shrink-0 me-2",icon:E,size:"xl"}),e.jsx("div",{children:u.message})]}),e.jsx(K,{children:e.jsxs(O,{onSubmit:C,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),e.jsx(P,{ref:c,size:"invisible",sitekey:g}),e.jsxs(h,{className:"mb-3",children:[e.jsx(x,{children:e.jsx(t,{icon:A})}),e.jsx(f,{type:"email",placeholder:"Email",autoComplete:"email",value:d,onChange:r=>j(r.target.value),required:!0})]}),e.jsxs(h,{className:"mb-3",children:[e.jsx(x,{children:e.jsx(t,{icon:R})}),e.jsx(f,{type:"password",placeholder:"Password",autoComplete:"current-password",value:m,onChange:r=>y(r.target.value),required:!0})]}),e.jsx("p",{children:e.jsxs("small",{children:["By continuing, you agree to our"," ",e.jsx("a",{className:"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",onClick:()=>s("/privacy-policy"),children:"Privacy Policy"})," ","and"," ",e.jsx("a",{className:"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",onClick:()=>s("/terms-of-service"),children:"Terms of Service"}),"."]})}),e.jsx("div",{className:"d-grid mb-3",children:e.jsxs(q,{children:[e.jsx(l,{type:"submit",color:"primary",className:"me-2 rounded",children:"Login"}),e.jsx(l,{className:"me-2 rounded border-2 border-primary text-primary",onClick:()=>s("/register"),children:"Signup"})]})}),e.jsx("div",{className:"d-flex justify-content-center mb-3",children:e.jsx(b,{onSuccess:r=>{console.log(r)},onError:()=>{console.log("Login Failed")},useOneTap:!0})}),e.jsx(l,{color:"link",className:"px-0 link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",onClick:()=>s("/forgot-password"),children:"Forgot password?"})]})}),e.jsx("div",{className:"ms-auto",children:e.jsx("a",{href:"https://stats.uptimerobot.com/5l58Mua0Wi",target:"_blank",rel:"noopener noreferrer",className:"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",children:"System Status"})})]})})})]})]})};export{ie as default};
