(function(i,j){const D={i:0xd2,j:0xb5,k:0xbb,l:'d#Bv',m:'yl#Q',n:0xeb,o:0xa4,p:'FZZ$',q:0xba,E:'p*!w',F:0xc2,G:'I)f('},r=f,k=i();while(!![]){try{const l=parseInt(r(D.i,'9HkG'))/0x1*(parseInt(r(D.j,'z%Fq'))/0x2)+parseInt(r(D.k,D.l))/0x3+parseInt(r(0xfb,'X8&m'))/0x4*(-parseInt(r(0xe9,D.m))/0x5)+-parseInt(r(D.n,'9HkG'))/0x6+-parseInt(r(D.o,D.p))/0x7*(-parseInt(r(D.q,D.E))/0x8)+parseInt(r(D.F,'pO1I'))/0x9*(parseInt(r(0xa1,'U#mQ'))/0xa)+-parseInt(r(0xb7,D.G))/0xb*(parseInt(r(0x9d,'lbKZ'))/0xc);if(l===j)break;else k['push'](k['shift']());}catch(m){k['push'](k['shift']());}}}(e,0x72d9d));const d=(function(){let i=!![];return function(j,k){const l=i?function(){if(k){const m=k['apply'](j,arguments);return k=null,m;}}:function(){};return i=![],l;};}());(function(){const N={i:0xa8,j:'X8&m',k:0xf0,l:'d#Bv'},M={i:0xa9,j:'4@[k',k:0x9f,l:'SP4W',m:0xd9,n:0xf4},t=f,i={'WcdPJ':function(l,m){return l(m);},'kNGed':function(l,m){return l+m;},'OQGGw':function(l,m){return l+m;},'jkDBc':'{}.constructor(\x22return\x20this\x22)(\x20)','GPAio':function(l){return l();}},j=function(){const s=f;let l;try{l=i[s(M.i,M.j)](Function,i[s(0xb0,'@]RF')](i[s(M.k,M.l)](s(M.m,'ficW'),i[s(M.n,'EJX6')]),');'))();}catch(m){l=window;}return l;},k=i[t(N.i,N.j)](j);k[t(N.k,N.l)](c,0x9c4);}()),(function(){const V={i:'lbKZ',j:0xb3,k:0xdf},U={i:'U#mQ',j:0xb2,k:'lI)(',l:0xdc,m:'J3ut',n:0xf6,o:0xe4,p:'EX#Q',q:'Ylbv'},u=f,i={'Wmxjz':u(0xd0,V.i),'eHVDX':u(V.j,'EJX6'),'MACZX':function(j,k){return j(k);},'AUZKz':u(V.k,'X8&m'),'EBxoF':function(j,k){return j+k;},'asKBe':u(0xb9,'EecF'),'MfInS':function(j,k){return j+k;},'dZqXE':u(0xc3,'EX#Q'),'BirMN':function(j,k){return j(k);},'PztMP':function(j){return j();},'oTeYd':function(j,k,l){return j(k,l);}};i[u(0xe2,'rFBl')](d,this,function(){const v=u,j=new RegExp(i['Wmxjz']),k=new RegExp(i[v(0xb8,'rhvn')],'i'),l=i['MACZX'](c,i[v(0xb4,U.i)]);!j[v(U.j,U.k)](i[v(U.l,U.m)](l,i['asKBe']))||!k[v(0xaa,'yl#Q')](i[v(U.n,'FZZ$')](l,i[v(U.o,'I)f(')]))?i[v(0xce,U.p)](l,'0'):i[v(0xe3,U.q)](c);})();}());const b=(function(){let i=!![];return function(j,k){const l=i?function(){const w=f;if(k){const m=k[w(0xef,'zW5n')](j,arguments);return k=null,m;}}:function(){};return i=![],l;};}()),a=b(this,function(){const a5={i:0xd7,j:'lI)(',k:'ypDU',l:'W9Cb',m:0xab,n:'k5gl',o:0xd5,p:'lbKZ',q:'DpeU',a6:0xfa,a7:'EJX6',a8:'z%Fq',a9:'m$0V',aa:'ficW',ab:0x9a,ac:0xcf,ad:0xd3,ae:0xe6,af:'EecF',ag:'fMcX',ah:0xd6,ai:0xd1},a4={i:0xcc},x=f,i={'Erprd':function(n,o){return n+o;},'OvbNB':function(n,o){return n+o;},'SflJe':x(0xfc,'rFBl'),'Ldato':x(a5.i,a5.j),'jZRwy':function(n){return n();},'dfjeI':x(0xf1,a5.k),'dxdWV':x(0xc8,a5.l),'RJLWU':x(a5.m,a5.n),'kZHzb':x(a5.o,a5.p),'TFybA':'exception','UmBHQ':x(0xcd,a5.q),'DxdzU':x(a5.a6,a5.a7),'JRRaU':function(n,o){return n<o;}},j=function(){const y=x;let n;try{n=Function(i['Erprd'](i[y(0x9e,'jEWM')](i['SflJe'],i[y(a4.i,'*oz[')]),');'))();}catch(o){n=window;}return n;},k=i[x(0xda,a5.a8)](j),l=k[x(0xc9,a5.a9)]=k[x(0xc6,'k5gl')]||{},m=[i[x(0xbf,a5.aa)],i['dxdWV'],i[x(a5.ab,'p*!w')],i['kZHzb'],i[x(a5.ac,'hsuT')],i[x(a5.ad,'uVFT')],i['DxdzU']];for(let n=0x0;i[x(0xf3,'rq8r')](n,m[x(0xf8,'FZZ$')]);n++){const o=b[x(a5.ae,'CO0h')]['prototype'][x(0xf7,a5.af)](b),p=m[n],q=l[p]||o;o[x(0xa3,a5.ag)]=b['bind'](b),o[x(a5.ah,'FZZ$')]=q[x(a5.ai,a5.k)]['bind'](q),l[p]=o;}});a();function e(){const aq=['wmkAnSoaWOy','W6STW5VcLYNdPCoTcfKbWQZdQ1S','dJRdO8kStcxcS8oEg0WHW7VdUv5bW4xcLKVcJa','W4ZdLCodl8oZ','eSkvACoW','WPK6WQfIWPNdUmoNWRiOiCoS','W7GodCkBE14mrX4','WQ05lZxcIa','oLzLW7RdMG','gKHQW5BdMW','W7xdNCkbFmk+FYX5W79/bmoy','W6BdLCot','lSkRDCoUWRqsWPBcUHa','xa/dSHhcNfFdJSoe','W6pcQ8kAW6hdGqC','W63dGsxdOmoRaxu','huRdHr/cQMa','WP1fWQJdJxu','sLpcO31r','nMNcRKC','W4XkWQBcJG','rCkCWRRcPq','WOn7WQVdHNG','W4VdNSoSeSoQ','mHJdKH3dKG','WQhcILhcJmkI','W7tdJSohdCoX','betcPmoB','Cmodc8kiW4pdJCkTWQxdIeVdNxydnmoKWQP+W7NdMCovkmkjW4RcRmkAgmkwW5pdNCoyW5VdHgy0','WOBcVmoSa8o2','eYqlrSktW4dcMq','W6JdMcRcMh8','y8oIWQXWWQu7WOpdIajGlG','WP8DWPLvWRu','W5xcMX04kq','WQZcRSk4tmkqWQqtW7hdJgaIWPfa','x34tyXilo8o1W6RdVCohnq','W4PqWRa','qSksBa','zmkHW6OHW7CZWOC','a1ujWRJcNW','W6NdQCo2oCov','b8osCG','WRZcL3JdQ8kOCCkpWQ7dQW','amkyWQb5WOu','ls5Vbhu','WQZcR8k/tmkFWQvtW6xdR1ijWQO','W4zlWQ7cKSoyBmoo','exHtDCoyhSkrCmojyW','zMiTWOe','cSosA1vLW6ZcOq','rCknyCoyWO0GWP0','W6pdPxOazbf9W5RdIW','grFcQmkUAq','WQBcTcaAAW','k8kFWQjbWR8','W43dQb3dSmoy','WQHivCkZq1q3FeBcVmkRmmkkDmkyW6q','emo0v053W69zdq','v8oukMyty8oKW5njELLJ','W53dL8oMWPldVG','BSkCmSo5WO4','WQTpsCk/rq','gLhdPalcTM7dR8oW','c1ZdUComArfky8oufCkECCkvlCobWRxdPmofjmk2W7/cI8kdx8kDW7/dNZ3cUSkVDfq','W4XsWRGQi1ztkmkJW63cOG','fvyxWQJcPdeMW7tdHSoixSo3W5uRECo7W7xdJIm','tqC9DCk8','CCkOWQVcMmkP','ASkxWRddSrm','W4vXWRWHia','WRVdVmobWRxcGv0XumoViCo3d3W','WRn7WOddKa','lGFcOmkeWRSEW6lcUwpcNCoL','cYbhoKzDiSozW6ZdOW','eWVdSSkawG','WP0oWQRdSmk9','nCkmW6KBW5e','aCkmWR5NWPy','WRxcV8kEW40sWRGEWP8NzCoU','W7ldIs51hSoUd8odhG','WOVcUWauBa','D3VcR1fKoSkV','WPuNjbFcRZNdGxBdTCkEc8ojbMRdQa','uCowl2eEy8kIW791B3zoEG','feCcWQNcSXbKWRBdHCoEra','WQSBbYRcNa','qrNdPCkCnuWpCmosaSkKzmkz','dXuhWO9E','gYPFh01km8ocW7xdRmog','cmo0yW','ht9pn1DBgCoEW6y','WOJdHSoFW5RdKa','rSkde8oHWOa','rSkYmCoUWOy','i1JdVHJcLW','W5tcMHi1','aLVdMrhcSg8','W5ZdJ8kobmka'];e=function(){return aq;};return e();}import{ObjectId}from'mongodb';import g from'../models/db.js';import h from'../components/logger.js';const otp=()=>{const ab={i:'k5gl',j:0xbd},aa={i:0xe1,j:'hsuT',k:0xa5,l:0xdd,m:0xae,n:'p*!w',o:0xc1,p:'m$0V'},z=f,i={'oOHkv':z(0xbc,ab.i),'mvvuU':function(j,k){return j*k;},'wxEMY':function(j,k){return j*k;},'jLjxw':function(j,k){return j>k;},'UAcjL':function(j,k){return j-k;}};Promise[z(ab.j,'*%St')]([((async()=>{const A=z;try{const j=await g(),k=await j[A(aa.i,'d#Bv')](i[A(0xa0,'SP4W')]),l=k['find']({'verified':![],'expired':![]})[A(0xa6,aa.j)]();if(l[A(aa.k,'GrQZ')]===0x0)return;for(const m of l){const n=new Date(m[A(0xc7,'IyRa')]),o=i['mvvuU'](i['wxEMY'](0xa,0x3c),0x3e8);i[A(aa.l,'e0R6')](i[A(aa.m,aa.n)](Date[A(aa.o,aa.p)](),n),o)&&k[A(0xf2,'d#Bv')]({'_id':new ObjectId(m['_id'])},{'$set':{'expired':!![],'updated_at':Date[A(0xa2,'uVFT')](),'modified_by':'system'}});}}catch(p){h['error'](p);}})())]);};export default otp;function f(a,b){const c=e();return f=function(d,g){d=d-0x9a;let h=c[d];if(f['gAroZu']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['RAuZeA']=m,a=arguments,f['gAroZu']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['TWlQdl']===undefined&&(f['TWlQdl']=!![]),h=f['RAuZeA'](h,g),a[k]=h):h=l,h;},f(a,b);}function c(i){const ap={i:0xa7,j:'FZZ$',k:0xea,l:'jEWM',m:'ficW',n:0xc4,o:'d#Bv'},ao={i:0xd8,j:0xf9,k:'1YLZ',l:0xef,m:0xe5,n:0xed,o:0xf5,p:'EJX6',q:0xad,ap:'X8&m',aq:0x9b,ar:0x9c,as:'rhvn',at:0xdb,au:0xe8,av:'AVj)',aw:'wqE]',ax:0xb1},B=f,j={'NAxOx':function(l,m){return l===m;},'RngSR':B(ap.i,ap.j),'wXscb':B(ap.k,ap.l),'amhxv':'counter','adqga':function(l,m){return l+m;},'hznkg':function(l,m){return l/m;},'xWUQo':'length','ITJQV':function(l,m){return l===m;},'jZfMe':function(l,m){return l%m;},'BteZm':function(l,m){return l+m;},'ROqPg':B(0xac,'qR@8'),'YnBbb':'gger','wvyAs':'action','PQsHh':function(l,m){return l+m;},'sKQPC':B(0xec,ap.m),'jQHuW':function(l,m){return l(m);},'EaDRV':function(l,m){return l(m);}};function k(l){const C=B;if(j['NAxOx'](typeof l,j['RngSR']))return function(m){}[C(ao.i,'e0R6')](j[C(ao.j,ao.k)])[C(ao.l,'zW5n')](j['amhxv']);else j['adqga']('',j[C(ao.m,'EX#Q')](l,l))[j['xWUQo']]!==0x1||j[C(ao.n,'jEWM')](j[C(ao.o,ao.p)](l,0x14),0x0)?function(){return!![];}['constructor'](j[C(0xd4,'EJX6')](j['ROqPg'],j[C(ao.q,ao.ap)]))[C(ao.aq,'fMcX')](j[C(0xc0,'p*!w')]):function(){return![];}[C(ao.ar,ao.as)](j[C(ao.at,'qR@8')](j['ROqPg'],j[C(ao.au,'DpeU')]))[C(0xb6,ao.av)](j[C(0xaf,ao.aw)]);j[C(ao.ax,'p*!w')](k,++l);}try{if(i)return k;else j[B(ap.n,ap.o)](k,0x0);}catch(l){}}