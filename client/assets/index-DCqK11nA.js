import{k as R,R as _,r as C,p as b,j as e,C as v,q as E,v as I,w as S}from"./index-CuJHjIGx.js";import{F as r}from"./index.es-Cq0H-E69.js";import{n as F,p as j,o as f}from"./index-BZjyJKb7.js";import{R as q}from"./recaptcha-wrapper-BQQNLzSF.js";import{C as A}from"./CCard-Ditpbdbh.js";import{C as T}from"./CCardBody-XzxxC6cZ.js";import{C as k,a as t}from"./CFormInput-DaKkmBPq.js";import{C as o,a as n}from"./CInputGroupText-BfAExIrv.js";import{C as D}from"./CButtonGroup-CRM_Lp_t.js";import{a as w}from"./CButton-OVggye5G.js";const W=()=>{const g="",i=R(),m=_.useRef(),[c,p]=C.useState({email:"",first_name:"",last_name:"",password:"",repeat_password:"",recaptcha_ref:""}),y=()=>{i("/login")};C.useEffect(()=>{b.get("RCTSESSION")!==void 0&&i("/")},[]);const a=l=>{const{id:d,value:s}=l.target;p(u=>({...u,[d]:s}))},N=async l=>{if(l.preventDefault(),c.password!==c.repeat_password)return alert("Passwords do not match");const d=await m.current.executeAsync();p(s=>({...s,recaptcha_ref:d}));try{const s=new FormData;for(const x in c)s.append(x,c[x]);const h=(await S.post("http://localhost:5050/api/auth/register",s,{headers:{}})).data.status;if(h==201)return i("/");alert(h)}catch(s){console.error(s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(v,{children:e.jsx(E,{className:"justify-content-center",children:e.jsx(I,{md:8,lg:6,xl:5,children:e.jsx(A,{className:"mx-4",children:e.jsx(T,{className:"p-4",children:e.jsxs(k,{onSubmit:N,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(q,{ref:m,size:"invisible",sitekey:g}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:F})}),e.jsx(t,{id:"email",placeholder:"Email",autoComplete:"email",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:j})}),e.jsx(t,{id:"first_name",placeholder:"First Name",autoComplete:"given-name",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:j})}),e.jsx(t,{id:"last_name",placeholder:"Last Name",autoComplete:"family-name",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(r,{icon:f})}),e.jsx(t,{id:"password",type:"password",placeholder:"Password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsxs(o,{className:"mb-4",children:[e.jsx(n,{children:e.jsx(r,{icon:f})}),e.jsx(t,{id:"repeat_password",type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(D,{children:[e.jsx(w,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(w,{color:"primary",className:"me-2 rounded",onClick:y,children:"Login"})]})})]})})})})})})})};export{W as default};
