import{R as s,r as e,j as i}from"./Oq9P1Wj_.js";import{R as n}from"./eGqyD3ZN.js";import{b as t,d as a}from"./C6WvlDFN.js";import{S as r,C as o,a as m}from"./DJDq30m1.js";import{L as p}from"./U-Mzf_wd.js";import{E as h}from"./BGB82IPO.js";import{d as c}from"./Ce_fjdqS.js";import{c as d,X as l,Y as j,Z as _,_ as g,r as f,a as u,b as x,t as y}from"./D9gRowTw.js";import"./deeEeel3.js";import"./NdsU5MZw.js";import"./BXWkExu4.js";import"./C5ktbw-a.js";import"./c0eKk1Db.js";import"./CewSaW8v.js";import"./DvQD94mg.js";import"./DhxmCZ7v.js";import"./fHQ1LRrH.js";import"./CUvxBZEH.js";import"./CA9sZ-Z2.js";import"./YLYDLWv3.js";import"./BYNIthp4.js";import"./Dn-qDmp9.js";import"./CaACVOTK.js";import"./XtWrBBVz.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./DoV6T4jL.js";import"./CDdQWEAe.js";import"./BqHrj3jM.js";const S=()=>{const S=c(),b=s.useRef(),{addToast:v}=t(),[C,D]=e.useState(1),[I,w]=e.useState(!1),[N,R]=e.useState(!1),[k,z]=e.useState({shipper:{shipper_company_name:"",shipper_contact_name:"",shipper_contact_email_address:"",shipper_contact_phone_number:"",shipper_company_address:""},consignee:{consignee_company_name:"",consignee_contact_name:"",consignee_contact_email_address:"",consignee_contact_phone_number:"",consignee_company_address:""},shipment:{shipment_description:"",shipment_weight:"",shipment_dimension_length:"",shipment_dimension_width:"",shipment_dimension_height:"",shipment_volume:"",shipment_value:"",shipment_instructions:""},shipping:{shipping_origin_addresss:"",shipping_destination_address:"",shipping_pickup_date:"",shipping_delivery_date:"",shipping_vehicle_type:""}}),A=(s,e)=>{const{id:i,value:n}=s.target;z((s=>({...s,[e]:{...s[e],[i]:n}})))},B=async()=>{if(!N)return R(!0);w(!0);const s=await b.current.executeAsync(),e={...k,recaptcha_ref:s};axios.post("/freight/b/land",e).then((s=>{v("Shipment has been created.","Shipment"),S("/dashboard")})).catch((s=>{const e=h[s.status]||"Server is offline or restarting please wait";v(e,"Submit failed!")})).finally((()=>w(!1)))};return i.jsxs(i.Fragment,{children:[I&&i.jsx("div",{className:"loading-overlay",children:i.jsx(d,{color:"primary",variant:"grow"})}),i.jsx(n,{ref:b,size:"invisible",sitekey:a}),N&&i.jsxs(l,{visible:!0,onClose:()=>R(!1),alignment:"center",scrollable:!0,children:[i.jsx(j,{closeButton:!0,children:"Shipment Confirmation"}),i.jsx(_,{children:"Do you confirm that the details you input are correct and accurate?"}),i.jsx(g,{children:i.jsx(f,{color:"primary",onClick:B,children:"Confirm"})})]}),i.jsxs(u,{className:"mb-4",children:[i.jsx(x,{xs:3,md:5,xl:3,className:"image-container d-none d-md-flex",children:i.jsx(y,{fluid:!0,rounded:!0,src:"/images/freight-land.jpg",className:"custom-image",loading:"lazy"})}),i.jsxs(x,{md:7,children:[1===C&&i.jsx(r,{formData:k,handleInputChange:A,handleConsigneeInfo:s=>D(2)}),2===C&&i.jsx(o,{formData:k,handleInputChange:A,handleShipperInformation:s=>D(1),handleShipmentDetails:s=>D(3)}),3===C&&i.jsx(m,{formData:k,handleInputChange:A,handleConsigneeInfo:s=>D(2),handleShippingInformation:s=>D(4)}),4===C&&i.jsx(p,{formData:k,handleInputChange:A,handleShipmentDetails:s=>D(3),handleSubmit:B})]})]})]})};export{S as default};
