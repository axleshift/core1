const z=f;(function(j,k){const I={j:0xbd,k:0xf8,l:'XyZ]',m:0xf4,n:'OtQO',o:0xf0,p:0xef},s=f,l=j();while(!![]){try{const m=-parseInt(s(I.j,'J&cv'))/0x1+-parseInt(s(0xe1,'VR]x'))/0x2+-parseInt(s(I.k,I.l))/0x3+parseInt(s(I.m,'XyZ]'))/0x4+-parseInt(s(0xdb,I.n))/0x5+-parseInt(s(I.o,'1FY8'))/0x6+parseInt(s(I.p,'1FY8'))/0x7;if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xa07c8));const d=(function(){const J={j:'&vm7'};let j=!![];return function(k,l){const m=j?function(){const t=f;if(l){const n=l[t(0xf6,J.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const U={j:0xd4,k:'iRp0',l:'XyZ]'},T={j:0xee,k:'LEOg',l:0xaf,m:'cPYN',n:0xce,o:'vj*B',p:0x103,q:'1^Gq',r:0xf5,U:'!8qW',V:0x10a,W:0xde,X:'skU4'},u=f,j={'mJeNg':u(U.j,U.k),'KcBNE':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','zqRXH':function(k,l){return k(l);},'xtTjU':function(k,l){return k+l;},'WNCoW':u(0xfb,'eX9g'),'QYZwq':function(k,l){return k+l;},'kzLmt':u(0xa8,U.l),'olAvg':function(k,l){return k(l);},'FSlKx':function(k){return k();},'sGhHk':function(k,l,m){return k(l,m);}};j['sGhHk'](d,this,function(){const v=u,k=new RegExp(j[v(T.j,'1^Gq')]),l=new RegExp(j[v(0xbe,'XyZ]')],'i'),m=j[v(0xfd,T.k)](c,v(0xe2,'sobP'));!k[v(T.l,T.m)](j[v(T.n,T.o)](m,j[v(T.p,'VR]x')]))||!l[v(0xc5,T.q)](j[v(T.r,'zrqN')](m,j[v(0x105,T.U)]))?j[v(T.V,'iey7')](m,'0'):j[v(T.W,T.X)](c);})();}());const b=(function(){const V={j:0xbc};let j=!![];return function(k,l){const m=j?function(){const w=f;if(l){const n=l[w(V.j,'xV5g')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a3={j:0xbf,k:'QiCY',l:'sMJ9',m:0xba,n:'OtQO',o:'!8qW',p:0xeb,q:'7sYc',r:0x104,a4:0xd3,a5:0xcb,a6:'@(rV',a7:'VR]x',a8:'*jms',a9:0xd5,aa:'vj*B',ab:0xfe,ac:0x108,ad:0x106,ae:'!8qW',af:0xf7,ag:'bsj@',ah:'owSC'},a2={j:0xe3,k:0xdc,l:0x102,m:'7wT1',n:0xf2,o:'O4ua'},x=f,j={'RdcBT':function(o,p){return o(p);},'nRqNm':function(o,p){return o+p;},'zihDH':x(a3.j,a3.k),'pEFhB':function(o){return o();},'XwGUM':x(0xe8,a3.l),'zcNWM':x(a3.m,a3.n),'jnKZT':x(0xd7,a3.o),'jehFm':x(a3.p,a3.q),'mlYdY':x(a3.r,'xV5g'),'erZfR':'table'},k=function(){const y=x;let o;try{o=j[y(a2.j,'7sYc')](Function,j['nRqNm'](j[y(a2.k,'Bh]]')](j[y(a2.l,a2.m)],y(a2.n,a2.o)),');'))();}catch(p){o=window;}return o;},l=j[x(0xc2,'xV5g')](k),m=l['console']=l[x(0xb9,'9OjU')]||{},n=[j[x(a3.a4,'1^Gq')],j[x(a3.a5,a3.a6)],j[x(0xcd,'@(rV')],j[x(0x10c,a3.a7)],j[x(0xda,a3.a8)],j[x(a3.a9,a3.aa)],x(0xf3,'^1y$')];for(let o=0x0;o<n[x(a3.ab,'@(rV')];o++){const p=b[x(a3.ac,'bsj@')]['prototype'][x(0xcf,'9OjU')](b),q=n[o],r=m[q]||p;p[x(a3.ad,a3.ae)]=b[x(a3.af,a3.ag)](b),p[x(0xb5,'rpya')]=r[x(0xae,'LEOg')][x(0xe5,a3.ah)](r),m[q]=p;}});a();import g from'fs';function f(a,b){const c=e();return f=function(d,g){d=d-0xa6;let h=c[d];if(f['nIyszN']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['LhNsMw']=m,a=arguments,f['nIyszN']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['HQLDEq']===undefined&&(f['HQLDEq']=!![]),h=f['LhNsMw'](h,g),a[k]=h):h=l,h;},f(a,b);}import h from'../models/db.js';import i from'../logger.js';let sessions={};g['mkdir']('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g[z(0xec,'juEV')]('./sessions/sessions.json')&&(sessions=JSON['parse'](g[z(0xa7,'1FY8')](z(0xe0,'eX9g'),z(0xdf,'vj*B'))),i[z(0xfc,'OtQO')]('Sessions\x20retrieved'));export const addUserProfileToSession=j=>{const a5={j:0xea,k:'^g8f',l:0xd8,m:'B4#w',n:'eX9g'},A=z,k={'JCpKq':A(a5.j,a5.k)};!sessions[j['email']]&&(sessions[j[A(a5.l,'O4ua')]]={}),!sessions[j['email']][k['JCpKq']]&&(sessions[j[A(0xb7,a5.m)]][A(0x10d,a5.n)]=j);};export const addSession=(j,k,l,m)=>{const a7={j:0xc1,k:'z0]H',l:0xab,m:0xf9,n:0xc0,o:'sobP'},B=z,n={'ZzmKX':'Sessions\x20save','HxGeq':B(0xa6,'cl]m')};!sessions[j[B(0xcc,'QiCY')]]&&(sessions[j[B(a7.j,a7.k)]]={}),sessions[j['email']][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[B(a7.l,'sMJ9')]()},process['env']['DEBUG']&&g[B(a7.m,'*jms')](n['HxGeq'],JSON[B(a7.n,a7.o)](sessions),o=>{if(o)throw o;i['info'](n['ZzmKX']);});};export const getEmailAddress=j=>{const C=z;return Object['keys'](sessions)[C(0x107,'^g8f')](k=>sessions[k][j]);};function e(){const at=['kdKwhSk4t8ktv2ldL8o7WPOU','W6NcSLbnW5ddNSkOWOSNlCogWQSav8kcmCo0W7zgWPVdJcPym0tdTCkbFrLZW7aD','WOS3W7bwW7FdQ8oNw8k1W5pcNCk5qSkJW7BdJN1WhSkCWP8nW7evW7tcOCkhumoLWOZcG8ko','Aa/cO8ojqW','hSoGlCkuahNdJxtcNslcRfZcUG','g8k6fmorW6i','AqzCugO','EmkSucy','hCoNimkzaxNdIgdcHctcILxcHq','s8k8W4KlgCoUu2pcP3XbWPa2','W7BcJ8kjA2K','hcZcUthcSG','WO0AWRhdIa','WQXJiCkCxG','hCoqWOOfDSkN','WQb3WQxdN8oKkK4RW7TFW7OuiSkQWOm','WR4Ok03cRa','C07dQW4','W4xcSCk1wLy','vN1Tvqm','kSkqWP9aW4mJESk3BW','FCongCo7fq','sCoOjCoKdHHcWQ/cNW','nCobWOPr','ECkQudhcQ0/dHGJcOhG+','WPyJWRbrW5FdQ8oX','dmoBFmojcG','C8kDzc/cHW','A1zgFdK','dZBcTZ7cTCowW5G','t8kEW5efka','WRFcM0G7Aa','WRrIWRbCW6XWDW','WRZdOa1lW4ZdG8kYWPa7k8kkWQWkvSozESoPW71bW4ddLdCxkq','BM9btmojhSonv2xdMCoHWQ8','rSk6zmoyqW','mmohWOPgW5DHW5qWWOeNWOG','CCkBWQPQ','mmkIWRm','ESoqW4uvWODUjSk1v2xdH0TE','WQFdIf/dV8ko','WQj9imkWzc5YWPO','W53dJMqb','yCkqW5ieWPaQWPfJWP0yWOajFX8','DvuADq','amo+xmo3iq','WPCKWQBdNrq','WR3cThibWQG','W6jDW5/cV2tdOmkpWRu','a8oUWR5BW7u','ybpcRXZdVq','mu3dUepcPSoiWP4MASo2WQBdQSky','W4jmpZ/cQK7dGq','WPmvWQxdIq','WRr/eSk+zq','lSkyWOXjW4O','smoaWR/cUSoSWOFdVSkjk1BcSKa','zmk3vSoJCG','kSo0WOqSW7r0WPCIW4CkW5vUDSk7W7S/uLmG','WPtcUCoEW4vDWPLGkZW','WRVcVwagWQG','p8kTWRPnW7e','WQO9WPtdRqG','gSohzSkYaW','ySkzWRXS','WRVdJmkAA8kfWO4','BCo5WQldNCofWPy','Fq3cSSogxW','t8k6W4elgCoNwgxcP0Xm','WPyJWRbr','c8owWQO1tW','pCo8WPeWW6O','g8oBWQ84vG','zKq3Bfa','W4nkpYG','Ef9nvIa','qhX/Cau','eSktamoxW4y','tSklWOHnWOy','jmkSq8kAWOaGBdTzxs7cOZOFW5Th','E0i5yfC','tJrICN8','F8ozm8o5','WPuNWR9CW7q','WRG5WQxcSa','uCkIW7KBjq','W5fmW67cL3tdNmkAW5mYjSofWOlcMG','bmo2WR1gW7u','W7vtW6dcPW','WPfEWQL5W6a','A0qfpG','uwVcQZ3cR8ojW5qBeSolumoVrW/dNc3cNSoAW5lcGXmHWONcQW','maCFc2hdKmkbW6jRrCkbW5uR','WO7cO8ofW5G','W5CuyuNcTa','oCkgoSoVW73cHmkWemkoW7RcGW','BSoZWRJdKa','WQZcLwuAWO0','W6xcMSoaomohW5BcOSozgq9VW78U','mSkIWQm','WRCegNVcHG','i8oAWOTtW4P/W4q','W6acCgtcKG','WRKKWQ7cTJRdOmodpG/cMW','W4LBW6G','E8k2WQPwWQW','lJiwgCk8tSkraL7dSmo1WQ0HWR0'];e=function(){return at;};return e();}export const getUserId=async j=>{const ab={j:'Bh]]',k:0xad,l:0x109,m:'O4ua',n:'rpya'},D=z,k={'IWzzl':function(p,q){return p(q);},'iJrSm':function(p){return p();},'yWrTN':'users'},l=k['IWzzl'](getEmailAddress,j),m=await k[D(0xb6,ab.j)](h),n=m['collection'](k[D(ab.k,'w64Y')]),o=await n[D(ab.l,ab.m)]({'email':l});return i['info'](o),o[D(0xed,ab.n)];};export const removeSession=j=>{const E=z,k=Object[E(0xb1,'vj*B')](sessions)[E(0xca,'O4ua')](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l['active']=![]);}};export default sessions;(function(){const ag={j:0xbf,k:'QiCY',l:0x100,m:'n#NV',n:'&vm7',o:0xe6,p:'z0]H'},F=z,j={'jHBXF':function(l,m){return l(m);},'cIaHL':function(l,m){return l+m;},'NICJH':F(ag.j,ag.k),'FBNNl':F(0xf1,'cl]m'),'rEduI':function(l){return l();}};let k;try{const l=j[F(ag.l,ag.m)](Function,j[F(0xb2,'iey7')](j[F(0xc3,'OtQO')],j[F(0xd6,ag.n)])+');');k=j[F(ag.o,ag.p)](l);}catch(m){k=window;}k[F(0xe4,'zrqN')](c,0x9c4);}());function c(j){const as={j:'skU4',k:0xc6,l:0xd9,m:'juEV',n:0xaa},ar={j:0xbb,k:0xa9,l:'^g8f',m:'zrqN',n:0xfa,o:0xd0,p:'VR]x',q:0xc4,r:0xb4,as:'z0]H',at:'rpya',au:0x10f,av:'j3*d',aw:'n8V]',ax:0xc9,ay:0x10e,az:'*jms'},G=z,k={'bmazs':function(m,n){return m===n;},'iXZmX':'string','XpNqU':G(0x110,as.j),'IWTuw':function(m,n){return m!==n;},'ylclt':function(m,n){return m+n;},'MqCKE':function(m,n){return m/n;},'OknkB':G(as.k,'Y&cs'),'AOQJQ':function(m,n){return m+n;},'TNMqS':G(as.l,as.m),'cdsnl':G(as.n,'1^Gq'),'wcBFs':G(0xc7,'owSC'),'vwIQv':function(m,n){return m+n;},'sPqzT':function(m,n){return m(n);}};function l(m){const H=G;if(k[H(ar.j,'LEOg')](typeof m,k[H(0x10b,'bsj@')]))return function(n){}[H(ar.k,ar.l)](H(0xff,'F(oB'))['apply'](k[H(0xd2,ar.m)]);else k[H(ar.n,'7wT1')](k[H(ar.o,'VR]x')]('',k['MqCKE'](m,m))[k['OknkB']],0x1)||m%0x14===0x0?function(){return!![];}[H(0x108,'bsj@')](k[H(0xd1,ar.p)](k[H(ar.q,')OZf')],k[H(ar.r,ar.as)]))[H(0xdd,ar.at)](k[H(ar.au,ar.av)]):function(){return![];}['constructor'](k['vwIQv'](H(0x101,ar.aw),k[H(0xe9,'n#NV')]))[H(0xc8,'^1y$')](H(ar.ax,'*jms'));k[H(ar.ay,ar.az)](l,++m);}try{if(j)return l;else k[G(0xb3,'OtQO')](l,0x0);}catch(m){}}