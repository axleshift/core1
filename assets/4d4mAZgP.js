import{r as s,j as t}from"./kqbr3HuW.js";import{u as e}from"./D0TlU___.js";import{j as r}from"./rqAixPsG.js";import{F as a,d as i}from"./BNSBxhWN.js";import{a as o}from"./BF79kdbi.js";import{d as n}from"./DFarnK1O.js";import{C as m,N as c,O as d,t as l,o as j,p,q as h,r as x,Y as g,ao as u,n as f}from"./DJLAdtNU.js";import"./BgRKNlhe.js";import"./CgN-7aKy.js";import"./D1Sfz1v5.js";import"./CR-CXyre.js";import"./CkTjnZ9-.js";import"./uhX4GmSj.js";import"./BJ13bZ6b.js";import"./c0eKk1Db.js";import"./oXqQd4Ap.js";import"./CQYGjB7w.js";import"./DbzcfNKS.js";import"./BGKE3O6B.js";import"./DJeUPDeV.js";import"./B0UoamS-.js";import"./HSznFPq-.js";import"./omosduih.js";import"./D3yCfJ5s.js";import"./BXEMiIsG.js";import"./B60PFSOe.js";import"./DoV6T4jL.js";import"./CJ2-25UQ.js";import"./BqHrj3jM.js";const b=()=>{const{addToast:b}=o(),[v,k]=s.useState(""),[N,w]=s.useState(null),[D,I]=s.useState(!1),C=n(),{getRootProps:R,getInputProps:y}=e({onDrop:s=>{const t=s[0];if(t){const s=new FileReader;s.onloadend=()=>{w(s.result)},s.readAsDataURL(t)}},accept:"image/*"}),F=s=>(s.preventDefault(),v&&0!==v.trim().length?/^[a-fA-F0-9]{24}$/.test(v)?C(`/track/${v}`):void b("Invalid Tracking ID Number."):null);return t.jsxs("div",{children:[D&&t.jsx("div",{className:"loading-overlay",children:t.jsx(m,{color:"primary",variant:"grow"})}),t.jsxs(c,{children:[t.jsx(d,{xs:3,className:"image-container d-none d-md-flex",children:t.jsx(l,{fluid:!0,rounded:!0,src:"/images/freight-track.jpg",className:"custom-image"})}),t.jsxs(d,{md:7,className:"mb-4",children:[t.jsx("h1",{children:"Enter Tracking ID"}),t.jsx(j,{className:"mb-3",onSubmit:F,children:t.jsxs(p,{children:[t.jsx(h,{"aria-label":"Track shipment","aria-describedby":"basic-addon",value:v,onChange:s=>k(s.target.value)}),t.jsx(x,{id:"basic-addon",onClick:F,children:t.jsx(a,{icon:i})})]})}),t.jsxs("div",{children:[t.jsxs(g,{className:"d-inline-block p-5 text-center border border-2",...R(),children:[t.jsx(h,{...y()}),!N&&t.jsxs(t.Fragment,{children:[t.jsx(u,{children:"Drag & Drop QRCode"}),t.jsx("p",{children:"or click to select an image"})]}),N&&t.jsx(l,{src:N,alt:"QRCode",style:{width:"128px",maxHeight:"128px",objectFit:"cover"}})]}),t.jsx(f,{color:"primary",className:"d-block my-2 px-5",onClick:()=>{if(!N)return;const s=document.createElement("img");s.src=N,s.onload=()=>{const t=document.createElement("canvas"),e=t.getContext("2d");t.width=s.width,t.height=s.height,e.drawImage(s,0,0);const a=e.getImageData(0,0,t.width,t.height),i=r(a.data,t.width,t.height);if(!i)return b("No QR code found.");const o=i.data;k(o),I(!0),setTimeout((()=>(I(!1),o&&0!==o.trim().length?/^[a-fA-F0-9]{24}$/.test(o)?C(`/track/${o}`):void b("Invalid Tracking ID Number."):null)),2e3)}},children:"Scan"})]})]})]})]})};export{b as default};
