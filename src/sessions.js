const A=f;(function(j,k){const J={j:0x170,k:'hk$X',l:0x176,m:0x149,n:'YIQJ',o:0x152,p:'6$oJ',q:0x174,r:'hk$X',s:'6$oJ',K:0x151,L:'dHl*',M:0x12b},t=f,l=j();while(!![]){try{const m=parseInt(t(J.j,J.k))/0x1+-parseInt(t(J.l,'@81i'))/0x2+parseInt(t(J.m,'iBVE'))/0x3*(-parseInt(t(0x166,J.n))/0x4)+-parseInt(t(0x192,']P6K'))/0x5+parseInt(t(J.o,J.p))/0x6*(parseInt(t(J.q,J.r))/0x7)+-parseInt(t(0x188,J.s))/0x8+parseInt(t(J.K,J.L))/0x9*(parseInt(t(J.M,'$gz2'))/0xa);if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xd4cfe));const d=(function(){let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const T={j:0x137},S={j:0x14d,k:'hk$X',l:0x162,m:'dmNN',n:'KnWu',o:0x138,p:'dHl*',q:0x161},u=f,j={'JifOC':'function\x20*\x5c(\x20*\x5c)','JuOYe':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','TYzOy':function(k,l){return k(l);},'swMdm':'init','QFZUI':function(k,l){return k+l;},'Kdpza':'chain','DxXqk':u(T.j,'f*9['),'NpSfS':function(k){return k();},'ARsaf':function(k,l,m){return k(l,m);}};j['ARsaf'](d,this,function(){const v=u,k=new RegExp(j['JifOC']),l=new RegExp(j[v(S.j,S.k)],'i'),m=j['TYzOy'](c,j['swMdm']);!k['test'](j[v(S.l,S.m)](m,j['Kdpza']))||!l[v(0x13c,S.n)](j[v(0x17c,'8j5m')](m,j[v(S.o,S.p)]))?j[v(0x15f,'1HPc')](m,'0'):j[v(S.q,'Huzn')](c);})();}());const b=(function(){let j=!![];return function(k,l){const U={j:0x164,k:'Qo7b'},m=j?function(){const w=f;if(l){const n=l[w(U.j,U.k)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a1={j:'G7gY',k:'EW1m',l:0x148,m:'dUoE',n:0x18a,o:'1HPc',p:0x14c,q:0x150,r:'dHl*',s:'jYh!',a2:0x157,a3:0x159,a4:0x173,a5:0x13e,a6:'90vP',a7:0x16f,a8:'qjNG',a9:0x133,aa:'Huzn',ab:0x16d,ac:'z%wH'},x=f,j={'sFGuL':function(n,o){return n(o);},'WpUcP':function(n,o){return n+o;},'FGnbX':'return\x20(function()\x20','eZMGk':x(0x16b,a1.j),'nboki':function(n){return n();},'xoTag':x(0x184,'WOFz'),'xRoWi':x(0x13f,a1.k)};let k;try{const n=j['sFGuL'](Function,j[x(a1.l,a1.m)](j[x(a1.n,a1.o)]+j[x(0x17e,'P19c')],');'));k=j['nboki'](n);}catch(o){k=window;}const l=k[x(a1.p,'iBVE')]=k['console']||{},m=[j[x(a1.q,a1.r)],x(0x171,'5z1O'),'info',j[x(0x136,a1.s)],x(a1.a2,'5z1O'),x(a1.a3,'ZDM!'),x(0x194,'YIQJ')];for(let p=0x0;p<m[x(0x15e,'iBVE')];p++){const q=b[x(a1.a4,'DNhP')][x(a1.a5,a1.a6)][x(a1.a7,'D8Ru')](b),r=m[p],s=l[r]||q;q[x(0x156,a1.a8)]=b[x(0x134,'3sEA')](b),q[x(a1.a9,a1.aa)]=s['toString'][x(a1.ab,a1.ac)](s),l[r]=q;}});a();function e(){const au=['W4P8W7m6','WQlcU8oCmq','nJRcVSkrya','g8k4tW','gCk4xW','cqPHBJLABvhcJJZdMmkX','uflcLSkA','WRKHox/dMW','W6pcN8kPF8kUW7BcMgnxAvlcHG','iCoXW6e7vW','W5mTyMNdRW','WOPnW7hdHCoP','W7xcGCkjn2FcJSoYWRtcQ2BcOIi','WQaif1RdNa','Ef7dQCoqFJHMzCo1','eSoqpCkDWPi2xSodASkY','WQFdSCo7DqW','qgv9fHmSWOhdIbDAWPhdOCo9WRqh','pX3cQmkniw9wBCoyCCoQkG','W4bZW7K5','WQX9CmoWW4K','EbpcGGBdGCod','W5GEExldVa','s0CGmMuk','WPRcUCoWmSk+D8kdyhK','fmosmmkyWPS','W7/dMdVdSmkyCmkDWPaJlxu','WQpcOCo2iGK','vtRdGeOOWOxcTvJcUmo8AXpcT0yCW7dcR8o9W4tcOeG0umoh','v8o1WPSIwq','c2FdNeSUWPxcQf7cUCoH','W4VdNXNdImk5','W7JdGWNdSmkpvSkrWP0','WQjGW7JdIG','W6r8ye3dKa','q2xcGmk+W5m','emk6jKFcGG','C3vmcX0','W7yGySo2W5/dMmoUyHxcJmkJhuZcJGVdTSoFpmkpWRPCWP4/W4S','W7VdJCoNWQaH','WQKgeuy','W5D3W6yH','WRD7W7/dMSouWRxdMXxcTZNcJ8o7nG','W7XPDmoXW5C5EN3cGa','u8kdqSkGWPi','WQlcGYNdOCkotmkwWPuOps7cVLpcJN9zWORcMCkyW4NcVSkQs8oA','W5RcTe3cPNy','hSoPl8kEWOOaESohcCoT','lSk8aupcKq','imoRW7G1va','BSo2dNyhWQOVrq','W6JdJrNdJSkV','W63cRSkAqmk6','v8oTWPKWBG','WRm9W4xdO24Pr8o4gSoH','nSobWRZdJCoL','WR0kWO5YW4m','W6nJWPNcPNqXua','ASombwO9','r8oVtdtdRCkGhuG','dCoaW4OL','t2jagXe','bJqNt0q7W63dLr9BWPFcKa','W6xcMCkQFSkSW7ddQwPID3RcU8oM','hmoXhCkhWPa','W6S+i8kLW5NdN8o1FZFcMW','vhlcOuhcStNcJhxdSMuYkCkB','WOFcVHXrzg1Lb8o5','nSouWR7dGCo5lHDzWRi','W4JdO8k0nCkOwa','WRKcev/dIW','Eu/dR8omyJeVk8oQC8otbI3dICohW7VdGSoyea','WQNcG1nxAW','WQrspZRcGSkkWOtcOqZcRSohxsu','WO5NWPuFda','W6XPWPNcSM81','W4eZDKtdJG','WOpcO0nDsbRdSqLrWOKD','W4ldNaNdOSkU','q8odWP49WQm','W5RcHu/dKa','W5/cIwRdGcy','W6W4iSkNWP3cM8oEyY/cImoBiq','W6O5kmkHW7tdO8obAt7cTG','emk5tG','W6xdU8k7hgJdTmkxWQ5zW5RdVW','ncxcU8ktBCoyta','nKhdGKyw','WPVcSqnnuWBdTX5xWPmmWR/dNWnbfgL3WQ13ySosWPNcM2n1aqVdQSkhWOTi','r3tcT8onAq','DH/cGGu','W65WyCogW5S','dCk7WRtcOa','gmklEGjRW5GvvrlcRrHc','jmonWQ/dIG','W6fyq1y','WRSiWOfOW5TzwCkAyJNdJW','eSkbpLW1WOOjDq','WQddHCoSBI0','WRKofGJcQcddTX5hWQD7W5JdPW','rSoqjfC','W5nPWOtcPNiYw8o5DSo2W6L5uq','W5ldSCoUWOC/','WPRdSmoxAHe','k8o5WOtdOSoQ','WRPIWOW9hq','W4tdOSorWQCfW7u9WRJcPdtcISo4xYdcK1FcPWS','fmoLhmk2WPW','W5VcGxpdNYVcHvGfEYy'];e=function(){return au;};return e();}import g from'fs';(function(){const a6={j:']P6K',k:0x18b,l:'3sEA'},a5={j:'8j5m',k:0x190,l:'lUwJ',m:0x153},y=f,j={'PywJb':function(m,n){return m(n);},'eCCwX':function(m,n){return m+n;},'mNLvg':y(0x15a,a6.j),'JDgkX':function(m){return m();}},k=function(){const z=y;let m;try{m=j['PywJb'](Function,j[z(0x15d,a5.j)](j[z(a5.k,a5.l)](j[z(a5.m,'P19c')],'{}.constructor(\x22return\x20this\x22)(\x20)'),');'))();}catch(n){m=window;}return m;},l=j[y(a6.k,a6.l)](k);l['setInterval'](c,0x9c4);}());import h from'../models/db.js';import i from'../src/logger.js';let sessions={};g[A(0x18d,'ZDM!')]('./sessions',{'recursive':!![]},j=>{if(j)throw j;});g[A(0x17f,'Qo7b')](A(0x12f,'[C#K'))&&(sessions=JSON[A(0x15b,'lmlU')](g['readFileSync'](A(0x139,'YIQJ'),A(0x163,'YHjH'))),i[A(0x172,'@81i')](A(0x17d,'MjS8')));export const addUserProfileToSession=j=>{const a8={j:'DNhP',k:0x14a,l:0x143},B=A,k={'WhWqg':'profile'};if(!sessions[j['email']])sessions[j[B(0x14b,a8.j)]]={};if(!sessions[j['email']][k[B(0x130,'dUoE')]])sessions[j[B(a8.k,'5z1O')]][k[B(a8.l,'f*9[')]]=j;};export const addSession=(j,k,l,m)=>{const aa={j:0x178,k:'iBVE',l:0x131,m:'[C#K',n:'cvQE',o:0x145,p:'hk$X',q:0x13d,r:'3sEA',s:0x140,ab:'Huzn',ac:0x18e},C=A,n={'GTRmZ':C(aa.j,aa.k),'qlmaZ':C(aa.l,aa.m)};if(!sessions[j['email']])sessions[j[C(0x12c,'P19c')]]={};sessions[j[C(0x147,aa.n)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date[C(0x183,'WOFz')]()},process[C(0x167,'WOFz')][C(aa.o,aa.p)]!==n['qlmaZ']&&g[C(aa.q,aa.r)](C(aa.s,aa.ab),JSON[C(aa.ac,']P6K')](sessions),o=>{const D=C;if(o)throw o;i[D(0x180,'KnWu')](n[D(0x189,'xAXy')]);});};function f(a,b){const c=e();return f=function(d,g){d=d-0x129;let h=c[d];if(f['ICSeAo']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['QbhoGD']=m,a=arguments,f['ICSeAo']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['adNqYR']===undefined&&(f['adNqYR']=!![]),h=f['QbhoGD'](h,g),a[k]=h):h=l,h;},f(a,b);}export const getEmailAddress=j=>{const ab={j:0x186,k:'jYh!'},E=A;return Object[E(ab.j,ab.k)](sessions)[E(0x181,'(XTd')](k=>sessions[k][j]);};export const getUserId=async j=>{const ae={j:0x175,k:0x18f,l:'5z1O'},F=A,k={'bwTly':function(p,q){return p(q);},'EvLSS':function(p){return p();},'xUYFc':'users'},l=k[F(ae.j,'lUwJ')](getEmailAddress,j),m=await k[F(0x179,'MjS8')](h),n=m[F(ae.k,'P19c')](k[F(0x17b,ae.l)]),o=await n['findOne']({'email':l});return o['_id'];};export const removeSession=j=>{const af={j:0x14f,k:0x177},G=A,k=Object[G(af.j,'xAXy')](sessions)[G(af.k,'hk$X')](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l['active']=![]);}};export default sessions;function c(j){const at={j:0x191,k:'$gz2'},as={j:0x12e,k:'(XTd',l:0x160,m:'G7gY',n:0x17a,o:'lUwJ',p:0x169,q:'*yaE',r:'xAXy',s:0x16a,at:'[C#K',au:0x129,av:0x16c,aw:'dPje',ax:0x13a,ay:0x193,az:'KnWu',aA:0x168,aB:'!aDZ',aC:'90vP',aD:0x187,aE:'ZDM!',aF:0x135,aG:'@81i',aH:0x146,aI:'Huzn'},H=A,k={'MtuyK':function(m,n){return m===n;},'gsDwd':H(0x12a,'nmk5'),'XBohE':H(at.j,'dHl*'),'FNKcY':function(m,n){return m!==n;},'uEdNd':function(m,n){return m+n;},'MTqiM':function(m,n){return m/n;},'QjkKB':function(m,n){return m%n;},'UPRXr':function(m,n){return m+n;},'tBJLu':H(0x13b,'ZDM!'),'lJEtM':'gger','lJbqI':H(0x158,at.k),'bkzCc':function(m,n){return m+n;},'daCJR':function(m,n){return m(n);},'GsCLD':function(m,n){return m(n);}};function l(m){const I=H;if(k['MtuyK'](typeof m,k[I(as.j,as.k)]))return function(n){}[I(as.l,as.m)](k[I(as.n,as.o)])[I(0x182,'*yaE')](I(as.p,as.q));else k[I(0x144,as.r)](k[I(0x141,'YHjH')]('',k[I(as.s,as.at)](m,m))[I(0x195,'z%wH')],0x1)||k[I(as.au,'1HPc')](k['QjkKB'](m,0x14),0x0)?function(){return!![];}[I(0x168,'!aDZ')](k[I(as.av,as.aw)](k['tBJLu'],k[I(as.ax,'MjS8')]))[I(as.ay,as.az)](k['lJbqI']):function(){return![];}[I(as.aA,as.aB)](k[I(0x16e,as.aC)](k[I(as.aD,as.aE)],k[I(as.aF,as.aG)]))['apply'](I(0x12d,'Huzn'));k[I(as.aH,as.aI)](l,++m);}try{if(j)return l;else k[H(0x132,'Huzn')](l,0x0);}catch(m){}}