import{r as d,j as a}from"./react-BO5Oafrg.js";import{a as q}from"./axios-CCb-kr4I.js";import{a as J}from"./js-cookie-Cz0CWeBA.js";import{F as w,r as B,s as I,t as P}from"./@fortawesome-CVOXNFAe.js";import{P as l}from"./prop-types-BwQq7MVh.js";import{P as h,E as v,F as m,Q as f,z as g,R as N,e as y,f as b,S as C,T as R,U as D,J as E,K as W,M as L,L as G,V as O,W as c,G as _,X as $,I as K}from"./@coreui-Bdd1l_dn.js";import{d as Q}from"./react-router-CrAkkUaR.js";import{f as V,p as z}from"./date-fns-d86iDkYP.js";import"./core-js-Bohkx0y1.js";import"./react-dom-MgmTyvJo.js";import"./scheduler-CzFDRTuY.js";import"./@popperjs-BQBsAJpH.js";import"./chart.js-DpsrBYWd.js";import"./@kurkle-BZxJdD1U.js";import"./@remix-run-D_05oOQ-.js";const S=t=>{const s=d.useRef(null),e=d.useRef(null);return d.useEffect(()=>{document.documentElement.addEventListener("ColorSchemeChange",()=>{s.current&&setTimeout(()=>{s.current.data.datasets[0].pointBackgroundColor=h("--cui-primary"),s.current.update()}),e.current&&setTimeout(()=>{e.current.data.datasets[0].pointBackgroundColor=h("--cui-info"),e.current.update()})})},[s,e]),a.jsxs(v,{className:t.className,xs:{gutter:4},children:[a.jsx(m,{sm:6,xl:4,xxl:3,children:a.jsx(f,{color:"primary",value:a.jsxs(a.Fragment,{children:["26K"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(-12.4% ",a.jsx(g,{icon:N}),")"]})]}),title:"Loads",action:a.jsx(y,{alignment:"end",children:a.jsx(b,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(C,{ref:s,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:h("--cui-primary"),data:[65,59,84,84,51,55,40]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:30,max:89,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1,tension:.4},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(m,{sm:6,xl:4,xxl:3,children:a.jsx(f,{color:"info",value:a.jsxs(a.Fragment,{children:["$6.200"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(40.9% ",a.jsx(g,{icon:R}),")"]})]}),title:"Savings",action:a.jsx(y,{alignment:"end",children:a.jsx(b,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(C,{ref:e,className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"transparent",borderColor:"rgba(255,255,255,.55)",pointBackgroundColor:h("--cui-info"),data:[1,18,9,17,34,22,11]}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{border:{display:!1},grid:{display:!1,drawBorder:!1},ticks:{display:!1}},y:{min:-9,max:39,display:!1,grid:{display:!1},ticks:{display:!1}}},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(m,{sm:6,xl:4,xxl:3,children:a.jsx(f,{color:"warning",value:a.jsxs(a.Fragment,{children:["500M"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(84.7% ",a.jsx(g,{icon:R}),")"]})]}),title:"Spending",action:a.jsx(y,{alignment:"end",children:a.jsx(b,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(C,{className:"mt-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40],fill:!0}]},options:{plugins:{legend:{display:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}},elements:{line:{borderWidth:2,tension:.4},point:{radius:0,hitRadius:10,hoverRadius:4}}}})})}),a.jsx(m,{sm:6,xl:4,xxl:3,children:a.jsx(f,{color:"danger",value:a.jsxs(a.Fragment,{children:["2K"," ",a.jsxs("span",{className:"fs-6 fw-normal",children:["(-23.6% ",a.jsx(g,{icon:N}),")"]})]}),title:"Customers",action:a.jsx(y,{alignment:"end",children:a.jsx(b,{color:"transparent",caret:!1,className:"text-white p-0"})}),chart:a.jsx(D,{className:"mt-3 mx-3",style:{height:"70px"},data:{labels:["January","February","March","April","May","June","July","August","September","October","November","December","January","February","March","April"],datasets:[{label:"My First dataset",backgroundColor:"rgba(255,255,255,.2)",borderColor:"rgba(255,255,255,.55)",data:[78,81,80,45,34,12,40,85,65,23,12,98,34,84,67,82],barPercentage:.6}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1,drawTicks:!1},ticks:{display:!1}},y:{border:{display:!1},grid:{display:!1,drawBorder:!1,drawTicks:!1},ticks:{display:!1}}}}})})})]})};S.propTypes={className:l.string,withCharts:l.bool};const M=({handleSearchSubmit:t,query:s,setQuery:e})=>a.jsx(E,{method:"get",onSubmit:t,children:a.jsxs(W,{className:"mb-3",children:[a.jsx(L,{placeholder:"Search","aria-label":"tracking id","aria-describedby":"basic-addon",name:"q",value:s,onChange:x=>e(x.target.value)}),a.jsx(G,{id:"basic-addon",type:"submit",children:a.jsx(w,{icon:B})})]})});M.propTypes={handleSearchSubmit:l.func.isRequired,query:l.string.isRequired,setQuery:l.func.isRequired};const F=({currentPage:t,setCurrentPage:s,totalPages:e,setTotalPages:x})=>a.jsxs(O,{align:"center","aria-label":"Page navigation example",children:[a.jsx(c,{onClick:()=>s(r=>Math.max(r-1,1)),disabled:t===1,"aria-label":"Previous",children:a.jsx(w,{"aria-hidden":"true",icon:I})}),(()=>{const r=[],n=Math.max(1,t-2),p=Math.min(e,n+5-1);n>1&&(r.push(a.jsx(c,{onClick:()=>s(1),children:"1"},1)),n>2&&r.push(a.jsx(c,{disabled:!0,children:"…"},"ellipsis-start")));for(let o=n;o<=p;o++)r.push(a.jsx(c,{onClick:()=>s(o),active:t===o,children:o},o));return p<e&&(p<e-1&&r.push(a.jsx(c,{disabled:!0,children:"…"},"ellipsis-end")),r.push(a.jsx(c,{onClick:()=>s(e),children:e},e))),r})(),a.jsx(c,{onClick:()=>s(r=>Math.min(r+1,e)),disabled:t===e,"aria-label":"Next",children:a.jsx(w,{"aria-hidden":"true",icon:P})})]});F.propTypes={currentPage:l.number.isRequired,setCurrentPage:l.func.isRequired,totalPages:l.number.isRequired,setTotalPages:l.func.isRequired};const ca=()=>{const[t,s]=d.useState([]),[e,x]=d.useState(1),[r,j]=d.useState(0),[n,p]=d.useState(""),o=Q(),A=i=>{i.preventDefault(),k(0,n)},k=async(i,T)=>{try{const u=await q.post("https://backend-core1.axleshift.com//api/v1/freight",{page:i,q:T},{headers:{Authorization:`Bearer ${J.get("RCTSESSION")}`}});if(u.status!==200)return;s(u.data.data),j(u.data.totalPages)}catch(u){console.error(u)}};return d.useEffect(()=>{k(e,n)},[e]),a.jsxs(a.Fragment,{children:[a.jsx(S,{className:"mb-4"}),a.jsx(M,{className:"mb-4",handleSearchSubmit:A,query:n,setQuery:p}),a.jsx(v,{children:t.map(i=>a.jsx(m,{sm:6,xl:4,xxl:3,className:"mb-3",onClick:()=>o(`/v/${i._id}`),style:{cursor:"pointer"},children:a.jsxs(_,{children:[a.jsxs($,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{}),a.jsx("span",{children:V(z(i.created_at),{addSuffix:!0})})]}),a.jsx(K,{children:a.jsxs("blockquote",{className:"blockquote mb-0",children:[a.jsx("p",{children:i.data.shipment.shipment_description}),a.jsx("footer",{className:"blockquote-footer",children:i.type})]})})]})},i._id))}),a.jsx(F,{currentPage:e,setCurrentPage:x,totalPages:r,setTotalPages:j})]})};export{ca as default};
