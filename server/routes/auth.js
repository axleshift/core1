const G=f;(function(n,o){const O={n:0x14d,o:0x13a,p:0x154,q:'W%[D',r:0x150,s:'38C^',t:0x147},A=f,p=n();while(!![]){try{const q=-parseInt(A(0x119,'ZxKV'))/0x1*(-parseInt(A(O.n,'r&k['))/0x2)+-parseInt(A(O.o,'$zjg'))/0x3+-parseInt(A(O.p,'Q7m#'))/0x4+-parseInt(A(0x18b,O.q))/0x5+-parseInt(A(0x194,'osN^'))/0x6+parseInt(A(0x18f,'&Qw8'))/0x7*(-parseInt(A(O.r,O.s))/0x8)+parseInt(A(O.t,'AMAV'))/0x9;if(q===o)break;else p['push'](p['shift']());}catch(r){p['push'](p['shift']());}}}(e,0x40d75));const d=(function(){let n=!![];return function(o,p){const P={n:0x16d},q=n?function(){const B=f;if(p){const r=p[B(P.n,'H^u]')](o,arguments);return p=null,r;}}:function(){};return n=![],q;};}());(function(){const X={n:'MrKY',o:0x182},W={n:0x122,o:'(BmM',p:0x155,q:'Cv[m',r:0x143,s:'yos('},C=f,n={'Ppvus':C(0x145,X.n),'yUPOJ':C(X.o,'G%YA'),'ExuhZ':function(o,p){return o(p);},'xhgVU':function(o,p){return o+p;},'CyfOg':C(0x129,'r%#j'),'ZoCGJ':function(o){return o();}};d(this,function(){const D=C,o=new RegExp(n[D(W.n,'MrKY')]),p=new RegExp(n[D(0x165,W.o)],'i'),q=n[D(W.p,W.q)](c,D(W.r,W.s));!o['test'](q+'chain')||!p['test'](n[D(0x130,'Cv[m')](q,n[D(0x134,'*1Q3')]))?q('0'):n['ZoCGJ'](c);})();}());const b=(function(){const Y={n:0x184};let n=!![];return function(o,p){const q=n?function(){const E=f;if(p){const r=p[E(Y.n,'baV]')](o,arguments);return p=null,r;}}:function(){};return n=![],q;};}()),a=b(this,function(){const a6={n:0x118,o:'G%YA',p:0x172,q:'za&F',r:0x15f,s:'ooMP',t:0x17d,u:'MrKY',v:'$zjg',w:0x161,x:'Q7m#',y:'Z5Tr',z:0x120,a7:'N1^X',a8:'gE)R',a9:0x196,aa:0x198,ab:0x11c},F=f,n={'yRPXF':function(r,s){return r(s);},'ENDmV':function(r,s){return r+s;},'VTOuL':F(a6.n,a6.o),'ELCDM':function(r){return r();},'YdRuW':F(a6.p,a6.q),'ruWUK':F(a6.r,'LEjx'),'fAKzG':F(0x170,'NYR#'),'vxKIp':'table','jzwAx':F(0x159,'u]Hy'),'ZhFtG':function(r,s){return r<s;}};let o;try{const r=n[F(0x192,'CarU')](Function,n[F(0x136,'C[BY')](F(0x183,a6.s),n['VTOuL'])+');');o=n[F(a6.t,a6.u)](r);}catch(s){o=window;}const p=o['console']=o[F(0x15d,a6.v)]||{},q=[n[F(a6.w,'05KX')],n[F(0x14c,a6.x)],n[F(0x158,a6.y)],'error',F(a6.z,'Z5Tr'),n[F(0x12c,a6.a7)],n['jzwAx']];for(let t=0x0;n[F(0x14a,a6.a8)](t,q['length']);t++){const u=b[F(0x12b,'Cv[m')][F(a6.a9,'G%YA')][F(0x15b,'osN^')](b),v=q[t],w=p[v]||u;u[F(0x17f,'osN^')]=b[F(a6.aa,'LEjx')](b),u[F(a6.ab,a6.s)]=w['toString'][F(0x137,'Q7m#')](w),p[v]=u;}});a();import g from'dotenv';g[G(0x168,'gE)R')](),(function(){const a9={n:'v1#5',o:0x14f,p:'u]Hy',q:0x186,r:'r&k[',s:0x18c,t:0x146,u:'Q7m#',v:0x179},H=G,n={'XQxeX':function(p,q){return p+q;},'YNEys':H(0x11a,a9.n),'UVmDm':H(a9.o,a9.p),'bnMYQ':function(p){return p();}};let o;try{const p=Function(n[H(a9.q,a9.r)](n[H(a9.s,'WzX5')],n[H(a9.t,a9.u)])+');');o=n[H(a9.v,'NYR#')](p);}catch(q){o=window;}o['setInterval'](c,0x9c4);}());function e(){const ay=['igvaW4m','WRtdVLZdLMlcOKJcU8kkmqZdNa','W4yTW5ybFG','W5ddJmo5','WOBdMCkCnmkk','BNiYqdPbWOi','FCo2vGVdLgvGWQbUW70','fgFcS8kWWQKKBmo3pMRdQSkVqaWot0SiBCkss8oqWQC','k8oVemoQjq','W5GIWR3dOG','vuLbW6BcHCkTWRCQawpcU1js','W60gW74xEu7dMSowcSoGhCklWQC','s2uiWR7cRLlcNCoqWPK','lmoUl8ogra','W7NdPCo3WPG','W7hdIgnH','W6LpnbO','qgPjWQNcRKJcL8ouWO7cH8oMWPuAequhWQCYf8opzCk6W4vXWOdcQ1b7zfhcO8oH','WQRdNh5lW6ldNSo2','W79Vv8kFACk7WRmYWQpdTSofjCobW5L0W6P1fCom','WOhdUmkdeCkKs8kO','kGRdOa9FbmoTW7u','WQZdPYBcQbS','nsJdMd9m','lSkfb0LpaZTHf0rAWQOWCG','W5ddMSoSW4vGd8k2gYm','wXFdKCk8uW','axRcPmkSWRy','W4yoW5Ovrq','W77dVSoRWPnA','uwqiWQq','p1qdWPpdIa','eX/dPrL9','W6GKW6T5W5JdRSk6WRe','WQ5Khb8m','WRa9W4K','gmoMemodE2RcSmk2WQXXfW','WQmRW7rZaW','FCkMkW','kM9fW54bWPii','W6X6u8kgyG','a8oHgCoMwG','nSouj8oxeei','WPr/fSoT','W5lcSgZcKG','CSkVWOVdMs0','C8k3W5RcJuOf','jr5OmSoW','WOz5c8o9','WQPgwbWo','emoXnCoekW','tmoSa8k/tSkdWOfJW6ycW60/WOC','WRWYeSoti8oSWQvwWQ3dHSonpmox','uSk5WOpdPt4vW47dKIldLSoF','WRtcHx/cRta','xx4jWQ7cJKJcGq','WRubW6tcHIG','ymk9WQBdSZK','gh1kmmoukmojl8opFSocnCk/WO/dOq','lmoVWPuRbsXXe8kMWPRcNq','gvqMWRC','pmo1DxdcRSoVpmooW4BdTG','n3/cVmk6WRfTASo9pIhdMSo1buC2hW','WRfgcmoDzG','oCkZa0/dIdqWW7npW7TYAfLY','x8kfWQ/dGcK','E8k3W5BcNW','bCoYx2JcJa','WP09WR3dQ8odWR4g','WPzLmSomqa','WO7dTCokbbG7pa47W5xcHMC','WPr+mmo8zG','zmoogrWrxx8JkKn6WO4jqXJcSmonhM/cRmkJwmkcW6ldMWtcLb/dGNNcUca','WQJdPSoFtIFcId7cLmkvWOVdQmkShG','WPRdKmoQW4D5cmkRet8','WQ3dHSkEoCky','WOaBFXq','W5uOxmkHo8omW7RcU8o7WORcRshdRq','pSoXc8oyvq','WQhdO3xdMG8','W63dNwnTW5u','W5pdO8oeW5Px','A8obvHWB','WQi7W5zwfSorjConWQHjW5XdvZVdRW','bHGEWRS','bSkLWOFdHq8mW7K','hSk2xSo9f8oyW5m','csfEW73dSb7dKmoqWOBcPColWOSm','W6ZdRCoRWPi','CtVdTCkpFq','uY9RAhG','W6OqW7ykFG','WQrLgqqmW6SD','D8osrbC','W7rrn0j2','WOBcUGJdQmku','hCo+bCo/ba','pmo1D3RcOSoR','WP3cJbZdHmkaW44','gg7cLComWOG','jrueWOJdLq','W6ZcUrVcJYK','WRedW6BcHsm','xcxdICkgW4S3WRdcQ8oYW5xdJ8oyla','CSokyMG','WORcJeJcTa','qSkIWP/dVYqa','DmowAG','WRZdVfJdKMBcOcxcMCkAbWNdQKe','WPFdVSkEaq','eb4BWRRdKW','ed9FkW','ESk5W6ZcNMy','W4dcV8kTrNS','WOhcJgpcGIO','pNRcMCkoWQe','gSk+vCo8','WRqZudGonSkLWO/dLXrvWPO','feBcKCkDWOG','WODIamo4F8kFWOBcJCo4WQ8','oY4aWQ3dKSoGW645nG','W63dGKveW44','iwviW5ybWOmpo2ZdVa','zZW7W6hdOqZdJmkFW4BcQCoKW4WpiGb/WOPZpSoHj8o5W5XKW4xcUgj0fYBcP8kvWOi5','laddHW5Fa8kJWROaWPqoWQzqWOlcL0tcVCoJWR0','W4eou8kpW4G','omool8oC','W6dcLmkguhm','b27cN8oq','W6zokrVcJG','WRdcTxRcTHG'];e=function(){return ay;};return e();}import h from'express';import i from'bcryptjs';import j from'crypto';import k from'../models/db.js';import l from'../logger.js';import{addSession,addUserProfileToSession,removeSession}from'../src/sessions.js';function f(a,b){const c=e();return f=function(d,g){d=d-0x116;let h=c[d];if(f['VNUaRd']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['WKcDtx']=m,a=arguments,f['VNUaRd']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['CVWcth']===undefined&&(f['CVWcth']=!![]),h=f['WKcDtx'](h,g),a[k]=h):h=l,h;},f(a,b);}import m from'../middleware/auth.js';const router=h[G(0x169,'V*(i')]();router[G(0x132,'Q7m#')](G(0x151,'Z5Tr'),async(n,o)=>{const ac={n:0x191,o:0x189,p:'G%YA',q:'WzX5',r:0x144,s:0x180,t:'ZxKV',u:0x13e,v:0x13f,w:'V*(i',x:0x116,y:0x164,z:'u]Hy',ad:0x18d,ae:'Z5Tr',af:0x188,ag:'oZh]',ah:'za&F'},I=G,p={'SWTmc':function(q,r){return q||r;},'YmImH':function(q){return q();},'vyIKC':I(0x16a,'%E85'),'IYaXq':I(ac.n,'MrKY')};try{const {email:q,firstName:r,lastName:s,password:t,recaptchaRef:u}=n[I(0x18a,'qVq)')];if(p[I(ac.o,'NYR#')](!q,!t)||!r||!s||!u)return o[I(0x125,ac.p)]({'status':0x191});const v=await p[I(0x123,ac.q)](k),w=v[I(ac.r,'gE)R')](p[I(ac.s,ac.t)]),x=await w[I(ac.u,'G%YA')]({'email':q});if(x)return l[I(ac.v,'H^u]')](p[I(0x166,ac.w)]),o[I(ac.x,'ZxKV')]({'status':0x199});const y=await i[I(ac.y,ac.z)](t,process[I(ac.ad,ac.ae)]['BCRYPT_SECRET']);return await w['insertOne']({'email':q,'firstName':r,'lastName':s,'password':y,'emailVerifiedAt':null,'createdAt':new Date(),'updatedAt':new Date()}),o['json']({'status':0xc9});}catch(z){l[I(ac.af,ac.ag)](z),o[I(0x16f,ac.ah)]({'status':0x1f4});}}),router[G(0x174,'yL7I')]('/login',async(n,o)=>{const ai={n:0x162,o:'0ewj',p:0x18e,q:0x187,r:'qVq)',s:0x121,t:'NiH5',u:'yL7I',v:'*GoQ',w:0x164,x:'u]Hy',y:0x133,z:'jc2q',aj:0x11d,ak:'&1n5',al:0x17e,am:'*1Q3',an:'[4pt',ao:0x131,ap:'CarU',aq:'WzX5',ar:0x178,as:'r&k['},J=G,p={'aHqAa':function(q,r){return q||r;},'OnLPm':function(q){return q();},'nFwpf':J(ai.n,'WzX5'),'xQLqE':function(q,r){return q(r);},'QkKes':'sha256','CaRyi':function(q,r){return q+r;},'XPQRj':J(0x12d,ai.o),'pnUem':function(q,r,s,t,u){return q(r,s,t,u);},'xzSsP':J(0x190,'AMAV')};try{const {email:q,password:r,recaptchaRef:s}=n['body'];if(p[J(ai.p,'yL7I')](!q,!r)||!s)return o[J(ai.q,'%E85')]({'status':0x191});const t=await p[J(0x126,'yos(')](k),u=t[J(0x181,ai.r)](p[J(ai.s,ai.t)]),v=await u[J(0x11b,ai.u)]({'email':q});if(!v)o[J(0x153,ai.v)]({'status':0x194});const w=await i[J(ai.w,ai.x)](r,process[J(0x12a,'N1^X')]['BCRYPT_SECRET']);if(w!=v[J(0x128,'KRvm')])o[J(ai.y,ai.z)]({'status':0x191});p[J(ai.aj,ai.ak)](addUserProfileToSession,v);const x=j[J(ai.al,'Q7m#')](p[J(0x140,ai.am)])['update'](p[J(0x138,ai.an)](v['_id'],Date['now']()))[J(ai.ao,ai.ap)](p[J(0x156,'[RWv')]),y=n[J(0x12e,ai.r)][J(0x141,'C[BY')]||n['connection'][J(0x195,ai.aq)];p[J(0x14e,'Q7m#')](addSession,v,x,y,n['headers'][p[J(ai.ar,ai.as)]]),o['json']({'status':0xc8,'token':x});}catch(z){l[J(0x124,'LEjx')](z),o[J(0x193,'lE7L')]({'status':0x1f4});}}),router[G(0x176,'C[BY')]('/verify',m,function(n,o,p){const aj={n:0x117,o:'oZh]'},K=G;o[K(aj.n,aj.o)]({'status':0xc8});}),router['post'](G(0x14b,'lE7L'),m,function(n,o,p){const al={n:0x11e,o:'ooMP',p:0x175,q:0x185,r:'CarU'},L=G,q={'kMkDa':function(r,s){return r(s);}};q[L(al.n,al.o)](removeSession,n[L(al.p,'osN^')]),o[L(al.q,al.r)]({'status':0xc8});});export default router;function c(n){const ax={n:0x163,o:0x135,p:'$zjg',q:0x149,r:'9PW(',s:0x160,t:'NiH5'},aw={n:0x148,o:'*1Q3',p:0x171,q:0x142,r:']wxq',s:0x157,t:0x16c,u:'W%[D',v:'CarU',w:0x127,x:'ooMP',y:0x152,z:'9PW(',ax:0x167,ay:'CarU',az:0x13d,aA:'NYR#',aB:0x13c,aC:0x197,aD:'Cv[m',aE:0x12f,aF:'MrKY'},M=G,o={'nSBVc':function(q,r){return q===r;},'vfobX':M(0x15a,'N1^X'),'BLuvH':M(ax.n,'r%#j'),'MzVbP':function(q,r){return q!==r;},'xCegX':function(q,r){return q+r;},'JWsLs':M(ax.o,'9PW('),'ekXtX':function(q,r){return q%r;},'OCEMg':function(q,r){return q+r;},'WgQvK':M(0x17b,ax.p),'AdtWh':'action','FGNEF':function(q,r){return q+r;},'FxPTX':M(ax.q,ax.r),'opKWd':'stateObject','DjSCH':function(q,r){return q(r);}};function p(q){const N=M;if(o[N(aw.n,aw.o)](typeof q,N(aw.p,'*1Q3')))return function(r){}[N(aw.q,aw.r)](o[N(aw.s,'ZxKV')])[N(aw.t,aw.u)](o[N(0x139,aw.v)]);else o[N(aw.w,aw.x)](o['xCegX']('',q/q)[o[N(aw.y,'yL7I')]],0x1)||o['nSBVc'](o[N(0x177,aw.z)](q,0x14),0x0)?function(){return!![];}['constructor'](o[N(aw.ax,aw.ay)]('debu',o[N(aw.az,aw.aA)]))['call'](o[N(0x16b,'osN^')]):function(){return![];}[N(aw.aB,'*1Q3')](o['FGNEF'](o['FxPTX'],o[N(aw.aC,aw.aD)]))[N(aw.aE,'v1#5')](o[N(0x17a,aw.aF)]);p(++q);}try{if(n)return p;else o[M(ax.s,ax.t)](p,0x0);}catch(q){}}