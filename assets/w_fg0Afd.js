import{r as n,j as e}from"./AvajUqxD.js";import{a as l}from"./CCb-kr4I.js";import{a as p}from"./Cz0CWeBA.js";import"./CxTwvKIG.js";import{S as $,C as w,a as E}from"./zel4_BFT.js";import{A as F}from"./Bb1RUlHZ.js";import{L as N}from"./CApnrKl1.js";import{S as B}from"./B5ZNw8-i.js";import{d as k,k as A}from"./D9lVez5C.js";import{C as R,M as T,N as _,D as x,E as o}from"./TXHK0W20.js";import"./Bohkx0y1.js";import"./CWSvFvDE.js";import"./D_05oOQ-.js";import"./CjRdQy_j.js";import"./CzFDRTuY.js";import"./BQBsAJpH.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const se=()=>{const[a,d]=n.useState({shipper:{shipper_company_name:"",shipper_contact_name:"",shipper_contact_email_address:"",shipper_contact_phone_number:"",shipper_company_address:""},consignee:{consignee_company_name:"",consignee_contact_name:"",consignee_contact_email_address:"",consignee_contact_phone_number:"",consignee_company_address:""},shipment:{shipment_description:"",shipment_weight:0,shipment_dimension_length:0,shipment_dimension_width:0,shipment_dimension_height:0,shipment_volume:0,shipment_value:0,shipment_instructions:""}}),[h,g]=n.useState(""),[j,r]=n.useState(!1),[t,c]=n.useState(!0),y=k(),{id:i}=A(),m=(s,u)=>{const{id:b,value:D}=s.target;d(f=>({...f,[u]:{...f[u],[b]:D}}))},S=async()=>{r(!0),await l.get(`https://backend-core1.axleshift.com//api/v1/freight/${i}`,{headers:{Authorization:`Bearer ${p.get("RCTSESSION")}`}}).then(s=>{g(s.data.data[0].type),d(s.data.data[0].data)}).catch(s=>{console.error(s)}).finally(()=>{r(!1)})},C=async()=>{if(t)return c(!1);r(!0),await l.post(`https://backend-core1.axleshift.com//api/v1/freight/u/${h}/${i}`,a,{headers:{Authorization:`Bearer ${p.get("RCTSESSION")}`}}).then(s=>{alert("save")}).catch(s=>{console.error(s)}).finally(()=>{r(!1),c(!0)})},v=async()=>{if(!t)return c(!0);r(!0),await l.post(`https://backend-core1.axleshift.com//api/v1/freight/d/${i}`,{},{headers:{Authorization:`Bearer ${p.get("RCTSESSION")}`}}).then(s=>{y("/")}).catch(s=>{console.error(s)}).finally(()=>{r(!1)})},I=()=>{switch(h){case"air":return e.jsx(F,{isInfo:!0,formData:a,isDisabled:!0});case"land":return e.jsx(N,{isInfo:!0,formData:a,isDisabled:!0});case"sea":return e.jsx(B,{isInfo:!0,formData:a,isDisabled:!0});default:return null}};return n.useEffect(()=>{S()},[]),e.jsxs("div",{children:[j&&e.jsx("div",{className:"loading-overlay",children:e.jsx(R,{color:"primary",variant:"grow"})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{children:["#",i]}),e.jsxs(T,{children:[e.jsx(_,{color:"primary",className:"me-2 rounded",onClick:C,children:t?"Edit":"Save"}),e.jsx(_,{color:t?"danger":"secondary",className:"me-2 rounded",onClick:v,children:t?"Delete":"Cancel"})]})]}),e.jsxs(x,{xs:{cols:1},sm:{cols:2},children:[e.jsx(o,{children:e.jsx($,{isInfo:!0,formData:a,handleInputChange:m,isDisabled:t})}),e.jsx(o,{children:e.jsx(w,{isInfo:!0,formData:a,handleInputChange:m,isDisabled:t})})]}),e.jsxs(x,{xs:{cols:1},sm:{cols:2},children:[e.jsx(o,{children:e.jsx(E,{isInfo:!0,formData:a,handleInputChange:m,isDisabled:t})}),e.jsx(o,{children:I()})]})]})};export{se as default};
