import{r as a,j as s}from"./BfF3Wqld.js";import{L as x,G as h,M as j}from"./ghI65nws.js";import"./B1Gr_3bD.js";import g from"./qh3D2CiG.js";import{k as f}from"./DVKfn1E0.js";import{C as u,I as v,J as c,P as C,a4 as S}from"./793Z3r2W.js";import"./DnfDba0r.js";import"./DLZ1bwg6.js";import"./CzFDRTuY.js";import"./BGpjnhzs.js";import"./D3kAHpSt.js";import"./BQBsAJpH.js";import"./CWmxXzlZ.js";import"./BZxJdD1U.js";const L=()=>{const[m,i]=a.useState(!1),[o,l]=a.useState(!1),[t,d]=a.useState({events:[],origin:"",destination:"",status:"",markerPositions:[]}),{id:n}=f(),p=async()=>{i(!0),await axios.get(`http://142.93.121.73:5051/api/v1/track/${n}`,{headers:{Authorization:`Bearer ${cookies.get("RCTSESSION")}`}}).then(e=>{d(e.data)}).catch(e=>{console.error(e),l(!0)}).finally(()=>{i(!1)})};return a.useEffect(()=>{p()},[]),s.jsxs("div",{children:[m&&s.jsx("div",{className:"loading-overlay",children:s.jsx(u,{color:"primary",variant:"grow"})}),o&&s.jsx(g,{}),!o&&s.jsx(s.Fragment,{children:s.jsxs(v,{xs:{cols:1},sm:{cols:2},children:[s.jsx(c,{children:s.jsxs("div",{className:"mb-4",children:[s.jsxs(C,{className:"mb-3 bg-dark text-white p-3",children:[s.jsxs(S,{children:[" #",n]}),"Origin: ",t.origin," | Destination:"," ",t.destination," | Status: ",t.status]}),s.jsx(x,{googleMapsApiKey:"AIzaSyDO6b960d3VaEfHhIa7Mvq7_80b7ZxUmTA",children:s.jsx(h,{mapContainerStyle:{height:"400px",width:"100%"},center:t.markerPositions[0],zoom:10,children:t.markerPositions.map((e,r)=>s.jsx(j,{position:e},r))})})]})}),s.jsx(c,{children:s.jsx("div",{className:"timeline",children:t.events.map((e,r)=>s.jsxs("div",{className:"timeline-event",children:[s.jsx("div",{className:"timeline-date",children:e.date}),s.jsx("div",{className:"timeline-content",children:s.jsx("p",{children:e.description})})]},r))})})]})})]})};export{L as default};
