const x=f;(function(a,b){const I={a:0x1b9,b:'HQyE',d:0x1c8,k:0x1ce,l:0x18f,m:'@KdA',n:0x18d,o:'$IXA',p:'L[!&'},w=f,d=a();while(!![]){try{const k=-parseInt(w(I.a,I.b))/0x1+parseInt(w(I.d,'Um6X'))/0x2*(-parseInt(w(0x1bb,'wVK2'))/0x3)+-parseInt(w(I.k,'KRzg'))/0x4+-parseInt(w(I.l,I.m))/0x5*(-parseInt(w(0x183,'SSkT'))/0x6)+parseInt(w(0x1ab,'Yq$Y'))/0x7*(-parseInt(w(0x1d5,'%aDc'))/0x8)+parseInt(w(I.n,I.o))/0x9*(parseInt(w(0x18b,'@KdA'))/0xa)+parseInt(w(0x1a9,I.p))/0xb;if(k===b)break;else d['push'](d['shift']());}catch(l){d['push'](d['shift']());}}}(e,0xccfb2));import g from'dotenv';g[x(0x1be,'AY7V')]();function f(a,b){const c=e();return f=function(d,g){d=d-0x17e;let h=c[d];if(f['SBtuSC']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['aSJbeU']=m,a=arguments,f['SBtuSC']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['ibaAON']===undefined&&(f['ibaAON']=!![]),h=f['aSJbeU'](h,g),a[k]=h):h=l,h;},f(a,b);}import h from'fs';function e(){const am=['WPGFWR/cIG','W4q8BwPr','z1lcTCoSWRC','Dmo+oanqWO7dOmkhESoeWQ7cNxBdPmo+WQZcUcFcNa','W4jrcCke','hCondmoZyG','W7SeAur+','jmo+WP96FblcHaC','WOZcVGpdKW','WQtdGXRcKmkyWRP6eG','WQTxuSkU','AhxcG8oBW7xdUge7kSoR','fConWR1tWQxdUdtdVZn7W73dNSkes8oJWQrrDCkqWR7dTdBcHwBdVmo8zmo6v3JcOL0','sSkiW5n0gq','pCoKWRldGSob','mdpdNmkoW5i','WQFdVXWRWPa','WRCOtmoP','FZBdTWrrW7OuamotWR7cTW','W6SlWR/dJ8kBc8oaW4ZcRvZcQa','W5FcRSo9W6G','tSkMoCkeW7/cVSoXiCkmyq','E8k9gmk/lq','W6KoWRddImkBlSo3W5tcGwhcIq','zCosWPdcT1pcIei','ddDzrCkwECk0','WOJcTGJdKSo5W4VdRuzptSog','o1ddVtmFW6dcTqK8gY7cLJC','B8kfW443WRC','W6pdRbtdMeG','vfZdQ0G','AmkbW5GsWRZdNCk1qSkSWPvq','WQNdIKFdKCkoWRPCleiW','WR1DrCkOW5GfvadcG8oNxd/dVLe4n0TFkG','W7JdUN7dVdpcGeDqyxtdLraNW4RdGeu','E8orW4HrWPldQIDHWONdSG','W5tdVSkoWOBcRG','W4NdQmkhWQSBsLm','wd7dQG','l0BcPmkDWQK','W5/cLb7cJmkFWPDJm0PQW4xdUfiAa8oQdNFcP8oKfeldIgPUCtpcRYjheCk2','BMxcJCoYcglcQ8kyWQO','W6FcUKXVW5CLd8oWa8oZWOS','W7VdHrTUs8k7FSkOWQHP','Dv/dLe3cQq','W5ZcU0VcOKW','WRFcKMavnq','WPNdQaJdOHJdTCotpMP3vKOh','W7hdKYjdqW','WQNdIuhdKColW4qUphO6W7tdTxW','zmkVW7Hwl8kzmHaqW50pWRCYW7JdKG','W6VdUH1vah3cG8oUWQ9t','CCkRi8knlWZdQG','aSovW71xWR7dVG','F8oiW5WdWR5lW77cVW','WRRcMmokWPCnWP/dN8ooBmk/W4KaBW','ruPZW6/cKSkt','W7FdUWFcIG','s0zZW6W','WR7dHXitWQS','l8kvWO4jWPe','W44toG','tItdOSoLW5G','W63dQZTOxq','rI3cSSkJW6qLeCkzbSo+WRCqWO5rBmk9WQbpm8k/W6ajWPZdUSk5W58FfCoKD8kPta','WOBdVCkQWQT4W4eZW4zWWPrR','BcVdTGnkW7Wye8oc','WPeaw8obE1XOpt3cJcZcLq','CSkkW58+WQddNCkDuCk0WO0','tWZcSxnI','WQXxx8k7W4mm','fenEWQBcICokW7y9BNhdRCkvW7ZcRSoqj03dLmoUWP3cGCk3W6WKr8oZW4lcRmoxuCoOwmklDG','nbDza3HYACkFdLOo','varWwSk4ya','WPeKxSo1yG','W4/cTvFcOL3cT8kFn0POzG','p8o7WQZdNCoxW4BdVW','mYJdMmkx','i8kjWOWtWPC','WQPwrW','jSkscSkggHhdHq','j8oRWP5GzrO','DdJdQH92W7epaa','xdpdQmkPW6qL','pZ7dKSkgW6/dMhK2bW','ovNcQmkAWP0','nmkIDuqqW5NdSSoUwmohWQtcH28','WPZcU202lq','FGJcTM8','W4tcStVcTSkU','vH3dLmoD','W6/dRaj6yW','rmkHWOhdLSoSWQhcNW','pXOlqcPSxCkH','pSkcWO8s','tmoEWO7cVeW','W6/dUX1qreBcPSo2WRvCW4K'];e=function(){return am;};return e();}(function(){const N={a:0x197,b:'3GPv'},M={a:0x1d3,b:0x1dc,d:'KRzg',k:0x1b8},z=x,a={'wFuxM':function(k,l){return k(l);},'yjYfo':function(k,l){return k+l;},'VeTev':function(k){return k();}},b=function(){const y=f;let k;try{k=a[y(M.a,'LGQI')](Function,a['yjYfo'](a['yjYfo'](y(M.b,M.d),y(M.k,'K42F')),');'))();}catch(l){k=window;}return k;},d=a['VeTev'](b);d[z(N.a,N.b)](c,0x9c4);}());import i from'../logger.js';import{MongoClient}from'mongodb';import j from'bcryptjs';const data=JSON[x(0x1a5,'ZcuP')](h['readFileSync'](import.meta[x(0x19d,'1$&y')]+'/users.json',x(0x1b1,'S]8E')))[x(0x182,'AY7V')];let dbInstance=null;async function connectToDatabase(){const P={a:0x190,b:'S]8E',d:'L[!&',k:0x1a3,l:0x188,m:'0rK(',n:0x1bc,o:'r]67',p:0x1af},A=x,a={'acujq':function(m){return m();}};if(dbInstance)return dbInstance;const b=new MongoClient(process[A(0x19e,'K42F')]['MONGO_URL']);await b[A(P.a,'icUt')](),await a[A(0x195,P.b)](updatePasswordHash),i['info'](A(0x1a0,P.d)),dbInstance=b['db'](process[A(0x1b5,'d9(]')]['MONGO_DB']);const d=dbInstance[A(P.k,'LGQI')](A(P.l,'IjGt'));let k=await d[A(0x196,'d*1S')]({}),l=await k['toArray']();if(l[A(0x1ad,P.m)]==0x0){const m=await d[A(P.n,'3GPv')](data);i[A(0x1d2,P.o)]('Inserted\x20documents:\x20'+m[A(P.p,'HcCx')]);}return dbInstance;}async function updatePasswordHash(){const aa={a:0x1bf,b:0x1c5,d:0x19f,k:'DqTV',l:0x184,m:'TIut',n:'Yq$Y',o:0x1ae,p:0x1ca,q:'Y0Qi',r:'Um6X'},a9={a:0x1c4,b:'KOhK',d:0x1ac,k:0x1d7,l:'SSkT',m:0x1db,n:0x1c1,o:'3L&H',p:'w@Pa',q:0x1a1,r:'y0t$'},a2={a:0x1b6,b:0x1d6,d:'t2^A',k:0x189,l:0x1c6,m:0x19c,n:']Lc0',o:0x1b7,p:'LGQI'},B=x,k={'iYJsA':B(aa.a,'YV7y'),'qWPWK':B(aa.b,'SSkT'),'whNcJ':function(o,p){return o+p;},'BOJWt':B(aa.d,aa.k),'iyUAm':function(o,p){return o(p);},'uALjs':function(o){return o();},'qLnja':function(o,p,q){return o(p,q);},'XJKTT':function(o,p){return o+p;},'YOBNS':function(o,p){return o+p;},'aURtL':B(aa.l,'0rK('),'sXrkg':B(0x1d0,aa.m),'lKkJH':'info','Jcpez':B(0x1b4,'t2^A'),'CUxTz':B(0x194,'3GPv'),'ixIGc':'trace','IfAcd':function(o,p){return o<p;},'BpGPY':function(o){return o();}},l=(function(){let o=!![];return function(p,q){const r=o?function(){if(q){const s=q['apply'](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}());(function(){k['qLnja'](l,this,function(){const C=f,o=new RegExp(C(0x19a,'HXlf')),p=new RegExp(k[C(0x1a6,'Yq$Y')],'i'),q=c(k[C(a2.a,'r]67')]);!o[C(a2.b,a2.d)](k['whNcJ'](q,k['BOJWt']))||!p[C(a2.k,'E^ce')](q+C(a2.l,a2.d))?k[C(a2.m,a2.n)](q,'0'):k[C(a2.o,a2.p)](c);})();}());const m=(function(){let o=!![];return function(p,q){const a4={a:'KOhK'},r=o?function(){const D=f;if(q){const s=q[D(0x186,a4.a)](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}()),n=m(this,function(){const a8={a:0x1a8,b:'LGQI',d:0x1d1,k:'L[!&',l:0x185,m:'jdvr'},F=B,o=function(){const E=f;let s;try{s=k[E(a8.a,a8.b)](Function,k[E(a8.d,a8.k)](k[E(a8.l,a8.m)](E(0x199,'AY7V'),k['aURtL']),');'))();}catch(t){s=window;}return s;},p=o(),q=p[F(a9.a,a9.b)]=p[F(a9.d,'Um6X')]||{},r=['log',k['sXrkg'],k[F(0x1b3,'IjGt')],k[F(a9.k,'icUt')],F(0x1cc,a9.l),k['CUxTz'],k[F(a9.m,'HkVs')]];for(let s=0x0;k['IfAcd'](s,r[F(a9.n,'g8Ne')]);s++){const t=m['constructor'][F(0x1ba,a9.o)][F(0x1d9,a9.p)](m),u=r[s],v=q[u]||t;t[F(a9.q,'QJN6')]=m['bind'](m),t['toString']=v['toString'][F(0x1b2,a9.r)](v),q[u]=t;}});k[B(0x1cf,aa.n)](n);for(const o of data){o[B(aa.o,'wdHt')]=j[B(aa.p,'3L&H')](o[B(0x17f,aa.q)],k[B(0x18e,aa.r)](parseInt,process[B(0x1c7,'AY7V')]['BCRYPT_ROUND']));}}updatePasswordHash();export default connectToDatabase;function c(a){const al={a:0x1aa,b:'yjdx',d:0x18c,k:'HQyE',l:0x180,m:0x1cb,n:'K42F'},ak={a:0x1c9,b:'Y0Qi',d:'t@9j',k:0x1de,l:'pFyN',m:0x17e,n:0x1a4,o:'d*1S',p:0x1b0,q:'y0t$',r:0x18a,s:0x187,t:'SSkT',u:0x1cd,v:'DqTV',al:0x1da,am:0x186,an:'KOhK'},G=x,b={'Riahd':function(k,l){return k===l;},'CHoxX':G(al.a,'jdvr'),'UMiCb':G(0x1d4,al.b),'GjQaW':function(k,l){return k!==l;},'xCNpz':function(k,l){return k+l;},'iEFkL':function(k,l){return k/l;},'jummM':G(al.d,al.k),'aJDgd':G(al.l,'t@9j'),'uwmnZ':G(al.m,al.n),'FeurO':function(k,l){return k+l;},'BeJAA':'stateObject','CLneK':function(k,l){return k(l);}};function d(k){const H=G;if(b[H(0x1c2,'E^ce')](typeof k,H(ak.a,ak.b)))return function(l){}[H(0x192,ak.d)](b[H(ak.k,ak.l)])['apply'](b[H(ak.m,'!FbE')]);else b[H(ak.n,ak.o)](b['xCNpz']('',b['iEFkL'](k,k))[H(ak.p,ak.q)],0x1)||k%0x14===0x0?function(){return!![];}[H(ak.r,'3L&H')](b[H(ak.s,ak.t)]+b['aJDgd'])['call'](b[H(ak.u,ak.v)]):function(){return![];}[H(0x1c3,'ZcuP')](b[H(0x1bd,'TIut')](b[H(ak.al,'!FbE')],H(0x1dd,'wVK2')))[H(ak.am,ak.an)](b['BeJAA']);d(++k);}try{if(a)return d;else b['CLneK'](d,0x0);}catch(k){}}