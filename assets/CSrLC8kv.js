import{r as e,R as s,j as r}from"./_LxKj9PG.js";import{R as a}from"./CD8lARB7.js";import{b as t,d as i}from"./DNonNGYo.js";import{d as o,T as m,U as n,ad as l,a as j}from"./slvTtaAp.js";import"./C_9exQ7i.js";import"./Itq7e1c5.js";import"./BGnBE-TB.js";import"./c7OvE8pj.js";import"./yJGO6Amu.js";import"./BIw_sdFo.js";import"./BJRa5TG-.js";import"./tRrjmjzN.js";import"./BFk34ZWe.js";import"./lcqsW1nY.js";import"./DIrOWF5t.js";import"./D74OPSAh.js";import"./COFYN2eQ.js";import"./BJtv0x2K.js";import"./CjjZDEdp.js";import"./K-dupnmX.js";import"./ZZM5rHs7.js";import"./Dw1DiDGf.js";import"./CZm-rpfG.js";import"./YiBEvX-Q.js";import"./rRm29nvs.js";import"./CzGuHLZU.js";import"./B8Let_61.js";import"./B3Nt1-ra.js";import"./fZjk1EK6.js";import"./BXEMiIsG.js";import"./Bb7MnDjl.js";import"./CA9thugF.js";import"./BPjVUy-D.js";import"./C_n0TLp5.js";import"./DYPlXUME.js";import"./BqHrj3jM.js";const p=()=>{const[p,c]=e.useState({email:"",subject:"",message:""}),{addToast:d}=t(),[u,x]=e.useState(!1),h=s.useRef(),g=e=>{const{name:s,value:r}=e.target;c((e=>({...e,[s]:r})))};return u?r.jsx("div",{className:"loading-overlay",children:r.jsx(o,{color:"primary",variant:"grow"})}):r.jsxs(m,{onSubmit:async e=>{e.preventDefault();const s=await h.current.executeAsync();x(!0),axios.post("/mail/send",{...p,recaptcha_ref:s}).then((e=>{if(e.data.error)return d(e.data.error);d(e.data.message),c({email:"",subject:"",message:""})})).catch((e=>{var s,r;const a=(null==(r=null==(s=e.response)?void 0:s.data)?void 0:r.error)||("network error"===e.message?"Server is offline or restarting please wait":e.message);d(a)})).finally((()=>x(!1)))},className:"mx-auto p-4",children:[r.jsx("h1",{className:"text-center mb-4",children:"Send an Email"}),r.jsx(n,{type:"text",id:"emailInput",name:"email",floatingClassName:"mb-1",floatingLabel:"Email Address",placeholder:"name@example.com",value:p.email,onChange:g,required:!0}),r.jsxs("div",{className:"text-muted mb-3 small",children:[r.jsx("strong",{children:"Note:"})," Use ",r.jsx("code",{children:"all"})," to send to everyone, ",r.jsx("code",{children:"user"})," ","for users only,",r.jsx("code",{children:"email"})," for a specific email, ",r.jsx("code",{children:"admin"})," for admins, and",r.jsx("code",{children:"super admin"})," for super admins."]}),r.jsx(n,{type:"text",id:"subjectInput",name:"subject",floatingClassName:"mb-3",floatingLabel:"Subject",maxLength:50,placeholder:"Enter the subject",value:p.subject,onChange:g,required:!0}),r.jsx(l,{id:"messageInput",name:"message",className:"mb-3",maxLength:500,placeholder:"Enter your message here",rows:5,value:p.message,onChange:g,required:!0}),r.jsx("div",{className:"text-center",children:r.jsx(j,{color:"primary",type:"submit",className:"mb-3 px-4",children:"Send Email"})}),r.jsx(a,{ref:h,size:"invisible",sitekey:i})]})};export{p as default};
