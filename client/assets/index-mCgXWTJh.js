import{o as w,R as N,r as h,q as y,j as e,v as R}from"./index-DtAx5QeY.js";import{b,F as r,p as E,r as x,q as j,a as C}from"./index-CPI5bt2e.js";import{C as v,a as I,b as q,c as A,d as T,R as F,e as t,f as o,g as n}from"./recaptcha-wrapper-_F1DjpyR.js";import{C as P}from"./CButtonGroup-CRGp4Cmo.js";const G=()=>{const i=w(),p=N.useRef(),[l,u]=h.useState({email:"",firstName:"",lastName:"",password:"",repeatPassword:"",recaptchaRef:""}),f=()=>{i("/login")};h.useEffect(()=>{y.get(void 0)!==void 0&&i("/")},[]);const a=d=>{const{id:m,value:s}=d.target;u(c=>({...c,[m]:s}))},g=async d=>{if(d.preventDefault(),l.password!==l.repeatPassword)return alert("Passwords do not match");const m=await p.current.executeAsync();u(s=>({...s,recaptchaRef:m}));try{const c=(await R.post("undefined/api/auth/register",l,{headers:{}})).data.status;if(c==201)return i("/");alert(c)}catch(s){console.error(s)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(b,{children:e.jsx(v,{className:"justify-content-center",children:e.jsx(I,{md:8,lg:6,xl:5,children:e.jsx(q,{className:"mx-4",children:e.jsx(A,{className:"p-4",children:e.jsxs(T,{onSubmit:g,children:[e.jsx("h1",{children:"Register"}),e.jsx("p",{className:"text-body-secondary",children:"Create your account"}),e.jsx(F,{ref:p,size:"invisible",sitekey:void 0}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:E})}),e.jsx(n,{placeholder:"Email",autoComplete:"email",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:x})}),e.jsx(n,{placeholder:"First Name",autoComplete:"given-name",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:x})}),e.jsx(n,{placeholder:"Last Name",autoComplete:"family-name",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-3",children:[e.jsx(o,{children:e.jsx(r,{icon:j})}),e.jsx(n,{type:"password",placeholder:"Password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsxs(t,{className:"mb-4",children:[e.jsx(o,{children:e.jsx(r,{icon:j})}),e.jsx(n,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:a,required:!0})]}),e.jsx("div",{className:"d-grid",children:e.jsxs(P,{children:[e.jsx(C,{type:"submit",color:"success",className:"me-2 rounded",children:"Create Account"}),e.jsx(C,{color:"primary",className:"me-2 rounded",onClick:f,children:"Login"})]})})]})})})})})})})};export{G as default};
