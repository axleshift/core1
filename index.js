const N=f;(function(x,y){const a1={x:0x168,y:'#[IQ',z:'yJn5',A:0x1ac,B:'DO%Z',C:'pNBH',D:0x1a4,E:'LBhX',F:0x1b6,G:'8IqO',a2:0x1a9},H=f,z=x();while(!![]){try{const A=-parseInt(H(a1.x,a1.y))/0x1+-parseInt(H(0x15e,a1.z))/0x2*(-parseInt(H(0x1b3,'R]$z'))/0x3)+parseInt(H(0x1c4,'CooQ'))/0x4*(parseInt(H(0x1b5,'y*)V'))/0x5)+parseInt(H(a1.A,a1.B))/0x6+-parseInt(H(0x1b4,a1.C))/0x7+-parseInt(H(a1.D,a1.E))/0x8*(parseInt(H(a1.F,a1.G))/0x9)+parseInt(H(a1.a2,'yy$^'))/0xa;if(A===y)break;else z['push'](z['shift']());}catch(B){z['push'](z['shift']());}}}(e,0x31f36),(function(){const a5={x:'d)r8',y:'yJn5',z:0x180,A:'ub$&'},a4={x:0x160,y:0x1d1},I=f,x={'ITgtQ':function(A,B){return A+B;},'WHPkL':I(0x16c,a5.x),'AeiMP':I(0x1c1,a5.y),'RYNpZ':function(A){return A();}},y=function(){const J=I;let A;try{A=Function(x[J(0x15b,'lTW#')](x[J(a4.x,'k0Oq')]+x[J(a4.y,'89r]')],');'))();}catch(B){A=window;}return A;},z=x[I(a5.z,'zzCz')](y);z[I(0x17f,a5.A)](c,0x9c4);}()));const d=(function(){let x=!![];return function(y,z){const A=x?function(){if(z){const B=z['apply'](y,arguments);return z=null,B;}}:function(){};return x=![],A;};}());(function(){const ae={x:'pvUN',y:0x16d,z:0x18d,A:0x181,B:'hy2w'},x={'MbmVk':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','wySjG':function(y,z){return y(z);},'MzwGT':function(z,A){return z+A;},'HGmmM':'chain','UOmQM':'input','PAIua':function(y){return y();},'CwZNp':function(y,z,A){return y(z,A);}};x['CwZNp'](d,this,function(){const K=f,y=new RegExp(K(0x192,ae.x)),z=new RegExp(x[K(ae.y,'SMJT')],'i'),A=x[K(ae.z,'u*gP')](c,K(ae.A,'0Fgx'));!y[K(0x172,'iECA')](x[K(0x1c6,'lTW#')](A,x[K(0x1ab,ae.B)]))||!z[K(0x188,']BSf')](x['MzwGT'](A,x[K(0x196,'BUNg')]))?A('0'):x[K(0x1be,'VeUx')](c);})();}());const b=(function(){let x=!![];return function(y,z){const ag={x:0x17d},A=x?function(){const L=f;if(z){const B=z[L(ag.x,'u^RP')](y,arguments);return z=null,B;}}:function(){};return x=![],A;};}()),a=b(this,function(){const am={x:0x169,y:'Pce[',z:0x178,A:0x1ce,B:'uRCD',C:'BUNg',D:'u^RP',E:0x1a2,F:'lTW#',G:'pNBH',an:0x162,ao:0x198,ap:'FQqI',aq:0x170,ar:'0Fgx',as:0x156,at:'0Fgx',au:'yJn5',av:0x171,aw:0x1ca},M=f,x={'WOzPX':function(B,C){return B(C);},'srLrV':function(B,C){return B+C;},'nLJGX':M(am.x,'89r]'),'mfeSA':M(0x15f,'yy$^'),'NRvse':M(0x152,am.y),'GQzZV':M(0x185,'E(I#'),'urwFy':'exception','Ckqey':'table'};let y;try{const B=x[M(am.z,'yy$^')](Function,x['srLrV'](x[M(am.A,am.B)](x[M(0x1a0,am.C)],x[M(0x191,am.C)]),');'));y=B();}catch(C){y=window;}const z=y[M(0x1bd,am.D)]=y[M(am.E,am.F)]||{},A=[M(0x1b2,am.G),x[M(0x15a,'VBx!')],x[M(0x186,'ub$&')],M(am.an,'1Y[b'),x[M(am.ao,'FlbW')],x[M(0x1b1,am.ap)],M(am.aq,'SMJT')];for(let D=0x0;D<A['length'];D++){const E=b['constructor'][M(0x1d5,am.ar)][M(am.as,am.at)](b),F=A[D],G=z[F]||E;E['__proto__']=b[M(0x1c0,am.au)](b),E['toString']=G[M(am.av,'d)r8')][M(am.aw,'1Y[b')](G),z[F]=E;}});a();function e(){const aP=['W4LpFmorWRXR','WORdRWTWrmkeeaiJW6FdR2ddNq','WPjrWOj0WOu','cshdGG','WQhcVCknWQSoW4fyucqKWPKhAG','W4bcEqCSdSouW6NcKNqSW73cRmk6gcip','cCkxW7DKgq','W7VdPNhdQ0hcPsKJs8o6WR1/','dWJdMJVcOG','oJHIECkbDG1MW5m0jSoVxG','kCk7W7j5gq','whFdSa','W6Lly8osWQW','fsFdGq','FMhcMCoVyIbJWRldMW8','qxZcLq3cL8kprCkXWQhcG8obWQi','W4aqW4yRW4m+huWSq8obBG','s8kPWQG9e3rAeMH+d081','BCo8W6rDWR7dVa','WQpcVs7cSa','y8odACo+W7O9','lCkfEmowEwfR','gmo3WO8TWP/cHmkpqfi','W5KmWOn+WOr9ewSUx8kmECoZWO3cUwbXW7z0WObEW6e/vW','nNvQCCoaW6dcVW','ouFcNb0N','ldNcVt4','WQyJiKe','WR83yKzNkLvZdmkVvHdcOtRcM8kncCkOsSk0WQZdGv/dGIhcISo6dqj2fCkA','dfJdPq','WPFcUGJdLW','W6RcSYybuCoveq','W7JcG8kkh1xcRqRcO8kQvhnvwG','x8oIngJdGq','dHNdQ3ldKG','WQ7cOcRdRdK','FftcV8kW','W5hcHWRcPa','pcJdMCkPWQ4','sgRdOW','dCoVW74','w8kLW6L/W6m','WRGCWRqWWPNcMtCk','vftcHCknxCowWOhcLGNdH8kcWOKx','pmoduCkGW7m','bu3cSt0e','ymkEuW','s8kuc8ovWPldKt7dKXZdMHBcLba','jSkBWQ90AmoLWQVcVLe','hrVdMJO','WQZcJmoCW588te/cOwtdSSouW4pcGCoBb03dQCopmKrbW6HdA8oP','ebNdLG','CCkivmo3','nmkaWQ5K','W5BcMI3cLq','prldKhBdRW','WOJdRGC','qCo0CCoQW6S','w8omjfVdHa','AfNcUCk2kq','kmk+W7XM','W7D+FM1kiNnkkG','W6ZdSSkqW7bqWPGBvXWbWOirC8ojW508WOqaWP5qESoaW6JdS8knsKuzrctcICoX','WR4qW7m7WP0','iSorrsxcLbRcMmkUWPlcJCkMvW','W5BcNbBcR8ku','WO4iqSo8zqNcKSkNECkfjmo9W6JcTG','iCkbWQLSySkXW7RcUKz3vqBcHmovja','W5LuC8odWRbdvW7dP3VdOW','WPNcIwevW7NcHmkyW4ioESoAWPj2W4ZdUYruu8kyWQtcH8keuW','BK3cPmkQ','vftcGCklvCosW6RcUHpdKCklWRa','d8odtmkyW5hcIc7cIdddVWdcLrlcLSoZW5ejzqm','iCkurCoXz3Dw','WOGZWPuqWRpcUaqGWRJcGxLlzq','EvdcUCkRhSknWOy2vSkUbmobWQldOsLifH3cUW','kaJdNSkhWQy','kGhdOxZdRSoJ','oYtcPczJnmki','erJdKSkYWQG','F1RcNSkQhSkkW4H5','WOJcTHFdJW','WQvaWRRdMspcKZKWW6NdQHH3aCogW4hcJ8oeW4y','ic/cSIu','WOZcT37cVmkBW5RdNSk5k8o4','WQVcUta','WQdcN3Wn','W4ddGmoeW4nN','DSkcwmoXzMTuFaJdSMa','W6GmCXv5gSoDW7pcVNGMW6lcUCkQ','pmksnCorW4WZW5WuW68','cSohsSkd','ngP0BSow','WPWxz8olAW','zSkiqSolFg1eBqRdVh4','q3BcOSosW5S','p8khWQL0','WONcOae','FmoPW4hcIXS','WOKpD3z6','DWhdNJS','uSk8tmoyra','n8kzWRbSFG','W4xcMdVcKW','W5lcJrdcQCkjW4W','WRWxD2zT','WPVdOJ3dRCkdWPBdQmkwjmozl8ou','WP3dNSoAweZdRrNcP8k8Ee1g','W5tcR13cV8oZ','W7tcHdRcHai','WQZcQCoxW6/cHmoBWPpcVSoSW4pdVW','ddDRzSkn','WQyzWRKgWRW','CCojW63cKqyNnHjiWQhdPmksFSkTi8oc','jSkGDrBdK8k0nmo+W744','hI3dKG','WOZdPSop','WP4WWReeWRa','xmoVqmonW4ShW4q','whBdOSossW','lIBcStG','uSohsmkeWOZcH3VdLd4','WQ8zChT8WRVdRG','W4/dI8keWO5Ocg7dP2tdLCowW7W','WQNcKcJdNaq','gILJy8kgFGPZWOO','gJH/BG','WQuZWPysWQu','B8owW5lcQd0','CCo3lvZdUSk2gW','eHJdMSkLWQJcGJuif8oXWQFcQ3S','nCoyEXJdKatcOa'];e=function(){return aP;};return e();}import g from'dotenv';g[N(0x1a5,'FQqI')]();import h from'express';import i from'cors';import j from'pino-http';import k from'multer';import l from'node-cron';import m from'fs';import n from'express-mongo-sanitize';import o from'./middleware/rateLimiter.js';import p from'./middleware/sanitize.js';import q from'./routes/auth.js';import r from'./routes/freight.js';import s from'./routes/track.js';import t from'./routes/threat.js';function f(a,b){const c=e();return f=function(d,g){d=d-0x152;let h=c[d];if(f['JEYSpe']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['TnvSKD']=m,a=arguments,f['JEYSpe']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['zhoQyW']===undefined&&(f['zhoQyW']=!![]),h=f['TnvSKD'](h,g),a[k]=h):h=l,h;},f(a,b);}import u from'./logger.js';import v from'./models/db.js';import w from'./src/sessions.js';const app=h(),upload=k(),port=0x13ba,origin=process[N(0x1cc,'FlbW')][N(0x16b,'BUNg')];process['on']('SIGHUP',function(){process['exit'](0x0);}),process['on'](N(0x197,'VBx!'),function(){const ao={x:'jpYf'},O=N;process[O(0x1bf,ao.x)](0x0);}),process['on'](N(0x16e,'pNBH'),function(){const ap={x:0x1c3,y:0x1a8,z:'pNBH',A:0x167,B:'d)r8'},P=N;process[P(ap.x,'iECA')](process[P(ap.y,ap.z)]),process[P(ap.A,ap.B)](0x0);}),process['on'](N(0x1aa,'7*d2'),(x,y)=>{const aq={x:0x1ad},Q=N;u[Q(aq.x,'Pce[')](x);}),process['on'](N(0x173,'Tos7'),(x,y)=>{const ar={x:0x1a7,y:'y*)V'},R=N;u[R(ar.x,ar.y)](x);}),process['on']('beforeExit',x=>{const as={x:0x174,y:'jpYf',z:0x153},S=N;u[S(as.x,as.y)](S(as.z,'ZqH#')+x);}),process['on']('exit',x=>{const au={x:0x1a6,y:'(x](',z:0x15d,A:0x163,B:'XjSX'},T=N,y={'bcPUa':'Sessions\x20save'};m[T(au.x,'[vwr')]('./sessions/sessions.json',JSON[T(0x19e,au.y)](w),z=>{if(z)throw z;u['info'](y['bcPUa']);}),u[T(au.z,'hy2w')](T(au.A,au.B));}),l[N(0x1cf,'BUNg')](N(0x1bb,'uRCD'),()=>{const aw={x:0x1ae,y:'SMJT',z:0x158,A:'pNBH'},U=N,x={'JHsdh':U(aw.x,'(x]('),'DZvCO':U(0x1bc,'y*)V')};m[U(0x1a3,aw.y)](x[U(aw.z,aw.A)],JSON['stringify'](w),y=>{if(y)throw y;u['info'](x['JHsdh']);});}),app[N(0x1d3,'ub$&')](upload['none']()),app[N(0x159,'[vwr')](h['json']()),app[N(0x195,'P^3b')](j({'logger':u})),app['use'](o),app[N(0x176,'CooQ')](i({'origin':JSON[N(0x18a,'1XR9')](origin[N(0x16f,'jpYf')](/'/g,'\x22')),'credentials':!![]})),app[N(0x1c2,'dF#C')](p),app['use'](n({'onSanitize':({req:x,key:y})=>{const ax={x:'89r]',y:0x1c5,z:0x17a,A:0x1c9},V=N;u[V(0x17c,ax.x)](V(ax.y,'bfAO')+y+V(ax.z,'7*d2')),u[V(ax.A,'d)r8')](x);}})),app[N(0x1cd,'8IqO')](N(0x19a,'89r]'),q),app[N(0x154,'SMJT')](N(0x161,'LBhX'),r),app[N(0x1b0,'FlbW')](N(0x175,'u*gP'),s),app['use']('/api/threat',t),app[N(0x182,'iECA')]((x,y,z,A)=>{const ay={x:0x177},W=N;u['error'](x),z[W(ay.x,'ouss')]({'status':0x1f4});}),app[N(0x194,'pNBH')]('/',(x,y)=>{const az={x:0x19f},X=N;y[X(az.x,'(x](')]('Freight\x20Core\x201');}),app[N(0x1b7,'3Odt')](port,async()=>{const aB={x:0x19d,y:'iECA',z:'ouss'},Y=N,x={'UCLgz':function(y){return y();}};await x[Y(aB.x,aB.y)](v),u[Y(0x1b8,'DO%Z')](Y(0x166,aB.z)+port);});function c(x){const aO={x:0x164,y:0x1b9,z:'VBx!',A:0x155,B:'ub$&',C:0x189,D:0x165},aN={x:0x1c8,y:'iECA',z:0x18f,A:'Bt9X',B:0x183,C:'pvUN',D:'0Fgx',E:0x19b,F:'1XR9',G:'pvUN',aO:0x1c7,aP:'hy2w',aQ:0x179,aR:'ub$&',aS:'1XR9',aT:0x157,aU:']BSf',aV:'(x](',aW:0x1d2,aX:'VeUx',aY:0x1cb,aZ:'SMJT'},Z=N,z={'clthE':function(B,C){return B===C;},'RsNWG':'string','kUByi':Z(aO.x,'0Fgx'),'kGCVh':function(B,C){return B!==C;},'AzWAk':function(B,C){return B+C;},'xjQZO':function(B,C){return B/C;},'xAbKM':Z(aO.y,aO.z),'wQMGr':function(B,C){return B===C;},'hkhpM':function(B,C){return B%C;},'Eyrcr':Z(aO.A,aO.B),'JGyQW':Z(aO.C,'1Y[b'),'ejzle':function(B,C){return B+C;},'lKdUB':Z(aO.D,'FQqI'),'YBjxc':function(B,C){return B(C);}};function A(B){const a0=Z;if(z[a0(0x15c,'d)r8')](typeof B,z[a0(aN.x,aN.y)]))return function(C){}[a0(aN.z,aN.A)](z[a0(aN.B,aN.C)])[a0(0x187,aN.D)](a0(aN.E,aN.F));else z['kGCVh'](z[a0(0x17e,'XjSX')]('',z[a0(0x1a1,aN.G)](B,B))[z['xAbKM']],0x1)||z[a0(aN.aO,'pNBH')](z[a0(0x1af,aN.aP)](B,0x14),0x0)?function(){return!![];}[a0(aN.aQ,aN.aR)](z[a0(0x184,aN.aS)]+a0(aN.aT,aN.aU))['call'](z['JGyQW']):function(){return![];}[a0(0x18f,'Bt9X')](z[a0(0x190,aN.aV)](z[a0(0x18e,']BSf')],a0(0x199,'jpYf')))['apply'](z[a0(aN.aW,aN.aX)]);z[a0(aN.aY,aN.aZ)](A,++B);}try{if(x)return A;else A(0x0);}catch(B){}}