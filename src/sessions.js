const B=f;(function(j,k){const K={j:0x1fb,k:'^Ic#',l:'*IAF',m:'D&&p',n:0x1fc,o:0x207,p:'zdN2',q:0x1e6,r:'lE)[',L:'lE)['},s=f,l=j();while(!![]){try{const m=-parseInt(s(K.j,K.k))/0x1+-parseInt(s(0x204,K.l))/0x2+-parseInt(s(0x1c8,K.m))/0x3*(parseInt(s(K.n,'p@k*'))/0x4)+parseInt(s(K.o,'oMXI'))/0x5*(parseInt(s(0x1a4,K.p))/0x6)+parseInt(s(0x1f9,'xHMD'))/0x7+-parseInt(s(K.q,K.r))/0x8+parseInt(s(0x1ad,'(yH5'))/0x9*(parseInt(s(0x1e4,K.L))/0xa);if(m===k)break;else l['push'](l['shift']());}catch(n){l['push'](l['shift']());}}}(e,0xa48f1));const d=(function(){const L={j:']&g%'};let j=!![];return function(k,l){const m=j?function(){const t=f;if(l){const n=l[t(0x1d1,L.j)](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}());(function(){const U={j:'xHMD',k:'FuX9',l:0x1b3,m:'Po]U',n:0x1f7,o:'5ja$',p:'b@)C'},T={j:'Cj6i',k:0x20d,l:']&g%',m:0x1a6,n:'NTK3'},u=f,j={'CtZHA':u(0x201,U.j),'DfXYu':function(k,l){return k(l);},'AISzk':u(0x1c3,U.k),'ejXOt':function(k,l){return k+l;},'rVPBQ':u(U.l,U.m),'KkDSQ':u(U.n,U.o),'YXJKX':function(k){return k();},'IOMgM':function(k,l,m){return k(l,m);}};j[u(0x1c7,U.p)](d,this,function(){const v=u,k=new RegExp(j['CtZHA']),l=new RegExp(v(0x1c2,'^Ic#'),'i'),m=j['DfXYu'](c,j[v(0x1e1,T.j)]);!k[v(0x1a6,'wUXG')](j[v(T.k,T.l)](m,j['rVPBQ']))||!l[v(T.m,'wUXG')](j['ejXOt'](m,j[v(0x1b9,T.n)]))?m('0'):j[v(0x1c9,'3XY!')](c);})();}());function e(){const au=['WPNcJ3P2','W48YDgPO','xCoQWPBdSW','mmkIW6NdRaW','W5OWFej/','xCkWemkkWOTEW4hdSXLxW5e','t0ZcLmosfKJdHq','mc8VW6pcKW','WO0FWOn9W4CFWQBdU8k9uGzsW5pdObxdQmosWPJdVG','jsBcM8k/yK1WWONcJCk4W5rNWRS','eCkorSkIzG','FSkMpgDl','W45Lu1xdTCk6lSoQWOVdHHW','WOuotSoXWOaNWRVcMSkHaaZdGc7dPSkGW59yWOm8','rSokemoEcfu0yCkvWRuXea','FNhdPSovoq','W5LVtLi','DqrOgJy','CHJcIXpdI8k5dmoDW5a2W7Ol','zmo+WRFcV3GjWOpdLfLhdmorea','WQ8oWRr+W4y','cLCnxG','FmonBmkY','WO1fWQdcVHidWPHfqmooWOhcJ8kX','FuaxWP7cGIrIW5VcKSotW4yqWRxcH8kcWROalZFcHCkLurDO','cuyaxX/dTMvagW','jCk1CCo/c2RdUa','n1dcQmojD2hdGSoP','WOLgjSkH','WQhcRCkfWRqn','w8kYh8kqWPm','jK7dKKBcImoN','W5ddOCkSW44q','nmk9jSoiWOfqvSkfW4PNzIJdMq','nmklW6hcTa','DCk0oSkQWQ4','B8oaz8kRW65CeWvdErpcISofF8kh','wCoQWPBdSWzJWQm','W7veuCkiW7tdHCo8oSk7yqmhBKFdHCo6W6JdGW','ChtdO8oIna','imkCW5tcI8oiDW','qSkhW5D8W5C','WQWLCNZcIZNdMmoJW4y','WONcLN0NAG','d0q4W5ddKx0JWOVdHSo7WOHoWQRcTCoCWOKWzrNdSmo/d0fNBwvQFCkSWP5Mp8oWW6a','WPyuWP58','pmklW5xcISovCWe','CvbOvKm','WPeAy0xcKa','qLtcGdrm','x3y2yatdL2q','W73dO8kTW4Gl','ESovWRaLW7rClhfFbSoYCuusW7iUW5CvW5ldSCkAW5tcNCkL','yWZcKmoC','W5qdrmkdgW','AIpcPSoFFG','WRG2zwC','WOTxoSkHW6G','WQWUsLirWRiWsComvgFdNW','W4SOxeLL','gHOhWPNcVW','D14CW5ZcOG','W5uuW7fj','WOa4za','FCkFov9ptG','W4uRWRBcRmkK','WPHck8kPW5D3W4KVcNxcQCoh','W5vWrCkxW78','W6Xyz0ddHW','mmkEW4/dSY8amSoiWRFdMSoh','zCkSW7r1W4G','WO8EWPbGW4a','z8oJWO3cV28MWOtdNW','nCkzWRCPW6Hb','sCk+dmkx','WPa1gd7dTq','W4q1WQdcL8kk','rwiEW4ZcRW','W67dSSoKlKVdJhtdSq','h8kCt8k/WOK','W6tdUSkrFYVcJG7dK8opwSkDWOtcHq','WPBdJqZcM8opbG','kZvnWPtdSCooW5zwWQldTG','WPOzWQfpW7q','WOaZW507WRn7W4xdRa','du4tvHy','W6X6hW1e','ESovWRaLW7rClhfFbG','W4Klw8kg','v8kXgmkw','WQ7cQSkd','DCkTW6nOW4K','W5m7W6RcJmk/WO8kW6SXW53cSSkjvsddHSoYWOfugCk3W7KpW7FcQvBdMmoFACkedmoxwW','kutdKLlcImo9cCoyW6upW7G','qLFcGmonna','w1dcI8okna','e8knASk8','ESoIWQ7cVMK','vvLODKO','WPLvcmoqW5JdOHfQrc7cMf/cRq','W6XGostdLMZdTSonW5z6WPRcHG','yf5DW4RdGMvmW7ZcLColWOaR','WO9bWRGiCSk/e8oKlvldUf/cJG','W5CxW4fOlG','DvHXsu7dUMXDj2O','WOddLb/cM8on','W4pdNmkcW7e','W4yqu8kkWP7cUK9XkfpcKYtdVuDXWPi','WQS+u2hcLZFdN8oI','DSoIWQG','ySoxWRJdO8oeDZy3u8kysmo8','feHIWQGFb8kiwSkXpCkX','WPpdKqtcMCoc','WO56w8k1gJX1la','wfhcGmoFbW','D8oUvSkGW6y','ucBcJ8oXva','ySk3W6H+'];e=function(){return au;};return e();}const b=(function(){let j=!![];return function(k,l){const m=j?function(){const w=f;if(l){const n=l[w(0x1cf,'&rCL')](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){const a4={j:0x1a3,k:'Cn4G',l:0x1af,m:'D&&p',n:0x1ec,o:0x1e5,p:'3DVE',q:0x1f0,r:0x1d2,a5:'^Ic#',a6:0x1dc,a7:'ptE8',a8:0x206,a9:'NTK3',aa:0x1b8,ab:'*IAF',ac:'yJ57',ad:'5ja$'},a3={j:0x1e3,k:'qPVq',l:'*[Gr',m:'*[Gr'},x=f,j={'aqIJH':function(o,p){return o+p;},'WQcya':function(o,p){return o+p;},'ntaqV':x(a4.j,a4.k),'wsjvV':x(0x1f2,'2c9I'),'htGvX':function(o){return o();},'bvuti':x(0x1e0,'NTK3'),'IucbN':'info','YFtZo':x(a4.l,a4.m),'NKcPu':x(a4.n,'oq&e'),'ExLXJ':x(0x208,'*[Gr'),'vhzkc':function(o,p){return o<p;}},k=function(){const y=x;let o;try{o=Function(j['aqIJH'](j[y(a3.j,a3.k)](j[y(0x1f4,a3.l)],j[y(0x1f5,a3.m)]),');'))();}catch(p){o=window;}return o;},l=j[x(a4.o,a4.p)](k),m=l['console']=l['console']||{},n=[x(a4.q,'Po]U'),j['bvuti'],j[x(a4.r,a4.a5)],x(a4.a6,a4.a7),j['YFtZo'],j[x(0x1c6,'Y#KX')],j['ExLXJ']];for(let o=0x0;j[x(a4.a8,'rKrV')](o,n[x(0x1b5,'uJ6x')]);o++){const p=b[x(0x211,a4.a9)]['prototype'][x(a4.aa,a4.ab)](b),q=n[o],r=m[q]||p;p['__proto__']=b[x(0x20e,a4.ac)](b),p[x(0x1de,a4.ad)]=r[x(0x202,'Y#KX')][x(0x20b,'ptE8')](r),m[q]=p;}});a();import g from'fs';import h from'../models/db.js';import i from'../logger.js';let sessions={};(function(){const a9={j:'FuX9',k:'&]1i'},a8={j:0x1dd},z=f,j={'pdghu':function(m,n){return m+n;},'tZKMC':function(m,n){return m+n;},'UCqIG':z(0x19e,a9.j),'cSHlW':function(m){return m();}},k=function(){const A=z;let m;try{m=Function(j[A(a8.j,'FuX9')](j[A(0x1b6,'3XY!')](j[A(0x20a,'2@2!')],'{}.constructor(\x22return\x20this\x22)(\x20)'),');'))();}catch(n){m=window;}return m;},l=j[z(0x20f,'g2R8')](k);l[z(0x205,a9.k)](c,0x9c4);}()),g['mkdir'](B(0x1ed,'jtE4'),{'recursive':!![]},j=>{if(j)throw j;});g[B(0x1fe,'Exxl')](B(0x1ca,'jtE4'))&&(sessions=JSON['parse'](g[B(0x1d8,'&rCL')]('./sessions/sessions.json',B(0x20c,'F@tb'))),i[B(0x1ef,'NTK3')](B(0x1bc,'JCEi')));export const addUserProfileToSession=j=>{const ab={j:0x1c4,k:'%frT',l:0x1cd},C=B,k={'oFXgm':C(ab.j,'u7#x')};!sessions[j[C(0x1a7,ab.k)]]&&(sessions[j['email']]={}),!sessions[j[C(0x1b4,'NTK3')]][k[C(ab.l,'2@2!')]]&&(sessions[j[C(0x1c1,'F@tb')]][k[C(0x209,'LL6q')]]=j);};export const addSession=(j,k,l,m)=>{const ad={j:0x1ff,k:'rKrV',l:'qPVq',m:0x203,n:'5ja$',o:'^Ic#',p:0x1c0,q:'Y#KX'},ac={j:'zdN2'},D=B,n={'owaNY':'Sessions\x20save'};!sessions[j[D(ad.j,ad.k)]]&&(sessions[j['email']]={}),sessions[j[D(0x1d3,ad.l)]][k]={'active':!![],'ip_address':l,'user_agent':m,'last_accessed':Date['now']()},process[D(ad.m,ad.n)]['DEBUG']&&g[D(0x1a9,ad.n)](D(0x1ae,ad.o),JSON[D(ad.p,ad.q)](sessions),o=>{const E=D;if(o)throw o;i[E(0x1ee,'xHMD')](n[E(0x1a0,ac.j)]);});};export const getEmailAddress=j=>{const ae={j:0x1d4,k:0x1ab,l:'D&&p'},F=B;return Object[F(ae.j,'p@k*')](sessions)[F(ae.k,ae.l)](k=>sessions[k][j]);};function f(a,b){const c=e();return f=function(d,g){d=d-0x19e;let h=c[d];if(f['RTwglb']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['UGYEAJ']=m,a=arguments,f['RTwglb']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['OmZKev']===undefined&&(f['OmZKev']=!![]),h=f['UGYEAJ'](h,g),a[k]=h):h=l,h;},f(a,b);}export const getUserId=async j=>{const ah={j:'@4(m',k:0x1da,l:'!t5B',m:0x1f1,n:'ptE8',o:0x1bb,p:0x1d5,q:'Y#KX'},G=B,k={'gcLef':function(p,q){return p(q);},'ARZfF':function(p){return p();}},l=k[G(0x1bd,ah.j)](getEmailAddress,j),m=await k[G(ah.k,'wUXG')](h),n=m[G(0x1e8,ah.l)](G(ah.m,ah.n)),o=await n[G(ah.o,'yJ57')]({'email':l});return i['info'](o),o[G(ah.p,ah.q)];};export const removeSession=j=>{const ai={j:'2@2!',k:0x1d6},H=B,k=Object['keys'](sessions)[H(0x1cb,ai.j)](l=>sessions[l][j]);if(k){const l=sessions[k][j];l&&(l[H(ai.k,'k9ak')]=![]);}};export default sessions;function c(j){const at={j:0x1e7,k:'rKrV',l:0x212,m:'jtE4',n:0x1f6,o:0x1a5,p:'@4(m'},as={j:0x1e2,k:0x1f3,l:0x210,m:']&g%',n:0x1c5,o:0x1aa,p:'FuX9',q:0x1e9,r:'u7#x',at:0x1db,au:0x1d9,av:'JCEi',aw:0x1ac,ax:'LL6q',ay:'oMXI',az:0x1b2,aA:'&rCL',aB:'wUXG',aC:'Y#KX',aD:'D&&p',aE:0x1d7,aF:0x1fd},I=B,k={'avKMR':function(m,n){return m===n;},'lsdxZ':I(at.j,at.k),'phPgc':I(0x1ba,'LL6q'),'EypLp':I(at.l,'*[Gr'),'PtCvs':function(m,n){return m+n;},'ecVGA':function(m,n){return m/n;},'BYQfm':function(m,n){return m===n;},'sQglb':function(m,n){return m+n;},'hLIGe':I(0x200,'3XY!'),'bZqQr':I(0x1df,at.m),'gARqU':I(at.n,'3DVE'),'mmrCt':'stateObject','ifIRk':function(m,n){return m(n);}};function l(m){const J=I;if(k[J(0x213,'lGiI')](typeof m,k[J(as.j,'2c9I')]))return function(n){}[J(as.k,'uJ6x')](k[J(as.l,as.m)])[J(as.n,'Exxl')](k[J(0x1f8,'Exxl')]);else k[J(as.o,as.p)]('',k[J(as.q,'FuX9')](m,m))[J(0x1be,as.r)]!==0x1||k[J(0x1bf,'ptE8')](m%0x14,0x0)?function(){return!![];}[J(as.at,'g2R8')](k[J(as.au,as.av)](J(as.aw,as.ax),k[J(0x1cc,as.ay)]))[J(as.az,as.aA)](k[J(0x1a1,'k9ak')]):function(){return![];}[J(0x1a2,as.aB)](k['gARqU']+J(0x1ce,as.aC))[J(0x1eb,as.aD)](k[J(as.aE,'2c9I')]);k[J(as.aF,'p@k*')](l,++m);}try{if(j)return l;else k[I(at.o,at.p)](l,0x0);}catch(m){}}