const H=f;(function(o,p){const R={o:'uZzs',p:0x108,q:0x160,r:0x125,s:'vIE4',t:0x128,u:0x111,v:0x11b,w:0x104,x:'894O',y:'FL#5',z:0x164,A:'Jznk'},C=f,q=o();while(!![]){try{const r=parseInt(C(0x16a,R.o))/0x1*(parseInt(C(R.p,'TCTV'))/0x2)+parseInt(C(R.q,'krwG'))/0x3+-parseInt(C(R.r,R.s))/0x4+-parseInt(C(R.t,'PLQ)'))/0x5*(-parseInt(C(R.u,'n85^'))/0x6)+parseInt(C(R.v,'TCTV'))/0x7+parseInt(C(R.w,R.x))/0x8*(parseInt(C(0xfe,R.y))/0x9)+parseInt(C(R.z,'Jznk'))/0xa*(-parseInt(C(0x14e,R.A))/0xb);if(r===p)break;else q['push'](q['shift']());}catch(s){q['push'](q['shift']());}}}(e,0x38cab));const d=(function(){const S={o:0x123};let o=!![];return function(p,q){const r=o?function(){const D=f;if(q){const s=q[D(S.o,'fPpy')](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}());(function(){const a2={o:0x13c,p:0x11d,q:'B(5i',r:0x109},a1={o:0x168,p:'36c9',q:0x13b,r:'FdqS',s:']([(',t:0x107,u:'ij2P',v:']([(',w:'JB!u',x:'FAl(',y:0x117},E=f,o={'VkTRP':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','OzlBW':function(p,q){return p(q);},'aTypo':E(a2.o,'TCTV'),'dRVow':function(p,q){return p+q;},'PkoBV':E(a2.p,'1#%9'),'pHPxO':E(0x130,a2.q),'dfDwP':function(p,q){return p(q);},'WDdmK':function(p){return p();},'RtkOQ':function(p,q,r){return p(q,r);}};o[E(a2.r,'rMp1')](d,this,function(){const F=E,p=new RegExp(F(0x100,'FL#5')),q=new RegExp(o[F(a1.o,'H3D[')],'i'),r=o[F(0x126,a1.p)](c,o[F(a1.q,a1.r)]);!p[F(0x13d,a1.s)](o[F(a1.t,a1.u)](r,o[F(0x12c,a1.v)]))||!q[F(0x10f,a1.w)](o[F(0x134,a1.x)](r,o['pHPxO']))?o[F(a1.y,'PLQ)')](r,'0'):o['WDdmK'](c);})();}());function e(){const aB=['gmkHxSoIWOjFnNNcKXZcU2i','W6CTW7DU','W77cTwJcRIS','wZNcLwuTpKddSMHqewC','lCoUkvTU','t17dRx5J','WQddGCoWW5WoW6NcRCoVc8o+W45Y','gNRdG0rJ','WQNcKComFc3dOq','W5iTdrlcGCkylXS','W5NdSsHKDq','W6iRW7DSzbm','WOjrW7/cHMa','dCkCFsBdSq','d8o7mNfT','WPPzW6KXW7y','DqtcI0/cSq','WPHpW6BcV3i','oColghHq','kSkwyaO','suddRfHr','W6uwW49LEG','jCoYWPXsW7NcTSkhW6JdKLBcRmof','EY3dOCkwmaxcV8o5W5q','W6VdGmkYW4RdUSkEoSopv0K','AI3dJfe','WRLcW4/cMMq','vmk3W4SpWOG','W5ZdOXbJAq','WRtcMCoOWOy','kCksyra','W6VdLxu','W5ihiMJcSCkyW7LQ','Dd7dJKbDW7dcRSoXW7u','imo/kKniwIL0BCk3W5L+eW','sCkVWO1j','WO04WQBdPa','WPTsW7NcPa','jSkSWOtdJHq','d8o/rZhdPb4HtSo4WRG','yWlcJK4','hSoQWOSsWR/dISkHBsC','WRu+WPO8WOu','W5SNW5HiDW','fqvaW6ZcTq','WOzYW73cRva','W7/cU8k0W5qaW4KqW59J','c3RcKgWle1pdVW','ohrvW6Sh','ydRdHMDM','kCoSk1HL','cSkIvGddPq','WQNcMmosWOBdNCkqm8oo','WRiAWQW5WPC','lbpcQNmw','WRNdM8ogD8oa','pbj/W4FcKta','WRVcHCoUWP/dOCkwkG','FZJdOa','qCk1y8kwW6/cQW','WQBcM8omAdBdPCoB','sctcMMG','jMxdM09ADb3cJ8kOhmoh','B8oars/dJ8kmqaO','W6T+W4uAW7W','s8k/f3dcG01+zmovWQGPW5hdSa','zSk4WOedWQldOmkKW4tdQutcPmoEnCoHCSk8WQK1W4XwEqdcUmoahI3dULFdJCoHfSkT','W550WQ/dOG','WPLaW7C5','dxpdGZ53CXxdTfjRjgtcSq','WP5wW5hcJuC','duXwnbL8zmkjWQmeWRNdKgBcSvy','r8ozgHORWPS','WRGYWP7dMSoR','FYFdOmkQirpcUa','W7FdGSkBkMVcVSoRtvaRWPlcRG','WOVcTahdGW','lXxdQa','W6lcTCkqW5W9','WOf2W6ZcSLZcUf3dVa','WQDItqFdTSoiW6pcPa','WQFcHeO6W7K','W7mGDc/dQSo3W73cIcHKW6RcHSojtSoBCa','W4pcMSkwlCkWeLWQWQLmWOjn','qmkrW4dcSXpcHmkLnSkTWRPdcmkD','FaRcQmorW6xdOX8','jSkfw1T7W5TuwxldIG5W','WR7cMmoTWP7dISkAkCoaqgm','W75sWO/dMqG','zttdJhdcKq','W6/cTmoNWR3dL8k3ka','eq7dPmowvq','WOdcQWi','amocWOldV1JdKSk3ASkBWPH1jSkTaCo2Bw5YWQ0','pgb1W4WC','smopraZdGZeZ','gZxcIfSj','WPVcGMaE','zmkbW6BdUcjWWPddISo6y8oyWQVdOxxcKNCrW6xdQfSMDmo6rGldNmo5tCk/W7dcP3q','pLldMSkBW4ldPqhdSWRcUa','cvbElaKV','uGjOW4/cIq','W60rW55bqa','lSkbWP3dUY7dIuOKpvTv','g0DlmrmY','WOj7iIlcLq','errLW4NcKZ0','CSo6hGqF','BtpdNvtcQW','W6/dGCk3W4VcLSobB8oDF1RdLmo8jG','cr5yW5RcLtZcRSo3','WPpdGCodCCoR','AKldP19T'];e=function(){return aB;};return e();}const b=(function(){let o=!![];return function(p,q){const r=o?function(){if(q){const s=q['apply'](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}()),a=b(this,function(){const ab={o:0x10b,p:'akCL',q:0x132,r:']([(',s:0x14d,t:0x14c,u:'SFbk',v:0x154,w:0x12d,x:'fPpy',y:0x12b,z:0x161,A:'NlLw',B:0x119,ac:'894O',ad:0x15b,ae:0x129,af:'FdqS',ag:0x162,ah:0x151,ai:0x14f,aj:'Lfz2',ak:0x152,al:'f%04',am:0x10e,an:0x140,ao:0x142,ap:0x148,aq:0x163,ar:0x11c,as:0x147,at:'9bvS'},G=f,o={'CekFz':function(s,t){return s(t);},'sVWfw':function(s,t){return s+t;},'spiLf':G(ab.o,ab.p),'gLqjQ':function(s){return s();},'tZLyK':G(0x16c,'rMp1'),'dFAws':G(ab.q,ab.r),'Iwenc':G(ab.s,'Ys^V'),'WUDdB':G(ab.t,ab.u),'QyZxP':G(ab.v,'DW2Z'),'VBOAq':function(s,t){return s<t;}};let p;try{const s=o[G(ab.w,ab.x)](Function,o[G(0x149,'DW2Z')](o['sVWfw'](o[G(ab.y,'B(5i')],G(ab.z,ab.A)),');'));p=o[G(ab.B,ab.ac)](s);}catch(t){p=window;}const q=p[G(ab.ad,'uZzs')]=p['console']||{},r=[o['tZLyK'],o[G(ab.ae,ab.af)],G(ab.ag,'Z37h'),G(ab.ah,ab.x),o[G(ab.ai,ab.aj)],o[G(ab.ak,ab.r)],o[G(0x121,ab.al)]];for(let u=0x0;o[G(ab.am,'&r@s')](u,r[G(0x127,'uZzs')]);u++){const v=b['constructor'][G(ab.an,'QfOu')][G(ab.ao,'edA3')](b),w=r[u],x=q[w]||v;v[G(ab.ap,'RC!s')]=b[G(ab.aq,'I)^%')](b),v[G(0x153,'TCTV')]=x[G(ab.ar,'T9#w')][G(ab.as,ab.at)](x),q[w]=v;}});a();import g from'dotenv';g[H(0x12a,'FAl(')]();import{ObjectId}from'mongodb';import h from'express';import i from'moment';import j from'ua-parser-js';import k from'../../models/db.js';import l from'../../components/logger.js';function f(a,b){const c=e();return f=function(d,g){d=d-0xfe;let h=c[d];if(f['fIxbIF']===undefined){var i=function(n){const o='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let p='',q='';for(let r=0x0,s,t,u=0x0;t=n['charAt'](u++);~t&&(s=r%0x4?s*0x40+t:t,r++%0x4)?p+=String['fromCharCode'](0xff&s>>(-0x2*r&0x6)):0x0){t=o['indexOf'](t);}for(let v=0x0,w=p['length'];v<w;v++){q+='%'+('00'+p['charCodeAt'](v)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(q);};const m=function(n,o){let p=[],q=0x0,r,t='';n=i(n);let u;for(u=0x0;u<0x100;u++){p[u]=u;}for(u=0x0;u<0x100;u++){q=(q+p[u]+o['charCodeAt'](u%o['length']))%0x100,r=p[u],p[u]=p[q],p[q]=r;}u=0x0,q=0x0;for(let v=0x0;v<n['length'];v++){u=(u+0x1)%0x100,q=(q+p[u])%0x100,r=p[u],p[u]=p[q],p[q]=r,t+=String['fromCharCode'](n['charCodeAt'](v)^p[(p[u]+p[q])%0x100]);}return t;};f['vbonOc']=m,a=arguments,f['fIxbIF']=!![];}const j=c[0x0],k=d+j,l=a[k];return!l?(f['OBFyek']===undefined&&(f['OBFyek']=!![]),h=f['vbonOc'](h,g),a[k]=h):h=l,h;},f(a,b);}import m from'../../components/scm.js';import n from'../../middleware/auth.js';import{getUser}from'../../components/sessions.js';const router=h[H(0x167,'894O')]();(function(){const ag={o:0x15d},af={o:0x150,p:'QfOu'},I=H,o={'zrIxQ':function(r,s){return r+s;},'dvgST':function(r,s){return r+s;},'uUAOG':I(0x110,'pMOT'),'htKBR':function(r){return r();}},p=function(){const J=I;let r;try{r=Function(o['zrIxQ'](o[J(af.o,af.p)]('return\x20(function()\x20',o[J(0x131,'fPpy')]),');'))();}catch(s){r=window;}return r;},q=o[I(0x14b,'T9#w')](p);q[I(ag.o,'36c9')](c,0x9c4);}()),router['get']('/',n,async(o,p)=>{const am={o:0x157,p:0x16e,q:0x155,r:'5cVK',s:0x15a,t:'oBdL'},al={o:'NlLw',p:'9bvS',q:'TCTV',r:0x165,s:0x120,t:'FAl(',u:'Jznk',v:'^vb2'},K=H,q={'ZcABz':K(am.o,'T9#w'),'IrdoE':function(t,u){return t(u);},'lENLr':K(am.p,'SFbk'),'htNLS':K(am.q,'&r@s'),'kBwFN':function(t){return t();}},[r,s]=await Promise[K(0x10a,'I[3S')]([q[K(0x145,am.r)](m),((async()=>{const ak={o:0x146,p:0x14a,q:'FAl(',r:'1#%9',s:0x141,t:'TCTV'},aj={o:'I22D',p:'I22D',q:0x122},L=K,t=await q[L(0x13a,al.o)](getUser,o[L(0x12f,al.p)]),u=await k(),v=await u[L(0x105,al.q)](q[L(al.r,'SFbk')]),w=await v[L(al.s,al.t)](t[L(0x15c,al.u)]!==q['htNLS']?{'user_id':new ObjectId(t[L(0x13e,al.v)])}:{})['sort']({'last_accessed':-0x1})[L(0x103,'n85^')](),x=y=>{const M=L,z=new j(y),A=z[M(0x136,aj.o)]();return A['browser']['name']+'\x20'+A['os'][M(0x138,'QfOu')]+'\x20'+A[M(0x159,aj.p)][M(aj.q,'Jznk')];};return w['map'](y=>{const N=L,z=x(y[N(ak.o,'krwG')]),A=y['status']?q[N(ak.p,ak.q)]:'Inactive',B=q[N(0x156,ak.r)](i,y[N(ak.s,'fPpy')])[N(0x158,ak.t)]();return{...y,'user_agent':z,'active':A,'last_accessed':B};});})())]);return p[K(am.s,am.t)](0xc8)[K(0x144,'B(5i')]({'scm':r,'sessions':s});}),router['get'](H(0x113,'T9#w'),n,async(o,p)=>{const ao={o:'Z37h',p:'EIFh',q:0x16b},O=H,q={'IHFTu':function(s){return s();}},[r]=await Promise['all']([q[O(0x106,ao.o)](m)]);return p[O(0x112,ao.p)](0xc8)[O(ao.q,'I[3S')]({'scm':r});});export default router;function c(o){const aA={o:0x169,p:'I22D',q:'T9#w',r:'EIFh'},az={o:0x11e,p:'EhX9',q:0x115,r:'5cVK',s:0x166,t:'EIFh',u:0x15f,v:0x16d,w:0x124,x:0x114,y:'FAl(',z:0x10c,A:'Lfz2',B:0xff,aA:'JB!u',aB:'ij2P',aC:0x12e},P=H,p={'iEdhV':function(r,s){return r===s;},'JGooj':P(aA.o,aA.p),'xLqEr':function(r,s){return r!==s;},'HcYPb':function(r,s){return r+s;},'EeJll':function(r,s){return r/s;},'xvGmM':P(0x118,aA.q),'VbUJw':function(r,s){return r===s;},'LYnIX':function(r,s){return r%s;},'lUGKM':'debu','McEIx':'gger','AsAQr':P(0x116,aA.r),'dlwqN':'stateObject','VKtaK':function(r,s){return r(s);}};function q(r){const Q=P;if(p[Q(az.o,az.p)](typeof r,'string'))return function(s){}[Q(az.q,az.r)](Q(az.s,az.t))['apply'](p[Q(0x133,'EhX9')]);else p['xLqEr'](p[Q(0x139,'B(5i')]('',p[Q(az.u,'Q#[P')](r,r))[p[Q(az.v,'Ys^V')]],0x1)||p['VbUJw'](p[Q(az.w,'EhX9')](r,0x14),0x0)?function(){return!![];}['constructor'](p['HcYPb'](p[Q(az.x,az.y)],p[Q(az.z,az.A)]))[Q(0x143,'H3D[')](p['AsAQr']):function(){return![];}['constructor'](p[Q(az.B,az.aA)](p[Q(0x11a,az.aB)],p['McEIx']))[Q(az.aC,'I)^%')](p['dlwqN']);q(++r);}try{if(o)return q;else p['VKtaK'](q,0x0);}catch(r){}}